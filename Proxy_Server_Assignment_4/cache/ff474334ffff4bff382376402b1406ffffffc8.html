HTTP/1.1 200 OK
Content-Type: application/javascript; charset=UTF-8
x-servedByHost: ::ffff:172.17.3.20
access-control-allow-origin: *
cache-control: max-age=2592000
content-security-policy: default-src 'self' blob: https://*.cnn.com:* http://*.cnn.com:* *.cnn.io:* *.cnn.net:* *.turner.com:* *.turner.io:* *.ugdturner.com:* courageousstudio.com *.vgtf.net:*; script-src 'unsafe-eval' 'unsafe-inline' 'self' *; style-src 'unsafe-inline' 'self' blob: *; child-src 'self' blob: *; frame-src 'self' *; object-src 'self' *; img-src 'self' data: blob: *; media-src 'self' data: blob: *; font-src 'self' data: *; connect-src 'self' *; frame-ancestors 'self' *.cnn.com:* *.turner.com:* courageousstudio.com;
x-content-type-options: nosniff
x-xss-protection: 1; mode=block
Via: 1.1 varnish
Fastly-Debug-Digest: ea8a97f1ee83168e1ed717092c23b54721d365242ec7218f86fd5147072f0ec5
Content-Length: 287383
Accept-Ranges: bytes
Date: Wed, 06 Dec 2017 08:03:53 GMT
Via: 1.1 varnish
Age: 737885
Connection: close
X-Served-By: cache-iad2150-IAD, cache-dfw18638-DFW
X-Cache: HIT, HIT
X-Cache-Hits: 1, 1
X-Timer: S1512547434.560066,VS0,VE1
Vary: Accept-Encoding, Fastly-SSL, Fastly-SSL

function sendDeprecationNotification(e){return function(){console.log("[AdFuel - DEPRECATION NOTICE] AMPTManager is DEPRECATED and will be removed in the next version of AdFuel.  Please update your code to reference AdFuel instead of AMPTManager."),window.AdFuel[e].apply(this,arguments)}}function nativoComplete(){"use strict";jQuery(".zn.zn-staggered").each(function(){$staggeredZone=jQuery(this),layoutSize=($staggeredZone.attr("data-eq-state")||"").replace(/^(\S+\s+)*/,""),$staggeredZone.find(".zn__containers .column").each(function(){$staggeredColumn=jQuery(this),void 0!==$staggeredColumn.attr("class")&&$staggeredColumn.attr("class").indexOf("ntv")>-1&&($nativeContainer=$staggeredColumn.find(".cn").addClass("nativeSponsor").clone(),$staggeredColumn.remove(),$staggeredNativo=$staggeredZone.find(".column"),$staggeredNativo="xsmall"===layoutSize?$staggeredNativo.eq(0).find(".cn").eq(1):$staggeredNativo.eq(1).find(".cn").eq(0),$staggeredNativo.before($nativeContainer))})}),jQuery(".pg-wrapper").find("section.nativeSponsor").addClass("zn-loaded"),jQuery(window).load(function(){$nativeHubCarousel=jQuery(document.getElementById("ntv-videoZone")).find(".js-owl-carousel"),$nativeHubCarousel.length>0&&!isGalleryRendered&&(CNN.Carousel.restore($nativeHubCarousel.parent()),isGalleryRendered=!0)})}function onNativoRenderAd(e){"use strict";nativo.fbFeed=e.facebook_feed,nativo.twFeed=e.twitter_feed,nativo.twitterImage=e.twitter_image,nativo.authorName=e.author_name,nativo.epicAdName=e.native_adv,$nativeEmbedVideo=jQuery(document.getElementById("prx_full_ad_video")),$nativeEmbedVideo.length>0&&$nativeEmbedVideo.parent().addClass("ntv_video_p"),$bigPicture=jQuery(document.getElementById("bigPicture")),$bigPicture.length>0&&!isGalleryRendered&&(nativo.renderGallery(),isGalleryRendered=!0),jQuery(window).load(function(){nativo.renderAuthor(),nativo.renderFacebook(),nativo.renderTwitter(),nativo.renderEpic()})}function changeOwlCarousalWidth(){"use strict";var e=jQuery(".js-pg-sponsor .owl-stage-outer .owl-stage"),t=e.find(".owl-item").length;e.css("width",70*t)}Modernizr.addTest("ios",function(){"use strict";return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/i)}),Modernizr.addTest("android",function(){"use strict";return!!navigator.userAgent.match(/android/i)}),Modernizr.addTest("iospre10",function(){"use strict";return-1!==navigator.userAgent.search(/(iPod|iPhone|iPad).*OS [3-9]/i)}),Modernizr.addTest("iemobile",function(){"use strict";return!!navigator.userAgent.match(/iemobile/i)}),Modernizr.addTest("ieunsupported",function(){"use strict";return navigator.userAgent.search(/MSIE ([2-9]|10)\./i)>=0}),Modernizr.addTest("ie11unsupported",function(){"use strict";return navigator.userAgent.search(/Trident\/7\.0;(.*)rv:11\./i)>=0}),Modernizr.addTest("ie",function(){"use strict";return navigator.userAgent.search(/\s+(MSIE|rv:11|Edge\/\d+\.)/)>=0}),Modernizr.addTest("edge",function(){"use strict";return navigator.userAgent.search(/\s+(Edge\/\d+\.)/)>=0}),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,n=document.createElement("source"),i=function(e){var t,i,a=e.parentNode;"PICTURE"===a.nodeName.toUpperCase()?(t=n.cloneNode(),a.insertBefore(t,a.firstElementChild),setTimeout(function(){a.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))},a=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},o=function(){clearTimeout(t),t=setTimeout(a,99)},r=e.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){o(),r&&r.addListener&&r.addListener(o)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),o}())}(window),function(e,t,n){"use strict";function i(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function a(){O=!1,D=e.devicePixelRatio,R={},M={},g.DPR=D||1,B.width=Math.max(e.innerWidth||0,x.clientWidth),B.height=Math.max(e.innerHeight||0,x.clientHeight),B.vw=B.width/100,B.vh=B.height/100,m=[B.height,B.width,D].join("-"),B.em=g.getEmValue(),B.rem=B.em}function o(e,t,n,i){var a,o,r,s;return"saveData"===E.algorithm?e>2.7?s=n+1:(o=t-n,a=Math.pow(e-.6,1.5),r=o*a,i&&(r+=.1*a),s=e+r):s=n>1?Math.sqrt(e*t):e,s>n}function r(e){var t,n=g.getSet(e),i=!1;"pending"!==n&&(i=m,n&&(t=g.setRes(n),g.applySetCandidate(t,e))),e[g.ns].evaled=i}function s(e,t){return e.res-t.res}function l(e,t,n){var i;return!n&&t&&(n=e[g.ns].sets,n=n&&n[n.length-1]),i=d(t,n),i&&(t=g.makeUrl(t),e[g.ns].curSrc=t,e[g.ns].curCan=i,i.res||K(i,i.set.sizes)),i}function d(e,t){var n,i,a;if(e&&t)for(a=g.parseSet(t),e=g.makeUrl(e),n=0;n<a.length;n++)if(e===g.makeUrl(a[n].url)){i=a[n];break}return i}function c(e,t){var n,i,a,o,r=e.getElementsByTagName("source");for(n=0,i=r.length;n<i;n++)a=r[n],a[g.ns]=!0,(o=a.getAttribute("srcset"))&&t.push({srcset:o,media:a.getAttribute("media"),type:a.getAttribute("type"),sizes:a.getAttribute("sizes")})}function u(e,t){function n(t){var n,i=t.exec(e.substring(u));if(i)return n=i[0],u+=n.length,n}function a(){var e,n,i,a,s,l,d,c,u,f=!1,h={};for(a=0;a<r.length;a++)s=r[a],l=s[s.length-1],d=s.substring(0,s.length-1),c=parseInt(d,10),u=parseFloat(d),W.test(d)&&"w"===l?((e||n)&&(f=!0),0===c?f=!0:e=c):H.test(d)&&"x"===l?((e||n||i)&&(f=!0),u<0?f=!0:n=u):W.test(d)&&"h"===l?((i||n)&&(f=!0),0===c?f=!0:i=c):f=!0;f||(h.url=o,e&&(h.w=e),n&&(h.d=n),i&&(h.h=i),i||n||e||(h.d=1),1===h.d&&(t.has1x=!0),h.set=t,p.push(h))}for(var o,r,s,l,d,c=e.length,u=0,p=[];;){if(n(q),u>=c)return p;o=n(z),r=[],","===o.slice(-1)?(o=o.replace(U,""),a()):function(){for(n(L),s="",l="in descriptor";;){if(d=e.charAt(u),"in descriptor"===l)if(i(d))s&&(r.push(s),s="",l="after descriptor");else{if(","===d)return u+=1,s&&r.push(s),void a();if("("===d)s+=d,l="in parens";else{if(""===d)return s&&r.push(s),void a();s+=d}}else if("in parens"===l)if(")"===d)s+=d,l="in descriptor";else{if(""===d)return r.push(s),void a();s+=d}else if("after descriptor"===l)if(i(d));else{if(""===d)return void a();l="in descriptor",u-=1}u+=1}}()}}function p(e){var t,n,a,o,r,s,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,d=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(n=function(e){function t(){o&&(r.push(o),o="")}function n(){r[0]&&(s.push(r),r=[])}for(var a,o="",r=[],s=[],l=0,d=0,c=!1;;){if(""===(a=e.charAt(d)))return t(),n(),s;if(c){if("*"===a&&"/"===e[d+1]){c=!1,d+=2,t();continue}d+=1}else{if(i(a)){if(e.charAt(d-1)&&i(e.charAt(d-1))||!o){d+=1;continue}if(0===l){t(),d+=1;continue}a=" "}else if("("===a)l+=1;else if(")"===a)l-=1;else{if(","===a){t(),n(),d+=1;continue}if("/"===a&&"*"===e.charAt(d+1)){c=!0,d+=2;continue}}o+=a,d+=1}}}(e),a=n.length,t=0;t<a;t++)if(o=n[t],r=o[o.length-1],function(e){return!!(l.test(e)&&parseFloat(e)>=0)||(!!d.test(e)||("0"===e||"-0"===e||"+0"===e))}(r)){if(s=r,o.pop(),0===o.length)return s;if(o=o.join(" "),g.matchesMedia(o))return s}return"100vw"}t.createElement("picture");var f,h,m,g={},v=!1,y=function(){},w=t.createElement("img"),_=w.getAttribute,b=w.setAttribute,C=w.removeAttribute,x=t.documentElement,A={},E={algorithm:""},S=navigator.userAgent,T=/rident/.test(S)||/ecko/.test(S)&&S.match(/rv\:(\d+)/)&&RegExp.$1>35,N="currentSrc",k=/\s+\+?\d+(e\d+)?w/,I=e.picturefillCFG,F="font-size:100%!important;",O=!0,R={},M={},D=e.devicePixelRatio,B={px:1,in:96},j=t.createElement("a"),P=!1,L=/^[ \t\n\r\u000c]+/,q=/^[, \t\n\r\u000c]+/,z=/^[^ \t\n\r\u000c]+/,U=/[,]+$/,W=/^\d+$/,H=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,Q=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},V=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},$=function(){var e=function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n},t=V(function(t){return"return "+e((t||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(e,n){var i;if(!(e in R))if(R[e]=!1,n&&(i=e.match(/^([\d\.]+)(em|vw|px)$/)))R[e]=i[1]*B[i[2]];else try{R[e]=new Function("e",t(e))(B)}catch(e){}return R[e]}}(),K=function(e,t){return e.w?(e.cWidth=g.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},J=function(e){if(v){var n,i,a,o=e||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),n=o.elements||g.qsa(o.context||t,o.reevaluate||o.reselect?g.sel:g.selShort),a=n.length){for(g.setupRun(o),P=!0,i=0;i<a;i++)g.fillImg(n[i],o);g.teardownRun(o)}}};e.console&&console.warn,N in w||(N="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),g.ns=("pf"+(new Date).getTime()).substr(0,9),g.supSrcset="srcset"in w,g.supSizes="sizes"in w,g.supPicture=!!e.HTMLPictureElement,g.supSrcset&&g.supPicture&&!g.supSizes&&function(e){w.srcset="data:,a",e.src="data:,a",g.supSrcset=w.complete===e.complete,g.supPicture=g.supSrcset&&g.supPicture}(t.createElement("img")),g.supSrcset&&!g.supSizes?function(){var e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n=t.createElement("img"),i=function(){2===n.width&&(g.supSizes=!0),h=g.supSrcset&&!g.supSizes,v=!0,setTimeout(J)};n.onload=i,n.onerror=i,n.setAttribute("sizes","9px"),n.srcset=e+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",n.src=e}():v=!0,g.selShort="picture>img,img[srcset]",g.sel=g.selShort,g.cfg=E,g.DPR=D||1,g.u=B,g.types=A,g.setSize=y,g.makeUrl=V(function(e){return j.href=e,j.href}),g.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},g.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?g.matchesMedia=function(e){return!e||matchMedia(e).matches}:g.matchesMedia=g.mMQ,g.matchesMedia.apply(this,arguments)},g.mMQ=function(e){return!e||$(e)},g.calcLength=function(e){var t=$(e,!0)||!1;return t<0&&(t=!1),t},g.supportsType=function(e){return!e||A[e]},g.parseSize=V(function(e){var t=(e||"").match(/(\([^)]+\))?\s*(.+)/);return{media:t&&t[1],length:t&&t[2]}}),g.parseSet=function(e){return e.cands||(e.cands=u(e.srcset,e)),e.cands},g.getEmValue=function(){var e;if(!f&&(e=t.body)){var n=t.createElement("div"),i=x.style.cssText,a=e.style.cssText;n.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",x.style.cssText=F,e.style.cssText=F,e.appendChild(n),f=n.offsetWidth,e.removeChild(n),f=parseFloat(f,10),x.style.cssText=i,e.style.cssText=a}return f||16},g.calcListLength=function(e){if(!(e in M)||E.uT){var t=g.calcLength(p(e));M[e]=t||B.width}return M[e]},g.setRes=function(e){var t;if(e){t=g.parseSet(e);for(var n=0,i=t.length;n<i;n++)K(t[n],e.sizes)}return t},g.setRes.res=K,g.applySetCandidate=function(e,t){if(e.length){var n,i,a,r,d,c,u,p,f,h=t[g.ns],m=g.DPR;if(c=h.curSrc||t[N],u=h.curCan||l(t,c,e[0].set),u&&u.set===e[0].set&&((f=T&&!t.complete&&u.res-.1>m)||(u.cached=!0,u.res>=m&&(d=u))),!d)for(e.sort(s),r=e.length,d=e[r-1],i=0;i<r;i++)if(n=e[i],n.res>=m){a=i-1,d=e[a]&&(f||c!==g.makeUrl(n.url))&&o(e[a].res,n.res,m,e[a].cached)?e[a]:n;break}d&&(p=g.makeUrl(d.url),h.curSrc=p,h.curCan=d,p!==c&&g.setSrc(t,d),g.setSize(t))}},g.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},g.getSet=function(e){var t,n,i,a=!1,o=e[g.ns].sets;for(t=0;t<o.length&&!a;t++)if(n=o[t],n.srcset&&g.matchesMedia(n.media)&&(i=g.supportsType(n.type))){"pending"===i&&(n=i),a=n;break}return a},g.parseSets=function(e,t,n){var i,a,o,r,s=t&&"PICTURE"===t.nodeName.toUpperCase(),l=e[g.ns];(void 0===l.src||n.src)&&(l.src=_.call(e,"src"),l.src?b.call(e,"data-pfsrc",l.src):C.call(e,"data-pfsrc")),(void 0===l.srcset||n.srcset||!g.supSrcset||e.srcset)&&(i=_.call(e,"srcset"),l.srcset=i,r=!0),l.sets=[],s&&(l.pic=!0,c(t,l.sets)),l.srcset?(a={srcset:l.srcset,sizes:_.call(e,"sizes")},l.sets.push(a),(o=(h||l.src)&&k.test(l.srcset||""))||!l.src||d(l.src,a)||a.has1x||(a.srcset+=", "+l.src,a.cands.push({url:l.src,d:1,set:a}))):l.src&&l.sets.push({srcset:l.src,sizes:null}),l.curCan=null,l.curSrc=void 0,l.supported=!(s||a&&!g.supSrcset||o&&!g.supSizes),r&&g.supSrcset&&!l.supported&&(i?(b.call(e,"data-pfsrcset",i),e.srcset=""):C.call(e,"data-pfsrcset")),l.supported&&!l.srcset&&(!l.src&&e.src||e.src!==g.makeUrl(l.src))&&(null===l.src?e.removeAttribute("src"):e.src=l.src),l.parsed=!0},g.fillImg=function(e,t){var n,i=t.reselect||t.reevaluate;e[g.ns]||(e[g.ns]={}),n=e[g.ns],(i||n.evaled!==m)&&(n.parsed&&!t.reevaluate||g.parseSets(e,e.parentNode,t),n.supported?n.evaled=m:r(e))},g.setupRun=function(){P&&!O&&D===e.devicePixelRatio||a()},g.supPicture?(J=y,g.fillImg=y):function(){var n,i=e.attachEvent?/d$|^c/:/d$|^c|^i/,a=function(){var e=t.readyState||"";o=setTimeout(a,"loading"===e?200:999),t.body&&(g.fillImgs(),(n=n||i.test(e))&&clearTimeout(o))},o=setTimeout(a,t.body?9:99),r=x.clientHeight,s=function(){O=Math.max(e.innerWidth||0,x.clientWidth)!==B.width||x.clientHeight!==r,r=x.clientHeight,O&&g.fillImgs()};Q(e,"resize",function(e,t){var n,i,a=function(){var o=new Date-i;o<t?n=setTimeout(a,t-o):(n=null,e())};return function(){i=new Date,n||(n=setTimeout(a,t))}}(s,99)),Q(t,"readystatechange",a)}(),g.picturefill=J,g.fillImgs=J,g.teardownRun=y,J._=g,e.picturefillCFG={pf:g,push:function(e){var t=e.shift();"function"==typeof g[t]?g[t].apply(g,e):(E[t]=e[0],P&&g.fillImgs({reselect:!0}))}};for(;I&&I.length;)e.picturefillCFG.push(I.shift());e.picturefill=J,"object"==typeof module&&"object"==typeof module.exports?module.exports=J:"function"==typeof define&&define.amd&&define("picturefill",function(){return J}),g.supPicture||(A["image/webp"]=function(t,n){var i=new e.Image;return i.onerror=function(){A[t]=!1,J()},i.onload=function(){A[t]=1===i.width,J()},i.src=n,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),Date.now||(Date.now=function(){"use strict";return(new Date).getTime()}),function(e){"use strict";var t,n=function(){},i=[];e.console=e.console||{},t=e.console,t.log||(t.log=n),t.debug||(t.debug=t.log),t.error||(t.error=t.log),t.info||(t.info=t.log),t.warn||(t.warn=t.log),t.trace||(t.trace=n),t.group||(t.group=function(e){"string"!=typeof e&&(e=Number(i.length+1).toString()),i.push(e),t.log("---- START GROUP: "+e)},t.groupCollapsed=t.group,t.groupEnd=function(){t.log("---- END GROUP: "+(i.length>0?i.pop():"???"))})}(window),function(e){"use strict";var t,n,i,a,o,r,s,l,d,c=[],u=[],p=null,f=function(){},h=function(){},m=[],g=!1,v=!1;if(void 0===e.performance&&(e.performance={}),e._perfRefForUserTimingPolyfill=e.performance,e.performance.userTimingJsNow=!1,e.performance.userTimingJsNowPrefixed=!1,e.performance.userTimingJsUserTiming=!1,e.performance.userTimingJsUserTimingPrefixed=!1,e.performance.userTimingJsPerformanceTimeline=!1,e.performance.userTimingJsPerformanceTimelinePrefixed=!1,"function"!=typeof e.performance.now){for(e.performance.userTimingJsNow=!0,u=["webkitNow","msNow","mozNow"],s=0;s<u.length;s++)if("function"==typeof e.performance[u[s]]){e.performance.now=e.performance[u[s]],e.performance.userTimingJsNowPrefixed=!0;break}t=+new Date,e.performance.timing&&e.performance.timing.navigationStart?t=e.performance.timing.navigationStart:"undefined"!=typeof process&&"function"==typeof process.hrtime&&(t=process.hrtime(),e.performance.now=function(){var e=process.hrtime(t);return 1e3*e[0]+1e-6*e[1]}),"function"!=typeof e.performance.now&&(Date.now?e.performance.now=function(){return Date.now()-t}:e.performance.now=function(){return+new Date-t})}if(d=e.performance.now(),"function"!=typeof e.performance.getEntries||"function"!=typeof e.performance.mark){for("function"==typeof e.performance.getEntries&&"function"!=typeof e.performance.mark&&(v=!0),e.performance.userTimingJsPerformanceTimeline=!0,c=["webkit","moz"],u=["getEntries","getEntriesByName","getEntriesByType"],s=0;s<u.length;s++)for(l=0;l<c.length;l++)p=c[l]+u[s].substr(0,1).toUpperCase()+u[s].substr(1),"function"==typeof e.performance[p]&&(e.performance[u[s]]=e.performance[p],e.performance.userTimingJsPerformanceTimelinePrefixed=!0);f=function(e){m.push(e),"measure"===e.entryType&&(g=!0)},o=function(){g&&(m.sort(function(e,t){return e.startTime-t.startTime}),g=!1)},h=function(e,t){for(s=0;s<m.length;)m[s].entryType!==e?s++:void 0!==t&&m[s].name!==t?s++:m.splice(s,1)},("function"!=typeof e.performance.getEntries||v)&&(n=e.performance.getEntries,e.performance.getEntries=function(){var t;return o(),t=m.slice(0),v&&n&&(Array.prototype.push.apply(t,n.call(e.performance)),t.sort(function(e,t){return e.startTime-t.startTime})),t}),("function"!=typeof e.performance.getEntriesByType||v)&&(a=e.performance.getEntriesByType,e.performance.getEntriesByType=function(t){var n;if(void 0===t||"mark"!==t&&"measure"!==t)return v&&a?a.call(e.performance,t):[];for("measure"===t&&o(),n=[],s=0;s<m.length;s++)m[s].entryType===t&&n.push(m[s]);return n}),("function"!=typeof e.performance.getEntriesByName||v)&&(i=e.performance.getEntriesByName,e.performance.getEntriesByName=function(t,n){var a;if(n&&"mark"!==n&&"measure"!==n)return v&&i?i.call(e.performance,t,n):[];for(void 0!==n&&"measure"===n&&o(),a=[],s=0;s<m.length;s++)void 0!==n&&m[s].entryType!==n||m[s].name===t&&a.push(m[s]);return v&&i&&(Array.prototype.push.apply(a,i.call(e.performance,t,n)),a.sort(function(e,t){return e.startTime-t.startTime})),a})}if("function"!=typeof e.performance.mark){for(e.performance.userTimingJsUserTiming=!0,c=["webkit","moz","ms"],u=["mark","measure","clearMarks","clearMeasures"],s=0;s<u.length;s++)for(l=0;l<c.length;l++)p=c[l]+u[s].substr(0,1).toUpperCase()+u[s].substr(1),"function"==typeof e.performance[p]&&(e.performance[u[s]]=e.performance[p],e.performance.userTimingJsUserTimingPrefixed=!0);r={},e.performance.timing&&e.performance.timing.responseEnd||(r.responseEnd=[d]),"function"!=typeof e.performance.mark&&(e.performance.mark=function(t){var n=e.performance.now();if(void 0===t)throw new SyntaxError("Mark name must be specified");if(e.performance.timing&&t in e.performance.timing)throw new SyntaxError("Mark name is not allowed");r[t]||(r[t]=[]),r[t].push(n),f({entryType:"mark",name:t,startTime:n,duration:0})}),"function"!=typeof e.performance.clearMarks&&(e.performance.clearMarks=function(e){e?r[e]=[]:r={},h("mark",e)}),"function"!=typeof e.performance.measure&&(e.performance.measure=function(t,n,i){var a,o=e.performance.now(),s=0;if(void 0===t)throw new SyntaxError("Measure must be specified");if(!n)return void f({entryType:"measure",name:t,startTime:0,duration:o});if(e.performance.timing&&n in e.performance.timing){if("navigationStart"!==n&&0===e.performance.timing[n])throw new Error(n+" has a timing of 0");s=e.performance.timing[n]-e.performance.timing.navigationStart}else{if(!(n in r))throw new Error(n+" mark not found");s=r[n][r[n].length-1]}if(a=o,i)if(a=0,e.performance.timing&&i in e.performance.timing){if("navigationStart"!==i&&0===e.performance.timing[i])throw new Error(i+" has a timing of 0");a=e.performance.timing[i]-e.performance.timing.navigationStart}else{if(!(i in r))throw new Error(i+" mark not found");a=r[i][r[i].length-1]}f({entryType:"measure",name:t,startTime:s,duration:a-s})}),"function"!=typeof e.performance.clearMeasures&&(e.performance.clearMeasures=function(e){h("measure",e)})}}(window),Array.prototype.find||(Array.prototype.find=function(e){"use strict";var t,n,i,a,o;if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(n=Object(this),i=n.length>>>0,a=arguments[1],t=0;t<i;t++)if(o=n[t],e.call(a,o,t,n))return o}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var e,t,n=document.createElement("_");n.classList.add("c1","c2"),n.classList.contains("c2")||(t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}},t("add"),t("remove")),n.classList.toggle("c3",!1),n.classList.contains("c3")&&(e=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,n){return 1 in arguments&&!this.contains(t)==!n?n:e.call(this,t)}),n=null}():function(e){"use strict";if("Element"in e){var t,n=e.Element.prototype,i=Object,a=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},l=function(e){for(var t=a.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},d=l.prototype=[],c=function(){return new l(this)};if(r.prototype=Error.prototype,d.item=function(e){return this[e]||null},d.contains=function(e){return e+="",-1!==s(this,e)},d.add=function(){var e,t=arguments,n=0,i=t.length,a=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),a=!0)}while(++n<i);a&&this._updateClassName()},d.remove=function(){var e,t,n=arguments,i=0,a=n.length,o=!1;do{for(e=n[i]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++i<a);o&&this._updateClassName()},d.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},d.toString=function(){return this.join(" ")},i.defineProperty){t={get:c,enumerable:!0,configurable:!0};try{i.defineProperty(n,"classList",t)}catch(e){-2146823252===e.number&&(t.enumerable=!1,i.defineProperty(n,"classList",t))}}else i.prototype.__defineGetter__&&n.__defineGetter__("classList",c)}}(self)),function(){"use strict";var e=null;window.CNN=window.CNN||{},window.CNN.eventListenerWithOptions=window.CNN.passiveEventListeners||{browserSupportsCaptureOption:!1,addListener:function(e,t,n,i){var a=i;window.CNN.eventListenerWithOptions.browserSupportsCaptureOption||(a=i.capture||!1),e.addEventListener(t,n,a)}};try{e=Object.defineProperty({},"capture",{get:function(){window.CNN.eventListenerWithOptions.browserSupportsCaptureOption=!0}}),window.addEventListener("test",null,e)}catch(e){}}();var CNN=window.CNN||{};CNN.Utils=CNN.Utils||function(e,t,n,i){"use strict";function a(e){var t=null;return"string"==typeof e&&Date.parse(e)?t=e:"number"==typeof e&&(t=new Date(Date.now()+e*x).toGMTString()),t}function o(e){var t,n=!0;for(t=0;t<arguments.length;t++)if(!function(e){return e!==i&&null!==e}(arguments[t])){n=!1;break}return n}function r(e){var t,n=!0;for(t=0;t<arguments.length;t++)if(!function(e){return"object"==typeof e&&null!==e}(arguments[t])){n=!1;break}return n}function s(e){var t,n=!0;for(t=0;t<arguments.length;t++)if(!function(e){return"string"==typeof e&&e.length>0}(arguments[t])){n=!1;break}return n}function l(){var e,t,i={},a=0;if(n.cookie)for(e=n.cookie.split("; ");a<e.length;a++)t=e[a].split("="),i[t[0]]=decodeURIComponent(t[1])||null;return i}function d(e){return null!==c(e)}function c(e){var t=new RegExp("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"),i=n.cookie.match(t);return i?i.pop():null}function u(e,t,i,r,s,l){var d="";o(e)&&o(t)&&(i=a(i),r=o(r)?r:"/",s=o(s)?s:"",l=!!o(l)&&l,d+=e+"="+encodeURIComponent(t),o(i)&&(d+=";expires="+i),r&&(d+=";path="+r),s&&(d+=";domain="+s),l&&(d+="; secure"),n.cookie=d)}function p(e,t,n,i){u(e,t,n,"/",".cnn.com",i)}function f(e,t,i){var a="";o(e)&&(t=o(t)?t:"/",i=o(i)?i:"",a+=e+"=;expires="+A,t&&(a+=";path="+t),i&&(a+=";domain="+i),n.cookie=a)}function h(e){f(e,"/",".cnn.com")}function m(e,n,i){var a;if("string"==typeof e&&e.length>0&&"string"==typeof n)if(!1===CNN.hasLocalStorage)u(e,n,"session"===i?null:i,"/",".cnn.com",!1);else try{"session"===i?t.sessionStorage.setItem(e,n):(t.localStorage.setItem(e,n),"number"==typeof i?(a=new Date(Date.now()+i*x),t.localStorage.setItem(e+"__expires",a.getTime().toString(10))):"string"==typeof i&&"session"!==i&&(a=new Date(i),a.getTime()>Date.now()&&t.localStorage.setItem(e+"__expires",a.getTime().toString(10))))}catch(e){}}function g(e){if("string"==typeof e&&e.length>0){if(!1===CNN.hasLocalStorage)return d(e);try{if(o(t.sessionStorage.getItem(e))||o(t.localStorage.getItem(e+"__expires")))return!0}catch(e){}}return!1}function v(e){if("string"==typeof e&&e.length>0)if(!1===CNN.hasLocalStorage)f(e);else{try{t.localStorage.removeItem(e),t.localStorage.removeItem(e+"__expires")}catch(e){}try{t.sessionStorage.removeItem(e)}catch(e){}}}function y(e){var n,i=null;if("string"==typeof e&&e.length>0)try{!1===CNN.hasLocalStorage?i=c(e):null!==(n=t.localStorage.getItem(e+"__expires"))?parseInt(n,10)>Date.now()?i=t.localStorage.getItem(e):v(e):(i=t.sessionStorage.getItem(e),o(i)||(i=t.localStorage.getItem(e)))}catch(e){}return i}function w(e){var n,i,a,o,r,s,l=e;if("function"==typeof t.btoa)try{n=t.btoa(l)}catch(i){n=t.btoa(e.replace(/[^\w\s\!\@\#\$\%\^\&\*\(\)\-\=\+\.\,\\\;\:\'\"\?]/,"-"))}else{if(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),a="",o="",(r=l.length%3)>0)for(;r<3;r++)o+="=",l+="\0";for(r=0;r<l.length;r+=3)r>0&&r/3*4%76==0&&(a+="\r\n"),s=(l.charCodeAt(r)<<16)+(l.charCodeAt(r+1)<<8)+l.charCodeAt(r+2),s=[s>>>18&63,s>>>12&63,s>>>6&63,63&s],a+=i[s[0]]+i[s[1]]+i[s[2]]+i[s[3]];n=a.substring(0,a.length-o.length)+o}return n}function _(e){var n,i,a,o,r,s,l,d,c=e;if("function"==typeof t.atob)try{n=t.atob(c)}catch(e){console.log(e.message,"\nString to decode: "+c)}else{for(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),a={},d=0;d<i.length;d++)a[i[d]]=d;for(c=c.replace(new RegExp("[^"+i.join("")+"=]","g"),""),r="="===c.charAt(c.length-1)?"="===c.charAt(c.length-2)?"AA":"A":"",o="",c=c.substr(0,c.length-r.length)+r,s=0;s<c.length;s+=4)l=(a[c.charAt(s)]<<18)+(a[c.charAt(s+1)]<<12)+(a[c.charAt(s+2)]<<6)+a[c.charAt(s+3)],o+=String.fromCharCode(l>>>16&255,l>>>8&255,255&l);n=o.substring(0,o.length-r.length)}return n}function b(e){return e.replace("#","")}function C(){return t.Modernizr.phone}var x=36e5,A="Thu, 01 Jan 1970 00:00:00 UTC";return CNN.hasLocalStorage=function(){var e="__test_it";try{return t.localStorage.setItem(e,e),t.localStorage.removeItem(e),t.sessionStorage.setItem(e,e),t.sessionStorage.removeItem(e),!0}catch(e){return!1}}(),{exists:o,existsObject:r,existsString:s,getCookies:l,getCookie:c,cookieExists:d,setCookie:u,deleteCookie:f,setCNNCookie:p,deleteCNNCookie:h,storeLocalValue:m,hasLocalValue:g,deleteLocalValue:v,getLocalValue:y,b64Encode:w,b64Decode:_,stripHash:b,isPhone:C}}(jQuery,window,document),CNN.Features=CNN.Features||{},CNN.VideoConfig=CNN.VideoConfig||{},CNN.VideoConfig.liveStream=CNN.VideoConfig.liveStream||{},CNN.GeoCheck=function(e,t){"use strict";function n(){return o}function i(e){var t,n,i,a,r,s=!0;if(null!==o&&!0===Array.isArray(e)&&e.length>0)for(i=o.country+":"+o.region,a=i+":"+o.city.toLowerCase(),t=0;t<e.length;t++)r=e[t],"-"===r.charAt(0)?(r=r.slice(1),n=!1):n=!0,"*"===r?s=n:"#"===r.charAt(0)?o.continent===r.slice(1)&&(s=n):(2===r.length&&o.country===r||5===r.length&&i===r||r.length>6&&a===r)&&(s=n);return s}function a(){return CNN._geoCheckReadyEvent}var o=null;return CNN._geoCheckReadyEvent=!1,e.fn.extend({onGeoCheckReady:function(n){"function"==typeof n&&(!0===CNN._geoCheckReadyEvent?n(e):e(t).on("geoCheckReady",{handler:n},function(t){t=t||{},"object"==typeof t.data&&null!==t.data&&"function"==typeof t.data.handler&&t.data.handler(e)}))},triggerGeoCheckReady:function(){CNN._geoCheckReadyEvent=!0,e(t).trigger("geoCheckReady")}}),function(){var n,i;i=CNN.Utils.getCookie("geoData"),null!==i&&(n=i.split("|"),n.length>4&&(o={city:n[0],region:n[1],postCode:n[2],country:n[3],continent:n[4]})),e(t).triggerGeoCheckReady()}(),{getData:n,inTarget:i,isReady:a}}(jQuery,document),CNN=window.CNN||{},CNN.AdsConfig=CNN.AdsConfig||{},CNN.AdsConfig.aisOverride?function(e,t){"use strict";var n=e.createElement("script"),i=e.getElementsByTagName("script")[0];n.type="text/javascript",n.src=("https:"===e.location.protocol?"https:":"http:")+t.AdsConfig.aisOverride,i.parentNode.insertBefore(n,i)}(document,window.CNN):(CNN.AdsConfig.amazon=CNN.AdsConfig.amazon||{},CNN.Features=CNN.Features||{},!0===CNN.Features.enableAmazonDisplayAds&&function(){function e(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null}return null}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function t(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function n(e){return e.reduce(function(e,t){return e[t.getSlotElementId()]=t,e},{})}function i(e,t,i){m("Handling A9 Bids:",e,t),g("Handling A9 Bids"),window.googletag.cmd.push(function(){function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}var a=n(t);e.forEach(function(e){var t=a[e.slotID]||null;if(null!==t){var n={};window.apstag.targetingKeys("display").forEach(function(a){"true"==i("debug")&&console.log("[AdFuelModule - Amazon A9] Setting A9 Targeting: ",{key:a,value:e[a]}),n[a]=e[a],t.setTargeting(a,e[a])}),f.addMetric({type:"vendor",id:"Amazon A9",data:{targeting:n}})}}),window.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=n(window.googletag.pubads().getSlots()),i=t[e.slot.getSlotElementId()];window.apstag.targetingKeys("display").forEach(function(e){i.setTargeting(e,"")})})}),v("Handling A9 Bids"),i()}function a(e,n){function i(e){v("A9 Bid Fetching"),b=e,A=[],n()}g("A9 Slot Building");var a=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],o=["_ns_","_nfs_"],r=["super-ad-zone","super_ad_zone"],s=t();m("Browser Dimensions: ",s);for(var l=1;l<e.length;l++){var d=e[l].originalElementId||e[l].rktr_slot_id,c=d.split("_");c.splice(0,1),d=c.join("_"),m("Checking slot and sizes for validity: ",d);for(var u=[],p=!0,f=!1,h=0;h<e[l].responsive.length;h++){var y=e[l].responsive[h];f||m("Checking For Responsive Viewport: ",y[0].join("x")),!f&&y[0][0]<s[0]&&y[0][1]<s[1]&&(m("Match found."),f=!0,u=y[1],"suppress"!=y[1][0]&&"suppress"!=u||(m("Slot is responsive and being suppressed.  Filtering slot."),p=!1))}if(u.length>0&&p&&(m("Slot is responsive and not being suppressed.  Using responsive sizes: ",u),e[l].sizes=u),p){for(var w=0;w<e[l].sizes.length;w++){var _=e[l].sizes[w].join("x");a.indexOf(_)<0&&(m("Filtering out Invalid Size: ",_),e[l].sizes.splice(w,1),w-=1)}
0==e[l].sizes.length&&(m("No Valid Sizes: ",e[l].sizes),p=!1);for(var C in o)e[l].rktr_slot_id.indexOf(o[C])>=0&&(m("Filtering out invalid slot type: ",o[C],e[l]),p=!1);for(var x in r)e[l].rktr_ad_id.indexOf(r[x])>=0&&(m("Filtering out invalid ad unit segment: ",r[x],e[l]),p=!1);if(p){m("Valid Slot: ",e[l]);var E={slotID:e[l].rktr_slot_id,sizes:e[l].sizes};A.push(E)}}}v("A9 Slot Building"),g("A9 Bid Fetching"),A.length>0?window.apstag.fetchBids({slots:A},i):(m("No valid slots."),v("A9 Bid Fetching"))}function o(e,t){window.googletag.cmd.push(function(){var e=window.googletag.pubads().getSlots();b&&i(b,e,t),b||(m("No Bids."),t())})}function r(e,t){b=null,g("Refreshing A9 Bids"),window.apstag.fetchBids({slots:A},function(e){b=e,v("Refreshing A9 Bids");var n=window.googletag.pubads().getSlots();i(b,n,t)})}function s(){h||(m("Registering "+p+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3,refreshCallbackTimeoutInMilliseconds:2e3}),f=window.AdFuel.registerModule(p,{preQueueCallback:a,preDispatchCallback:o,preRefreshCallback:r})||f)}function l(){var e="3159";m("Defaulting to Domestic PubId."),m("Country Code: ",y),m("Hostname: ",C),m("Pathname: ",x),m("Selected Edition: ",w),C.search(/^(edition|arabic)\./)>=0?(m("Full international site. Using International PubId."),e="3288"):C.search(/^money/)>=0&&"/"===x&&"edition"===w?(m("International CNN Money Homepage. Using International PubId."),e="3288"):""==y||null==y?C.search(/^(cnnespanol|cnne\-test)\./)>=0&&(m("No country code. Using International PubId."),e="3288"):"US"!==y&&"CA"!==y&&C.search(/^(money|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(m("International country code. Using International PubId."),e="3288"),function(e,t,n,i,a,o,r){function s(n,i){t[e]._Q.push([n,i])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},_Q:[]},o=n.createElement(i),o.async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",r=n.getElementsByTagName(i)[0],r.parentNode.insertBefore(o,r))}("apstag",window,document,"script"),m("Final Pub ID: ",e),window.apstag.init({pubID:e,adServer:"googletag",bidTimeout:2e3})}var d=Object.prototype,c=d.toString,u=function(){},p="Amazon A9",f={metrics:{},addMetric:u,getMetricById:u,getMetricsByType:u,getMetricTypes:u},h=!1,m=u,g=u,v=u;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===c.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(m=function(){var e=["[AdFuelModule - "+p+" v1.3.4]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},g=function(){var e=["[AdFuelModule - "+p+" v1.3.4 TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)},v=function(){var e=["[AdFuelModule - "+p+" v1.3.4 TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.timeEnd(t)});var y=(e("CG")?e("CG").substr(0,2):"")||e("countryCode"),w=e("SelectedEdition")?e("SelectedEdition"):"www",_=document.createElement("a");_.href=document.location.href;var b,C=_.hostname,x=_.pathname,A=[];m("Initializing "+p+" Module..."),function(){l(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(s):window.AdFuel?s():document.addEventListener?document.addEventListener("AdFuelCreated",s,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",s)}()}(),window.AmazonDirectMatchBuy=function(){function e(e,t){return null!=e&&m.call(e,t)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){return function(){e&&(e.apply(this,arguments),e=null)}}function i(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(t){if(document.cookie){for(var n=document.cookie.split(";"),i=e+"=",a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(i))return o.substring(i.length,o.length)}return""}return""}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function a(){return!!window.amznads}function o(){var e={};return a()&&(e=window.amznads.getTargeting(),t(e)||(e={})),e}function r(e){var t=e.getId();if(A.has(t)){var n=A.getKeys(t);if(n.length){y("clearing previous ad key-values: "+n.join(", "));for(var i=0,a=n.length;i<a;++i)e.setAdKeyValue(n[i],null);A.clearKeys(t)}}}function s(e,t,n){y("setting ad key-value: "+t+' = "'+n+'"'),A.addKey(e.getId(),t),e.setAdKeyValue(t,n)}function l(t){var n=o();r(t);for(var i in n)if(e(n,i)){var a=n[i];if(a instanceof Array)for(var l=0,d=a.length;l<d;++l)s(t,a[l],"1");else s(t,i,a)}}function d(e){e.getPlayerType()===CVP.FLASH&&(y("setAdKeyValuePairs",e),l(e))}function c(e){if(!a())return!e||e();var t=n(function(){window.amznads.getTargeting();return!e||e()});try{window.amznads.getAdsCallback(b,t,C)}catch(e){y("Exception thrown while requesting Amazon ads:",e),t()}}function u(e){y("initializing",e),e&&(b=e.amznkey||b,C=e.timeout||C),x=!0}function p(e){return function(){if(!x)return void y("ERROR: init() must be called first!");e.apply(this,arguments)}}var f=Array.prototype,h=Object.prototype,m=h.hasOwnProperty,g=f.slice,v=h.toString,y=function(){};t(window.console)&&function(e){return"[object Function]"===v.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(y=function(){var e=["[AdFuelModule - Amazon Video]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var w=(i("CG")?i("CG").substr(0,2):"")||i("countryCode");y("Country Code: ",w);var _=window.location.hostname.toLowerCase(),b="3159";""==w||null==w?_.search(/^(edition|arabic|cnnespanol|cnne\-test)\./)>=0&&(b="3288"):"US"!==w&&"CA"!==w&&_.search(/^(money|edition|arabic|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(b="3288");var C=1e3,x=!1,A=function(){function e(e){return e in a}function t(t,n){e(t)||(a[t]=[]),a[t].push(n)}function n(t){return e(t)?g.call(a[t]):[]}function i(t){return!!e(t)&&(a[t].length=0,!0)}var a={};return{has:e,clearKeys:i,getKeys:n,addKey:t}}();return{requestAdRefresh:p(c),getTargetingData:p(o),setAdKeyValuePairs:p(d),isAmazonApiAvailable:a,init:u}}(),!0===CNN.Features.enableAmazonDisplayAds&&function(e){var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],a=/^(complete|loaded)$/,o=!1;n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https:":"http:")+(CNN.AdsConfig.amazonOverride||"//c.amazon-adsystem.com/aax2/amzn_ads.js"),n.onload=n.onreadystatechange=function(){o||"readyState"in n&&a.test(n.readyState)||(n.onload=n.onreadystatechange=null,o=!0,e())},window.AmazonDirectMatchBuy?e():i.parentNode.insertBefore(n,i)}(function(){CNN.AdsConfig.amazon.amznkey?window.AmazonDirectMatchBuy.init(CNN.AdsConfig.amazon):window.AmazonDirectMatchBuy.init()}),!0===CNN.Features.enableAdsConsole&&function(){function e(){location.hash.indexOf("doh")>=0?(G=!1,H&&u(),u()):location.hash.indexOf("afc")>=0?(G=!0,H&&u(),u()):H&&u()}function t(e,t,n){return e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent?e.attachEvent("on"+t,n):void 0}function n(e,t,n){var i=document.createElement("div");i.style.width="48%",i.style.float="left",i.style.display="inline-block";var a=document.createElement("input");a.type="checkbox",a.name=e,a.id=e+"_"+t,a.style.float="left",a.style["margin-right"]="2px",a.style.position="relative",a.style.top="3px",a.value=t;var o=document.createElement("div");return o.style.width="calc(100% - 18px)",o.appendChild(document.createTextNode(n)),i.appendChild(a),i.appendChild(o),i}function a(e,t){var n=document.createElement(e);return n.appendChild(document.createTextNode(t)),n}function o(e){var t=document.createElement("button");return t.onclick=e.action,t.id=e.name,t.appendChild(document.createTextNode(e.value)),t.className="btn btn-sm btn-primary",t}function r(e,t){return e.data[2]<t.data[2]?-1:e.data[2]>t.data[2]?1:0}function s(e){return!!new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/).test(e)}function l(){ie("Getting Viewport Dimensions");var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),ae("Getting Viewport Dimensions"),[e,t]}function d(){ie("Getting Browser Information");var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),ae("Getting Browser Information"),n.join(" "))}function c(){if(null!==fe)return fe;ie("Getting Device Information"),oe=pe();var e=l();return fe={availHeight:screen.availHeight,availLeft:screen.availLeft,availTop:screen.availTop,availWidth:screen.availWidth,colorDepth:screen.colorDepth,height:screen.height,orientation:{angle:screen.orientation?screen.orientation.angle:0,onchange:screen.orientation?screen.orientation.onchange:null,type:screen.orientation?screen.orientation.type:null},pixelDepth:screen.pixelDepth,width:screen.width,os:window.navigator.platform?window.navigator.platform:"Unknown",browser:d(),class:"Desktop",viewport:e.join("x")},oe.amazon.device&&(fe.os="Amazon",oe.amazon.phone&&(fe.class="Phone"),oe.amazon.tablet&&(fe.class="Tablet")),oe.android.device&&(fe.os="Android",oe.android.phone&&(fe.class="Phone"),oe.android.tablet&&(fe.class="Tablet")),oe.apple.device&&(fe.os="iOS",oe.apple.ipod&&(fe.class="iPod"),oe.apple.phone&&(fe.class="Phone"),oe.apple.tablet&&(fe.class="Tablet")),oe.windows.device&&(fe.os="Windows",oe.windows.phone&&(fe.class="Phone"),oe.windows.tablet&&(fe.class="Tablet")),oe.other.blackberry&&(fe.os="Blackberry",fe.class="Phone"),oe.other.blackberry10&&(fe.os="Blackberry10",fe.class="Phone"),oe.other.chrome&&(fe.os="Chrome",fe.class="Phone"),oe.other.firefox&&(fe.os="Firefox",fe.class="Phone"),oe.other.opera&&(fe.os="Opera",fe.class="Phone"),U.addMetric({type:"modules",id:"User Sciences",data:fe}),ae("Getting Device Information"),fe}function u(){if(H){var e=document.getElementsByTagName("head")[0],n=document.getElementsByTagName("body")[0],i=document.getElementById("material-icons-font"),a=document.getElementById("adfuel-console-stylesheet"),o=document.querySelector("div.adfuel-console-button-container"),r=document.querySelector("div.adfuel-console-filler"),s=document.querySelector("div.adfuel-console");e.removeChild(i),e.removeChild(a),n.removeChild(o),n.removeChild(r),n.removeChild(s),H=!1}else{var e=document.getElementsByTagName("head")[0],n=document.getElementsByTagName("body")[0],l="https:"===document.location.protocol,i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=(l?"https:":"http:")+"//fonts.googleapis.com/icon?family=Material+Icons",i.id="material-icons-font";var a=document.createElement("link");a.rel="stylesheet",a.href=(l?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/consoleTool-2.1.css",a.id="adfuel-console-stylesheet";var d=document.createElement("link");d.rel="stylesheet",d.href=(l?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/dhtmlxgrid.css",d.id="adfuel-console-table-stylesheet";var o=document.createElement("div");o.className="adfuel-console-button-container adfuel-open-console-button-container";var c=document.createElement("a");c.className="adfuel-console-button";var u=document.createElement("i");u.className="adfuel-console-button-icon material-icons",u.innerHTML="view_module",u.innerText="view_module";var r=document.createElement("div");r.className="adfuel-console-filler";var s=document.createElement("div");s.className="adfuel-console",c.appendChild(u),o.appendChild(c),e.appendChild(i),e.appendChild(a),e.appendChild(d),n.appendChild(o),n.appendChild(r),n.appendChild(s),function(e){"use strict";var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],a=/^(complete|loaded)$/,o=!1,r="https:"===document.location.protocol;n.type="text/javascript",n.async=!0,n.src=(r?"https:":"http:")+"//www.geoplugin.net/javascript.gp",n.onload=n.onreadystatechange=function(){o||"readyState"in n&&a.test(n.readyState)||(n.onload=n.onreadystatechange=null,o=!0,e())},i.parentNode.insertBefore(n,i)}(function(){var e,t,n,i,a,o=!1;window.geoplugin_countryCode&&(e=window.geoplugin_countryCode(),o=!0),window.geoplugin_city&&(t=window.geoplugin_city(),o=!0),window.geoplugin_region&&(n=window.geoplugin_region(),o=!0),window.geoplugin_latitude&&(i=window.geoplugin_latitude(),o=!0),window.geoplugin_longitude&&(a=window.geoplugin_longitude(),o=!0),1==o&&U.addMetric({type:"configuration",id:"actual_user_location",data:{city:t,region:n,country:e,latitude:i,longitude:a}})}),v(s),Q=t(c,"click",p),H=!0}}function p(){Q=null;var e=(document.getElementsByTagName("head")[0],document.getElementsByTagName("body")[0],document.querySelector("div.adfuel-console-filler")),t=document.querySelector("div.adfuel-console"),n=document.querySelector("div.adfuel-console-button-container"),i=document.querySelector("div#adfuel-close-console-button-container");n.style.display="none",i.style.display="inline-block",e.style.display="block",e.className=e.className+" resizable",t.style.display="inline-block",t.style.resize="both",t.className=t.className+" resizable",ne("Opening AdFuel Console."),g(document.getElementsByClassName("adfuel-console-tab-link-container")[0]),_(t),ne("Full Console: ",G),w(G?"configuration":"creative review")}function f(){window.open("http://docs.turner.com/display/DAD/AdFuel+Console+Documentation","ConsoleHelp")}function h(){if(J){var e=document.querySelectorAll(".adfuel-rendered"),t=e.length;for(i=0;i<t;i++){var n=e[i].id,a=document.getElementById(n);a.style.position="relative";var o=a.firstElementChild.firstElementChild?a.firstElementChild.firstElementChild.width:a.firstElementChild.width,r=a.firstElementChild.firstElementChild?a.firstElementChild.firstElementChild.height:a.firstElementChild.height;a.style.width=o+"px",a.style.height=r+"px";var s=n.substring(n.indexOf("_")+1),l=document.createElement("div"),d=document.createElement("p");d.innerHTML="Pos: "+s+"<br />Width: "+o+"<br />Height: "+r,l.className="pos_overlay",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.right="0",l.style.bottom="0",l.style.textAlign="left",l.style.padding="3px",l.style.fontFamily="Verdana",l.style.fontSize="12px",l.style.fontWeight="normal",l.style.lineHeight="12px",l.style.background="rgba(0,100,0,0.7)",l.style.color="#ffffff",l.style.zIndex="1000",l.appendChild(d),a.appendChild(l)}J=!1}else{var c=document.querySelectorAll(".pos_overlay"),t=c.length;for(i=0;i<t;i++)c[i].parentNode.removeChild(c[i]);J=!0}}function m(e){e=e.toString();var t=e.split(" "),n="";if(t.length>1){for(var i=0;i<t.length;i++){var a=t[i].charAt(0).toUpperCase()+t[i].slice(1);t[i]=a}n=t.join(" ")}else n=e.charAt(0).toUpperCase()+e.slice(1);return n}function g(e){function n(e){w(e.srcElement?e.srcElement.rel:e.target.rel)}if(ne("Building Console Tabs...",e),e||(e=document.getElementsByClassName("adfuel-console-tab-link-container")[0]),!e)return ne("Error: No tab link container."),!1;var i=document.getElementsByClassName("adfuel-console-tab-list")[0];if(i){i.parentNode.removeChild(i)}var a=document.createElement("ul");a.className="adfuel-console-tab-list",me=U.getMetricTypes(),me.sort();for(var o=0;o<me.length;o++)if(0!=me[o].indexOf("_")&&"watchers"!==me[o]){var r=document.createElement("li");ne("Full Console: ",G),r.style.display=G?"inline-block":"none","creative review"==me[o]&&(r.style.display="none"),r.style.marginLeft="15px",r.style.marginRight="auto",r.style.fontSize=".8em",r.style.paddingBottom="10px";var s=document.createElement("a");s.className="afcTab",0==o&&(s.className="activeAFCTab afcTab"),s.rel=me[o],t(s,"click",n),s.appendChild(document.createTextNode(m(me[o]))),r.appendChild(s),a.appendChild(r)}e.appendChild(a)}function v(e){var n=document.createElement("div");n.className="adfuel-console-button-container",n.id="adfuel-close-console-button-container";var i=document.createElement("a");i.className="adfuel-console-button-plain",i.id="adfuel-close-console-button";var a=document.createElement("i");a.className="adfuel-console-button-icon material-icons",a.innerHTML=a.innerText="close";var o=document.createElement("a");o.className="adfuel-console-button-plain",o.id="adfuel-resize-console-button";var r=document.createElement("i");r.className="adfuel-console-button-icon material-icons",r.innerHTML=r.innerText="help_outline";var s=document.createElement("a");s.className="adfuel-console-button-plain",s.id="adfuel-show-overlay-button";var l=document.createElement("i");l.className="adfuel-console-button-icon material-icons",l.innerHTML=l.innerText="vignette";var d=document.createElement("div");d.id="adfuel-console-banner";var c=document.createElement("div");c.className="adfuel-console-tab-link-container",s.appendChild(l),o.appendChild(r),i.appendChild(a),n.appendChild(s),n.appendChild(o),n.appendChild(i),V=t(i,"click",M),_consoleHelpButtonHandler=t(o,"click",f),$=t(s,"click",h),d.appendChild(n);var u=document.createElement("div");u.className="adfuel-console-banner-title",ne("Full Console: ",G);var p=G?"AdFuel Console Tool":"AdFuel Creative Review";u.appendChild(document.createTextNode(p)),d.appendChild(u),d.appendChild(c),e.appendChild(d)}function y(e,t){if(e.type){K.indexOf(e.type)<0&&(g(),K.push(e.type));var n=document.getElementById("adfuel-console-panel-"+e.type.replace(/ /g,"-"));if("counts"==e.type)x(n);else if("creative review"==e.type){var i=parseInt(fe.viewport.split("x")[0]);i>800&&i<1250?N(n):i<800?T(n):S("Desktop"==fe.class?n:n)}else"timeline"==e.type?b(n):R(n,!0);t&&t()}}function w(e){var t,n=document.getElementsByClassName("afcTab"),i=document.querySelector("li > a[rel='"+e+"']");for(t=0;t<n.length;t++)n[t].className=n[t].className.replace("activeAFCTab","");i&&(i.className=i.className+" activeAFCTab");var a=document.getElementById("adfuel-console-panel-"+e.replace(/ /g,"-"));if(!a){var o=e,r=document.createElement("div"),s=document.getElementsByClassName("adfuel-console")[0];r.id="adfuel-console-panel-"+o.replace(/ /g,"-"),r.style.display="none",r.className="adfuel-console-panel adfuel-console-content",r.style.width="100%",r.style.padding="0",r.style.margin="0",r.style.height="80%",r.style.minHeight="250px",r.style.overflowY="auto",s.appendChild(r),a=r}if("timeline"==e){b(a,A())}var l=document.getElementsByClassName("adfuel-console-panel");for(t=0;t<l.length;t++)l[t].style.display="none";a.style.display="block",ne("Full Console: ",G),G&&"configuration"==e&&C({target:{dataset:{panel:a.id,tab:"adfuel_initialization_options",content:"adfuel-console-panel-configuration-tabContent-adfuel_initialization_options"}}})}function _(e){if(e||(e=document.getElementsByClassName("adfuel-console")[0]),!e)return ne("Error: No AdFuel-Console container."),!1;for(var t=0;t<me.length;t++)if(0!=me[t].indexOf("_")){var n=me[t],i=document.createElement("div");if(i.id="adfuel-console-panel-"+n.replace(/ /g,"-"),i.style.display="none",i.className="adfuel-console-panel adfuel-console-content",i.style.width="100%",i.style.padding="0",i.style.margin="0",i.style.height="80%",i.style.minHeight="250px",e.appendChild(i),ne("Full Console: ",G),ne("Panel Name: ",n),!G&&"creative review"!=n)continue;switch(n){case"creative review":var a=parseInt(fe.viewport.split("x")[0]);a>800&&a<1250?N(i):a<800?T(i):S("Desktop"==fe.class?i:i);break;case"counts":x(i);break;case"configuration":case"modules":case"page":case"registries":case"requests":case"slots":i.style.display="block",R(i,!0);break;case"timeline":var o=A();b(i,o);break;default:R(i,!0)}}}function b(e,t){if(e&&t){var n=document.createElement("div");n.id="gridbox",n.style.width="100%",n.style.height="95%",n.style.backgroundColor="#ABABAB",n.style.margin="0",n.style.padding="0",n.style.position="relative",n.style.top="-12px";try{e.removeChild(n)}catch(e){}e.style.height="90%",e.appendChild(n);try{q=new dhtmlXGridObject("gridbox"),q.setImagePath(("https:"===document.location.protocol?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/"),n.style.position="relative",n.style.top="-12px",n.style.left="2px",q.setHeader("Name, Type, Timestamp, Start, End, Time From Previous, Time From Initial, Duration,"),q.setInitWidths("350,100,200,200,200,150,150,100"),q.setColAlign("left, left, left, left, left, left, left, left"),q.setColTypes("ro,ro,ro,ro,ro,ro,ro,ro"),q.enableColumnAutoSize(!0),q.enableDragAndDrop(!1),q.init(),q.clearAll(),q.parse(t,"json")}catch(e){}}}function C(e){var t=e.target,n=t.dataset,i=n.panel,a=(n.tab,n.content),o=document.querySelectorAll("div#"+i+" .adfuel-console-panel-tab-content"),r=document.querySelectorAll("div#"+i+" ul.nav-stacked li"),s=document.querySelector("div#"+i+" ul.nav-stacked li#"+n.tab.replace(/ /g,"_")),l=0;for(l=0;l<o.length;l++)o[l].style.display="none";for(l=0;l<r.length;l++)r[l].className="";return s&&(s.className=s.className+" active"),document.getElementById(a).style.display="block",!1}function x(e){if(e){e.innerHTML="";var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.display="inline-block",t.style.padding="5px",t.style.margin="0";var n=document.createElement("ul");n.className="nav nav-pills nav-stacked flex-column",n.style.listStyleType="none",n.style.margin="0",n.style.padding="5px",n.style.height="100%",n.style.minHeight="250px",n.style.overflow="auto";var i=[];U.metrics&&U.metrics.counts&&(i=Object.getOwnPropertyNames(U.metrics.counts));for(var a=0;a<i.length;a++){var o=document.createElement("li");o.style.margin="5px",o.style.padding="5px",o.style.fontSize="14px",o.style.width="15%",o.style.display="inline-block",o.style.float="left",o.style.borderRight="solid 1px #BCBCBC",o.id=i[a].replace(/ /g,"_"),o.innerHTML=m(i[a].replace(/_/g," "));var r=document.createElement("span");r.style.float="right",r.className="badge badge-pill badge-primary",r.style.width="15%",r.innerHTML=U.metrics.counts[i[a]],o.appendChild(r),n.appendChild(o)}t.appendChild(n),e.appendChild(t)}}function A(){var e=["connection_start","document_request_start","domContentLoaded","dom_load_start","domain_lookup_start","fetch_start","navigation_start","window_load"],t=["_rendered","adfuel_initialized","building_gpt_slots","dispatch_queue"],n=["request_to_dfp"],i=["_preQueue","_postQueue","_preDispatch","_postDispatch","_preRefresh","_postRefresh"],a=U.metrics.timeline,o="",s={rows:[]};for(var l in a)if(a.hasOwnProperty(l)){if(e.indexOf(l)>=0)o="Browser";else if(t.indexOf(l)>=0||l.indexOf("_rendered")>0||l.indexOf("building_gpt_slot_")>=0)o="AdFuel";else if(n.indexOf(l)>=0)o="DFP";else{for(var d=0;d<i.length;d++)l.indexOf(i[d])>0&&(o="Module");""==o&&(o="UNKNOWN")}for(var c=0;c<a[l].length;c++){var u,p,f=a[l][c];if(f.timestamp){var h=new Date;h.setTime(f.timestamp),u=h.toISOString().split("T"),u[0],p=u[1].replace("Z",""),h=p;for(var g=l.split("_"),c=0;c<g.length;c++)g[c]=m(g[c]);var v=g.join(" "),y={id:l+"_"+c,data:[v,o,a[l][0].timestamp,h,"","","",0]};s.rows.push(y)}else if(f.start&&f.end){var w=new Date;w.setTime(f.start),u=w.toISOString().split("T"),u[0],p=u[1].replace("Z",""),w=p;var _=new Date;_.setTime(f.end),u=_.toISOString().split("T"),u[0],p=u[1].replace("Z",""),_=p;for(var b=parseInt(f.end)-parseInt(f.start)+"ms",g=l.split("_"),c=0;c<g.length;c++)g[c]=m(g[c]);var v=g.join(" "),y={id:l+"_"+c,data:[v,o,a[l][0].start,w,_,"","",b],endStamp:f.end};s.rows.push(y)}else if(f.start){var w=new Date;w.setTime(f.start),u=w.toISOString().split("T"),u[0],p=u[1].replace("Z",""),w=p;for(var g=l.split("_"),c=0;c<g.length;c++)g[c]=m(g[c]);var v=g.join(" "),y={id:l+"_"+c,data:[v,o,a[l][0].start,w,"","","",""]};s.rows.push(y)}}}if(s.rows.length>0){s.rows.sort(r);for(var C=s.rows[0].data[2],x=1;x<s.rows.length;x++){var A=s.rows[x],E=s.rows[x-1].data[2];A.data[5]=A.data[2]-E+"ms",A.data[6]=A.data[2]-C+"ms"}var S=s.rows[s.rows.length-1],T=S.endStamp?S.endStamp:S.data[2],N=T-C+"ms",y={id:"elapsed_time",data:["Total Elapsed Time","","","","","","",N]};s.rows.push(y)}return s}function E(e,n){var i=document.createElement("div");i.style.width="27%",i.style.maxWidth="400px",i.style.height="100%",i.style.display="inline-block",i.style.margin="0",i.style.float="left",i.style.borderRight="solid 1px #0052e7",e.appendChild(i);var a=document.createElement("ul");a.className="nav nav-pills nav-stacked flex-column",a.style.listStyleType="none",a.style.margin="0",a.style.padding="5px",a.style.height="100%",a.style.minHeight="250px",a.style.overflow="auto";for(var o=0;o<n.length;o++){isNaN(parseInt(n[o]))||(n[o]="request_"+n[o]);var r=document.createElement("div");r.id=e.id+"-tabContent-"+n[o].replace(/ /g,"_"),r.className="adfuel-console-panel-tab-content",r.style.width="72%",r.style.height="100%",r.style.display="inline-block",r.style.padding="0",r.style.margin="5px",r.style.float="left",0!=o&&(r.style.display="none");var s=document.createElement("li");0==o&&(s.className=s.className+" active"),s.id=n[o].replace(/ /g,"_");var l=document.createElement("a");l.rel=n[o],l.dataset.panel=e.id,l.dataset.tab=n[o],l.dataset.content=r.id,l.innerHTML=m(n[o].replace(/_/g," ")),s.appendChild(l),a.appendChild(s),O(r,n[o]),t(l,"click",C),e.appendChild(r)}i.appendChild(a)}function S(e,t){function i(e,t,i){for(var r=0;r<i.length;r++){var s=i[r];switch(s.type){case"textarea":var l=a("div",s.label+":"+(!0===s.required?" *":""));l.style.fontWeight="bolder",e.appendChild(l),e.appendChild(s.element=document.createElement("textarea")),s.element.name=s.name||"",!0===s.required&&(s.element.attributes.required="required"),s.element.width="95%",s.element.cols="60",s.element.rows="5";break;case"input":var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",!0===s.required&&s.element.setAttribute("required","required"),e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"listLabel":var u=a("div",s.label+":"+(!0===s.required?" *":""));u.style.fontWeight="bolder",e.appendChild(u);break;case"list":for(var p=document.createElement("div"),f=0;f<s.items.length;f++){var h=s.items[f],m=n(h.name,h.value,h.label),g=m.firstChild;s.items[f].element=g,p.appendChild(m)}e.appendChild(p);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"select":console.debug("Building Select Element",s);var v=a("div",s.label+": "+(!0===s.required?" *":""));v.style.fontWeight="bolder",e.appendChild(v),s.element=document.createElement("select"),s.element.name=s.name;for(var y=0;y<s.options.length;y++){console.debug("Building Select Option Element",s.options[y]);var w=a("option",s.options[y].text);w.value=s.options[y].value,s.element.appendChild(w)}e.appendChild(s.element);break;case"button":e.appendChild(o(s));break;case"fileUpload":if(Y){var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",s.element.type="file",s.element.accept="image/*",e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"))}}}t.appendChild(e)}function r(e){""!==e?(b.style.display="inline-block",b.innerHTML=e):b.style.display="none",window.setTimeout(function(){b.style.display="none"},3e3)}function s(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}if(ne("Building Desktop Creative Review Form"),t=t||1,e){var l=[{type:"input",name:"Name",value:"",label:"Your Name",required:!0},{type:"input",name:"Email",value:"",label:"Your Email",required:!0},{type:"fileUpload",name:"Screenshot",value:"",label:"Upload Screenshot",required:!1}],d=[{type:"listLabel",name:"Reason",label:"What is the issue you are reporting?",required:!1},{type:"list",name:"Issue(s)",required:!1,items:[{type:"checkbox",name:"Issue",value:"block list violation",label:"Ad violates site block list",required:!1},{type:"checkbox",name:"Issue",value:"video plays in display ad",label:"Video plays in display ad",required:!1},{type:"checkbox",name:"Issue",value:"ad disrupts content",label:"Ad disrupts content",required:!1},{type:"checkbox",name:"Issue",value:"ad incorrectly sized",label:"Ad incorrectly sized",required:!1},{type:"checkbox",name:"Issue",value:"download initiated",label:"Ad attempts to initiate download",required:!1},{type:"checkbox",name:"Issue",value:"blank ad",label:"Blank ad",required:!1},{type:"checkbox",name:"Issue",value:"low quality",label:"Low-quality ad",required:!1},{type:"checkbox",name:"Issue",value:"audio autostarts",label:"Audio starts automatically",required:!1},{type:"checkbox",name:"Issue",value:"broken ad",label:"Broken ad",required:!1}]},{type:"select",name:"Brand",label:"What is brand is affected by the issue you are reporting?",required:!0,options:[{text:"",value:"placeholder"},{text:"Adult Swim",value:"Adult Swim"},{text:"Bleacher Report",value:"Bleacher"},{text:"Cartoon Network",value:"Cartoon Network"},{text:"CNN",value:"CNN"},{text:"CNN Arabic",value:"CNN Arabic"},{text:"CNN Espanol",value:"CNN Espanol"},{text:"CNN International",value:"CNN International"},{text:"CNN Money",value:"CNN Money"},{text:"E-League",value:"ELEAGUE"},{text:"Great Big Story",value:"Great Big Story"},{text:"HLN",value:"HLN"},{text:"NBA",value:"NBA"},{text:"NBA International",value:"NBA International"},{text:"NCAA",value:"NCAA"},{text:"PGA",value:"PGA"},{text:"TBS",value:"TBS"},{text:"TCM",value:"TCM"},{text:"Team Coco",value:"Team Coco"},{text:"TNT",value:"TNT"},{text:"TruTV",value:"truTV"}]}],c=[{type:"textarea",name:"Comments",label:"Please describe the issue you are reporting",required:!0}];e.innerHTML="",e.style.padding="0";var u=document.createElement("div");u.style.width="100%",u.style.height="100%",u.style.display="inline-block",u.style.padding="5px",u.style.margin="0";var p=document.createElement("div");p.style.width="99%",p.style.borderBottom="solid 1px black";var f=document.createElement("p");f.style.padding="0",f.style.fontWeight="bolder",f.style.margin="auto",f.innerHTML="You can report an issue on this page by submitting the information below. A copy of the report will be sent to the email address specified.<br /><span style='color: red'>* Denotes required fields.</span>",p.appendChild(f),u.appendChild(p);var h=document.createElement("form");h.style.padding="0",h.style.margin="0",u.appendChild(h);var m=document.createElement("div");switch(t){case 1:m.style.width="25%",m.style.height="60%",m.style.display="inline-block",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left";break;case 2:m.style.width="50%",m.style.height="100%",m.style.minHeight="160px",m.style.display="inline-block",m.style.padding="5px 5px",m.style.margin="0",
m.style.float="left",m.style.fontSize="12px",m.id="cr_panel_1";break;case 3:m.style.width="100%",m.style.height="100%",m.style.minHeight="160px",m.style.display="inline-block",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left",m.style.fontSize="12px",m.id="cr_panel_1"}i(m,h,l);var g=document.createElement("div");switch(t){case 1:g.style.width="39%",g.style.height="60%",g.style.display="inline-block",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left";break;case 2:g.style.width="50%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="inline-block",g.id="cr_panel_2";break;case 3:g.style.width="100%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="none",g.id="cr_panel_2"}i(g,h,d);var v=document.createElement("div");switch(t){case 1:v.style.width="32%",v.style.height="60%",v.style.display="inline-block",v.style.padding="5px 5px",v.style.margin="0",v.style.float="left";break;case 2:case 3:v.style.width="100%",v.style.height="100%",v.style.minHeight="160px",v.style.padding="5px 5px",v.style.margin="0",v.style.float="left",v.style.fontSize="12px",v.style.display="none",v.id="cr_panel_3"}i(v,h,c);var y=document.createElement("div");y.style.clear="both",u.appendChild(y);var w=document.createElement("div");w.style.width="99%",w.style.height="10%",w.style.padding="0",w.style.margin="0";var _=document.createElement("div");_.style.display="inline-block",_.style.float="right";var b=document.createElement("div");b.style.cssText="display: none; margin-right: 14px; margin-top: 7px; color: #FFFFFF; font-style: italic; font-weight: bold; font-size: 12px; padding: 5px; margin-bottom: 5px; border: solid 1px black; background-color: red;";var C=document.createElement("div");C.className="cr-confirm-alert",C.style.visibility="hidden";var x=document.createElement("div");x.className="cr-confirm-alert-text";var A=new Date,E=A.getDay(),S=A.getHours(),T=0==E||6==E||S<8||S>17,N=T?"2 hours outside of":"1 hour during";x.innerHTML="Your report has been successfully submitted to Ad Operations. If you do not get a response within "+N+" normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.",C.appendChild(x),C.appendChild(document.createElement("br"));var k=document.createElement("button");k.className="btn btn-primary btn-sm",k.innerHTML="OK",k.onclick=function(e){e.preventDefault(),M(),C.style.visibility="hidden",h.reset()},C.appendChild(k),e.appendChild(C);var I=document.createElement("input");I.type="submit",I.className="btn btn-primary btn-sm cr-confirm-alert-btn",I.onclick=function(e){return e.preventDefault(),""==h.elements.Name.value||""==h.elements.Comments.value||""==h.elements.Email.value?void r("Please fill out all required fields."):s(h.elements.Email.value)?void F(h,function(){C.style.visibility="visible"}):void r("Email address is not valid.")};var O=document.createElement("button");O.type="button",O.className="btn btn-primary btn-sn cr-confirm-alert-btn",O.onclick=function(e){switch(t){case 2:if(""==h.elements.Name.value||""==h.elements.Email.value||""==h.elements.Brand.value||"placeholder"==formElements.elements.Brand.value)return void r("Please fill out all required fields.");if(!s(h.elements.Email.value))return void r("Email address is not valid.");if(""==h.elements.Brand.value||"placeholder"==h.elements.Brand.value)return void r("Please select the brand affected by this issue.");document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",_.removeChild(O),_.appendChild(R),_.appendChild(I);break;case 3:switch(he){case 1:if(""==h.elements.Name.value||""==h.elements.Email.value)return void r("Please fill out all required fields.");if(!s(h.elements.Email.value))return void r("Email address is not valid.");document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="inline-block",_.insertBefore(R,O),he++;break;case 2:if(""==h.elements.Brand.value||"placeholder"==h.elements.Brand.value)return void r("Please select the brand affected by this issue.");document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",_.removeChild(O),_.appendChild(I),he++}}},O.style.padding="5px 10px",O.style.fontSize="12px",O.style.lineHeight="1.5",O.style.borderRadius="3px",O.innerHTML="Next >>";var R=document.createElement("button");R.type="button",R.className="btn btn-primary btn-sn cr-confirm-alert-btn",R.onclick=function(e){switch(t){case 2:r(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",_.appendChild(O),_.removeChild(I);case 3:switch(he){case 2:r(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="none",_.removeChild(R);break;case 3:r(""),document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",_.appendChild(O),_.removeChild(I)}he--}},R.style.padding="5px 10px",R.style.fontSize="12px",R.style.lineHeight="1.5",R.style.borderRadius="3px",R.style.marginRight="10px",R.innerHTML="<< Back",_.appendChild(b),1==t?_.appendChild(I):_.appendChild(O),w.appendChild(_),u.appendChild(w),e.insertBefore(u,C)}}function T(e){function t(e,t,i){for(var r=0;r<i.length;r++){var s=i[r];switch(s.type){case"textarea":var l=a("div",s.label+":"+(!0===s.required?" *":""));l.style.fontWeight="bolder",e.appendChild(l),e.appendChild(s.element=document.createElement("textarea")),s.element.name=s.name||"",!0===s.required&&(s.element.attributes.required="required"),s.element.width="95%",s.element.cols="60",s.element.rows="5";break;case"input":var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",!0===s.required&&s.element.setAttribute("required","required"),e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"listLabel":var u=a("div",s.label+":"+(!0===s.required?" *":""));u.style.fontWeight="bolder",e.appendChild(u);break;case"list":for(var p=document.createElement("div"),f=0;f<s.items.length;f++){var h=s.items[f],m=n(h.name,h.value,h.label),g=m.firstChild;s.items[f].element=g,p.appendChild(m)}e.appendChild(p);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"select":var v=a("div",s.label+": "+(!0===s.required?" *":""));v.style.fontWeight="bolder",e.appendChild(v),s.element=document.createElement("select"),s.element.name=s.name;for(var y=0;y<s.options.length;y++){var w=a("option",s.options[y].text);w.value=s.options[y].value,s.element.appendChild(w)}e.appendChild(s.element);break;case"button":e.appendChild(o(s));break;case"fileUpload":if(Y){var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",s.element.type="file",s.element.accept="image/*",e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"))}}}t.appendChild(e)}function i(e){""!==e?(_.style.display="inline-block",_.innerHTML=e):_.style.display="none",window.setTimeout(function(){_.style.display="none"},3e3)}function r(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}if(ne("Building Mobile Creative Review Form"),e){var s=[{type:"input",name:"Name",value:"",label:"Your Name",required:!0},{type:"input",name:"Email",value:"",label:"Your Email",required:!0},{type:"fileUpload",name:"Screenshot",value:"",label:"Upload Screenshot",required:!1}],l=[{type:"listLabel",name:"Reason",label:"What is the issue you are reporting?",required:!1},{type:"list",name:"Issue(s)",required:!1,items:[{type:"checkbox",name:"Issue",value:"block list violation",label:"Ad violates site block list",required:!1},{type:"checkbox",name:"Issue",value:"video plays in display ad",label:"Video plays in display ad",required:!1},{type:"checkbox",name:"Issue",value:"ad disrupts content",label:"Ad disrupts content",required:!1},{type:"checkbox",name:"Issue",value:"ad incorrectly sized",label:"Ad incorrectly sized",required:!1},{type:"checkbox",name:"Issue",value:"download initiated",label:"Ad attempts to initiate download",required:!1},{type:"checkbox",name:"Issue",value:"blank ad",label:"Blank ad",required:!1},{type:"checkbox",name:"Issue",value:"low quality",label:"Low-quality ad",required:!1},{type:"checkbox",name:"Issue",value:"audio autostarts",label:"Audio starts automatically",required:!1},{type:"checkbox",name:"Issue",value:"broken ad",label:"Broken ad",required:!1}]},{type:"select",name:"Brand",label:"What is brand is affected by the issue you are reporting?",required:!0,options:[{text:"",value:"placeholder"},{text:"Adult Swim",value:"Adult Swim"},{text:"Bleacher Report",value:"Bleacher"},{text:"Cartoon Network",value:"Cartoon Network"},{text:"CNN",value:"CNN"},{text:"CNN Arabic",value:"CNN Arabic"},{text:"CNN Espanol",value:"CNN Espanol"},{text:"CNN International",value:"CNN International"},{text:"CNN Money",value:"CNN Money"},{text:"E-League",value:"ELEAGUE"},{text:"Great Big Story",value:"Great Big Story"},{text:"HLN",value:"HLN"},{text:"NBA",value:"NBA"},{text:"NBA International",value:"NBA International"},{text:"NCAA",value:"NCAA"},{text:"TBS",value:"TBS"},{text:"TCM",value:"TCM"},{text:"Team Coco",value:"Team Coco"},{text:"TNT",value:"TNT"},{text:"TruTV",value:"truTV"}]}],d=[{type:"textarea",name:"Comments",label:"Please describe the issue you are reporting",required:!0}];e.innerHTML="",e.style.padding="0";var c=document.createElement("div");c.style.width="100%",c.style.height="100%",c.style.display="inline-block",c.style.padding="5px",c.style.margin="0",c.style.border="solid 2px purple";var u=document.createElement("div");u.style.width="99%",u.style.borderBottom="solid 1px black",u.style.fontSize="12px";var p=document.createElement("p");p.style.padding="0",p.style.fontWeight="bolder",p.style.margin="auto",p.innerHTML="You can report an issue on this page by submitting the information below. A copy of the report will be sent to the email address specified.<br /><span style='color: red'>* Denotes required fields.</span>",u.appendChild(p),c.appendChild(u);var f=document.createElement("form");f.style.padding="0",f.style.margin="0",c.appendChild(f);var h=document.createElement("div");h.style.width="100%",h.style.height="100%",h.style.minHeight="160px",h.style.display="inline-block",h.style.padding="5px 5px",h.style.margin="0",h.style.float="left",h.style.fontSize="12px",h.id="cr_panel_1",t(h,f,s);var m=document.createElement("div");m.style.width="100%",m.style.height="100%",m.style.minHeight="160px",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left",m.style.fontSize="12px",m.style.display="none",m.id="cr_panel_2",t(m,f,l);var g=document.createElement("div");g.style.width="100%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="none",g.id="cr_panel_3",t(g,f,d);var v=document.createElement("div");v.style.clear="both",c.appendChild(v);var y=document.createElement("div");y.style.width="99%",y.style.height="10%",y.style.padding="0",y.style.margin="0";var w=document.createElement("div");w.style.display="inline-block",w.style.float="right",w.style.height="10%";var _=document.createElement("div");_.style.cssText="display: none; margin-right: 14px; margin-top: 7px; color: #FFFFFF; font-style: italic; font-weight: bold; font-size: 12px; padding: 5px; margin-bottom: 5px; border: solid 1px black; background-color: red;";var b=document.createElement("div");b.className="cr-confirm-alert",b.style.visibility="hidden";var C=document.createElement("div");C.className="cr-confirm-alert-text";var x=new Date,A=x.getDay(),E=x.getHours(),S=0==A||6==A||E<8||E>17,T=S?"2 hours outside of":"1 hour during";C.innerHTML="Your report has been successfully submitted to Ad Operations. If you do not get a response within "+T+" normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.",b.appendChild(C),b.appendChild(document.createElement("br"));var N=document.createElement("button");N.className="btn btn-primary btn-sm",N.innerHTML="OK",N.onclick=function(e){e.preventDefault(),M(),b.style.visibility="hidden",f.reset()},b.appendChild(N),e.appendChild(b);var k=document.createElement("input");k.type="submit",k.className="btn btn-primary btn-sm cr-confirm-alert-btn",k.onclick=function(e){if(e.preventDefault(),""==f.elements.Comments.value)return void i("Please describe the issue you are reporting.");F(f,function(){b.style.visibility="visible"})};var I=document.createElement("button");I.type="button",I.className="btn btn-primary btn-sn cr-confirm-alert-btn",I.onclick=function(e){switch(he){case 1:if(""==f.elements.Name.value||""==f.elements.Email.value)return void i("Please fill out all required fields.");if(!r(f.elements.Email.value))return void i("Email address is not valid.");document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="inline-block",w.insertBefore(O,I),he++;break;case 2:if(""==f.elements.Brand.value||"placeholder"==f.elements.Brand.value)return void i("Please select the brand affected by this issue.");document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",w.removeChild(I),w.appendChild(k),he++}},I.style.padding="5px 10px",I.style.fontSize="12px",I.style.lineHeight="1.5",I.style.borderRadius="3px",I.innerHTML="Next >>";var O=document.createElement("button");O.type="button",O.className="btn btn-primary btn-sn cr-confirm-alert-btn",O.onclick=function(e){switch(he){case 2:i(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="none",w.removeChild(O);break;case 3:i(""),document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",w.appendChild(I),w.removeChild(k)}he--},O.style.padding="5px 10px",O.style.fontSize="12px",O.style.lineHeight="1.5",O.style.borderRadius="3px",O.style.marginRight="10px",O.innerHTML="<< Back",w.appendChild(_),w.appendChild(I),y.appendChild(w),c.appendChild(y),e.insertBefore(c,b)}}function N(e){function t(e,t,i){for(var r=0;r<i.length;r++){var s=i[r];switch(s.type){case"textarea":var l=a("div",s.label+":"+(!0===s.required?" *":""));l.style.fontWeight="bolder",e.appendChild(l),e.appendChild(s.element=document.createElement("textarea")),s.element.name=s.name||"",!0===s.required&&(s.element.attributes.required="required"),s.element.width="95%",s.element.cols="60",s.element.rows="5";break;case"input":var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",!0===s.required&&s.element.setAttribute("required","required"),e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"listLabel":var u=a("div",s.label+":"+(!0===s.required?" *":""));u.style.fontWeight="bolder",e.appendChild(u);break;case"list":for(var p=document.createElement("div"),f=0;f<s.items.length;f++){var h=s.items[f],m=n(h.name,h.value,h.label),g=m.firstChild;s.items[f].element=g,p.appendChild(m)}e.appendChild(p);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"select":var v=a("div",s.label+": "+(!0===s.required?" *":""));v.style.fontWeight="bolder",e.appendChild(v),s.element=document.createElement("select"),s.element.name=s.name;for(var y=0;y<s.options.length;y++){var w=a("option",s.options[y].text);w.value=s.options[y].value,s.element.appendChild(w)}e.appendChild(s.element);break;case"button":e.appendChild(o(s));break;case"fileUpload":if(Y){var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",s.element.type="file",s.element.accept="image/*",e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"))}}}t.appendChild(e)}function i(e){""!==e?(_.style.display="inline-block",_.innerHTML=e):_.style.display="none",window.setTimeout(function(){_.style.display="none"},3e3)}function r(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}if(ne("Building Mobile Creative Review Form"),e){var s=[{type:"input",name:"Name",value:"",label:"Your Name",required:!0},{type:"input",name:"Email",value:"",label:"Your Email",required:!0},{type:"fileUpload",name:"Screenshot",value:"",label:"Upload Screenshot",required:!1}],l=[{type:"listLabel",name:"Reason",label:"What is the issue you are reporting?",required:!1},{type:"list",name:"Issue(s)",required:!1,items:[{type:"checkbox",name:"Issue",value:"block list violation",label:"Ad violates site block list",required:!1},{type:"checkbox",name:"Issue",value:"video plays in display ad",label:"Video plays in display ad",required:!1},{type:"checkbox",name:"Issue",value:"ad disrupts content",label:"Ad disrupts content",required:!1},{type:"checkbox",name:"Issue",value:"ad incorrectly sized",label:"Ad incorrectly sized",required:!1},{type:"checkbox",name:"Issue",value:"download initiated",label:"Ad attempts to initiate download",required:!1},{type:"checkbox",name:"Issue",value:"blank ad",label:"Blank ad",required:!1},{type:"checkbox",name:"Issue",value:"low quality",label:"Low-quality ad",required:!1},{type:"checkbox",name:"Issue",value:"audio autostarts",label:"Audio starts automatically",required:!1},{type:"checkbox",name:"Issue",value:"broken ad",label:"Broken ad",required:!1}]},{type:"select",name:"Brand",label:"What is brand is affected by the issue you are reporting?",required:!0,options:[{text:"",value:"placeholder"},{text:"Adult Swim",value:"Adult Swim"},{text:"Bleacher Report",value:"Bleacher"},{text:"Cartoon Network",value:"Cartoon Network"},{text:"CNN",value:"CNN"},{text:"CNN Arabic",value:"CNN Arabic"},{text:"CNN Espanol",value:"CNN Espanol"},{text:"CNN International",value:"CNN International"},{text:"CNN Money",value:"CNN Money"},{text:"E-League",value:"ELEAGUE"},{text:"Great Big Story",value:"Great Big Story"},{text:"HLN",value:"HLN"},{text:"NBA",value:"NBA"},{text:"NBA International",value:"NBA International"},{text:"NCAA",value:"NCAA"},{text:"TBS",value:"TBS"},{text:"TCM",value:"TCM"},{text:"Team Coco",value:"Team Coco"},{text:"TNT",value:"TNT"},{text:"TruTV",value:"truTV"}]}],d=[{type:"textarea",name:"Comments",label:"Please describe the issue you are reporting",required:!0}];e.innerHTML="",e.style.padding="0";var c=document.createElement("div");c.style.width="100%",c.style.height="100%",c.style.display="inline-block",c.style.padding="5px",c.style.margin="0",c.style.border="solid 2px purple";var u=document.createElement("div");u.style.width="99%",u.style.borderBottom="solid 1px black",u.style.fontSize="12px";var p=document.createElement("p");p.style.padding="0",p.style.fontWeight="bolder",p.style.margin="auto",p.innerHTML="You can report an issue on this page by submitting the information below. A copy of the report will be sent to the email address specified.<br /><span style='color: red'>* Denotes required fields.</span>",u.appendChild(p),c.appendChild(u);var f=document.createElement("form");f.style.padding="0",f.style.margin="0",c.appendChild(f);var h=document.createElement("div");h.style.width="50%",h.style.height="100%",h.style.minHeight="160px",h.style.display="inline-block",h.style.padding="5px 5px",h.style.margin="0",h.style.float="left",h.style.fontSize="12px",h.id="cr_panel_1",t(h,f,s);var m=document.createElement("div");m.style.width="50%",m.style.height="100%",m.style.minHeight="160px",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left",m.style.fontSize="12px",m.style.display="inline-block",m.id="cr_panel_2",t(m,f,l);var g=document.createElement("div");g.style.width="100%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="none",g.id="cr_panel_3",t(g,f,d);var v=document.createElement("div");v.style.clear="both",c.appendChild(v);var y=document.createElement("div");y.style.width="99%",y.style.height="10%",y.style.padding="0",y.style.margin="0";var w=document.createElement("div");w.style.display="inline-block",w.style.float="right",w.style.height="10%";var _=document.createElement("div");_.style.cssText="display: none; margin-right: 14px; margin-top: 7px; color: #FFFFFF; font-style: italic; font-weight: bold; font-size: 12px; padding: 5px; margin-bottom: 5px; border: solid 1px black; background-color: red;";var b=document.createElement("div");b.className="cr-confirm-alert",b.style.visibility="hidden";var C=document.createElement("div");C.className="cr-confirm-alert-text";var x=new Date,A=x.getDay(),E=x.getHours(),S=0==A||6==A||E<8||E>17,T=S?"2 hours outside of":"1 hour during";C.innerHTML="Your report has been successfully submitted to Ad Operations. If you do not get a response within "+T+" normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.",b.appendChild(C),b.appendChild(document.createElement("br"));var N=document.createElement("button");N.className="btn btn-primary btn-sm",N.innerHTML="OK",N.onclick=function(e){e.preventDefault(),M(),b.style.visibility="hidden",f.reset()},b.appendChild(N),e.appendChild(b);var k=document.createElement("input");k.type="submit",k.className="btn btn-primary btn-sm cr-confirm-alert-btn",k.onclick=function(e){if(e.preventDefault(),""==f.elements.Comments.value)return void i("Please describe the issue you are reporting.");F(f,function(){b.style.visibility="visible"})};var I=document.createElement("button");I.type="button",I.className="btn btn-primary btn-sn cr-confirm-alert-btn",I.onclick=function(e){return""==f.elements.Name.value||""==f.elements.Email.value||"placeholder"==f.elements.Brand.value||""==f.elements.Brand.value?void i("Please fill out all required fields."):r(f.elements.Email.value)?(document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",ne("Appending Back and Submit Buttons.  Removing Next Button."),w.removeChild(I),w.appendChild(O),w.appendChild(k),void 0):void i("Email address is not valid.")},I.style.padding="5px 10px",I.style.fontSize="12px",I.style.lineHeight="1.5",I.style.borderRadius="3px",I.innerHTML="Next >>";var O=document.createElement("button");O.type="button",O.className="btn btn-primary btn-sn cr-confirm-alert-btn",O.onclick=function(e){i(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",ne("Adding Next Button. Removing Submit and Back Buttons."),w.appendChild(I),w.removeChild(O),w.removeChild(k)},O.style.padding="5px 10px",O.style.fontSize="12px",O.style.lineHeight="1.5",O.style.borderRadius="3px",O.style.marginRight="10px",O.innerHTML="<< Back",w.appendChild(_),w.appendChild(I),y.appendChild(w),c.appendChild(y),e.insertBefore(c,b)}}function k(e){var t={};if(e.data&&"function"==typeof e.data.indexOf&&0==e.data.indexOf("{")&&e.data.indexOf("googMsgType")<0)try{t=JSON.parse(e.data),t.pos}catch(e){return}if(t.divId){if(Array.isArray(t.divId)&&t.divId.length>1&&(t.divId=t.divId[0]),t.filteredSources.length>0)for(var n=0;n<t.filteredSources.length;n++){var i=t.filteredSources[n];if(i.indexOf("javascript:")<0){var a=function(){var e=i,n=document.createElement("img"),a=document.getElementById(t.divId),o=document.querySelectorAll("div[id='"+t.divId+"'] div[id^='google_ads_iframe']");if(n.className="adfuel-temp-image",n.src=e,0==e.indexOf("http://")||0==e.indexOf("https://")||0==e.indexOf("//")){a.appendChild(n);for(var r=0;r<o.length;r++){o[r].style.display="none"}}},o=function(){for(var e=document.getElementById(t.divId),n=document.querySelectorAll("div[id='"+t.divId+"'] img.adfuel-temp-image"),i=document.querySelectorAll("div[id='"+t.divId+"'] div[id^='google_ads_iframe']"),a=0;a<n.length;a++){var o=n[a];try{e.removeChild(o)}catch(e){}}for(var r=0;r<i.length;r++){i[r].style.display="block"}};Z.push(a),X.push(o)}}U.addMetric({type:"creatives",id:t.divId,data:t})}}function I(e){if(e&&"FORM"===e.nodeName){var t,n,i=[],a={};for(t=e.elements.length-1;t>=0;t-=1)if(""!==e.elements[t].name)switch(e.elements[t].nodeName){case"INPUT":switch(e.elements[t].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value;break;case"file":e.elements[t].files.length>0&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].files[0],a[e.elements[t].name+"FileName"]=a[e.elements[t].name].name);break;case"checkbox":e.elements[t].checked&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]?a[e.elements[t].name].push(e.elements[t].value):a[e.elements[t].name]=[e.elements[t].value]);break;case"radio":e.elements[t].checked&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value)}break;case"TEXTAREA":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value;break;case"SELECT":switch(e.elements[t].type){case"select-one":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value;break;case"select-multiple":for(n=e.elements[t].options.length-1;n>=0;n-=1)e.elements[t].options[n].selected&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].options[n].value)),a[e.elements[t].name]=e.elements[t].options[n].value)}break;case"BUTTON":switch(e.elements[t].type){case"reset":case"submit":case"button":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value}}return a}}function F(e,t){var n=I(e),i=function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&t(200===e.status)};var i=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),a=new Blob([JSON.stringify(window.AdFuel.requestScriptText,null,2)],{type:"application/json"}),o=new Blob([JSON.stringify(window.AdFuel.registry,null,2)],{type:"application/json"}),r={availHeight:screen.availHeight,availLeft:screen.availLeft,availTop:screen.availTop,availWidth:screen.availWidth,colorDepth:screen.colorDepth,height:screen.height,orientation:{angle:screen.orientation.angle,onchange:screen.orientation.onchange,type:screen.orientation.type},pixelDepth:screen.pixelDepth,width:screen.width},s=JSON.parse(JSON.stringify(window.AdFuel.metrics.slots));for(var l in s)s.hasOwnProperty(l)&&(delete s[l].build_end,delete s[l].build_start,delete s[l].display,delete s[l].queued,delete s[l].render_start,delete s[l].render_end);var d=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),c=new Blob([JSON.stringify(document.cookie,null,2)],{type:"application/json"}),u=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),p=new Blob([JSON.stringify(window.AdFuel.metrics.timeline,null,2)],{type:"application/json"}),f=new Blob([JSON.stringify(window.location.href,null,2)],{type:"application/json"}),h=new FormData;h.append("formData",i),h.append("request",a),h.append("registry",o),h.append("slots",d),h.append("cookies",c),h.append("browser",u),h.append("timeline",p),h.append("url",f);var m="http://ams-adfuel-services.prod.services.ec2.dmtio.net:80/api/email";-1!=m.indexOf("adfuel-services-host")&&(m="http://localhost:3050/api/email"),e.open("POST",m,!0),e.send(h),U.addMetric({type:"modules",id:"Creative Review",data:{reported_information:n[0]}})};if(n.Screenshot){n.Screenshot.type.match("image.*")||i();var a=new FileReader;a.onload=function(e){return function(e){n.Screenshot=e.target.result,i()}}(n.Screenshot),a.readAsDataURL(n.Screenshot)}else i()}function O(e,t,n){var i=document.createElement("div");0==t.indexOf("request_")&&(t=t.replace("request_",""));var a=e.id.split("-")[3],o=U.metrics[a][t],r=document.createElement("ul");r.id="adfuel_console_"+a+"_items",r.style.listStyleType="none",r.style.padding="0",r.style.margin="0";for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];isNaN(parseInt(l))||(l="request_"+(parseInt(l)+1));var c=document.createElement("li");c.id="adfuel-console-"+a+"-"+l,c.style.display="block";var u=document.createElement("div"),p=document.createElement("span");p.style.display="inline-block",p.style.width="25%",p.style.minWidth="150px",p.style.textAlign="left",p.style.margin="0",p.style.padding="0",p.style.paddingRight="10px",p.style.float="left",p.style.fontWeight="bolder",p.style.borderBottom="solid 1px #BCBCBC",p.innerHTML=m(l.replace(/_/g," ")+": "),u.appendChild(p),null==d?d="N/A":d||(d="False");var f=Object.getOwnPropertyNames(d),h=typeof d;if("string"==h||"boolean"==h||"number"==h||Array.isArray(d)&&1==d.length){var g="",v=!1;Array.isArray(d)?(v=s(d[0]),g=v?d[0]:m(d[0]),d[0]):(v=s(d),g=v?d:m(d),d);var y=document.createElement("div");if(y.style.margin="0",y.style.padding="0",y.style.display="block",y.style.width="65%",y.style.maxWidth="800px",y.style.float="left",y.style.borderBottom="solid 1px #BCBCBC",y.style.textOverflow="ellipsis",y.style.whiteSpace="nowrap",y.style.overflow="hidden",v){var w=document.createElement("a");w.href=g,w.target="_blank",w.title=g,w.appendChild(document.createTextNode(g)),y.appendChild(w)}else y.appendChild(document.createTextNode(g));u.appendChild(y);var _=document.createElement("div");_.style.clear="both",u.appendChild(_)}else if(Array.isArray(d)){var b=document.createElement("div");b.style.width="65%",b.style.margin="0",b.style.position="relative",b.style.float="left",b.style.textOverflow="ellipsis",b.style.whiteSpace="nowrap",b.style.overflowX="hidden";var C=document.createElement("ul");C.style.listStyleType="none",C.style.margin="0",C.style.padding="0";for(var x=0;x<d.length;x++){var A=document.createElement("li");A.style.marginLeft="0",A.style.paddingLeft="0",A.style.borderBottom="solid 1px #BCBCBC",A.style.margin="0",A.style.padding="0",A.style.display="block",A.style.width="100%",A.style.maxWidth="800px",A.style.float="left",A.style.borderBottom="solid 1px #BCBCBC",A.style.textOverflow="ellipsis",A.style.whiteSpace="nowrap",A.style.overflow="hidden";var v=s(d[x]),g="";if(v){g=d[x];var w=document.createElement("a");w.href=g,w.target="_blank",
w.title=g,w.appendChild(document.createTextNode(g)),A.appendChild(w)}else g=m(d[x]),A.appendChild(document.createTextNode(g));C.appendChild(A)}b.appendChild(C),u.appendChild(b);var _=document.createElement("div");_.style.clear="both",u.appendChild(_)}else{var b=document.createElement("div");b.style.width="65%",b.style.maxWidth="800px",b.style.margin="0",b.style.position="relative",b.style.left="5px",b.style.borderBottom="solid 1px #BCBCBC",b.style.textOverflow="ellipsis",b.style.whiteSpace="nowrap",b.style.overflowX="hidden";var C=document.createElement("ul");C.style.listStyleType="none",C.style.margin="0",C.style.padding="0";for(var x=0;x<f.length;x++){var A=document.createElement("li");A.style.padding="0",A.style.margin="0";var v=s(f[x]),g="";g=v?f[x]:m(f[x]);var E=d[f[x]];if(void 0!==E){var S=document.createElement("label");S.style.width="25%",S.appendChild(document.createTextNode(g+": ")),A.appendChild(S);var T=typeof E;"object"==T&&(E=Array.isArray(E)?E.join(", "):JSON.stringify(E));var y=document.createElement("span");y.title=E,y.appendChild(document.createTextNode(E)),A.appendChild(y)}else A.appendChild(document.createTextNode(g));C.appendChild(A)}b.appendChild(C),u.appendChild(b)}c.appendChild(u),r.appendChild(c)}i.style.overflowY="auto",i.style.height="80%",i.style.minHeight="250px",i.appendChild(r),e.appendChild(i)}function R(e,t){function n(e){return e.indexOf("_")<0||e.indexOf("_")>0}function i(e,t){var a=document.createElement("ul");a.className="adfuel-console-collection-list-item-detail-list";for(var o=Object.getOwnPropertyNames(e).filter(n),r=0;r<o.length;r++){var s=document.createElement("li");s.className="adfuel-console-collection-list-item-detail-list-item";document.createElement("div").className="adfuel-console-collection-list-item-detail-list-item-container";var l=document.createElement("label");l.className="adfuel-console-collection-list-item-detail-list-item-label";var d=o[r],c=m(d.replace(/_/g," "));l.appendChild(document.createTextNode(c)),s.appendChild(l),Array.isArray(e[d])&&e[d].length>1&&(e[d]=e[d].join("<br>"),e[d]=e[d]+"<br><br>");var u=document.createElement("div");u.style.clear="both";var p=document.createElement("div");if(Array.isArray(e[d])||"object"!=typeof e[d]||null===e[d])p.className="truncate",p.innerText=e[d],p.innerHTML=e[d],p.title=e[d];else{var f=i(e[d],!0),h=document.createElement("div");h.style.clear="both",p.appendChild(h),p.appendChild(f)}t&&s.appendChild(u),s.appendChild(p),s.appendChild(u),a.appendChild(s)}return a}if(e){e.innerHTML="";var a=e.id.replace("adfuel-console-panel-",""),o=U.metrics[a];if(t)tabNames=Object.getOwnPropertyNames(o),E(e,tabNames);else{var r=document.createElement("div");r.className="adfuel-console-collection-container";var s=document.createElement("ul");s.id="adfuel_console_"+a+"_items",s.className="adfuel-console-collection-list",s.style.listStyleType="none",s.style.padding="0",s.style.margin="0";for(var l in o)if(o.hasOwnProperty(l)){var d=o[l],c=document.createElement("li");c.id="adfuel-console-"+a+"-"+l,c.className="adfuel-console-collection-list-items";var u=document.createElement("div");u.className="adfuel-console-collection-list-item-container";var p=document.createElement("label");p.className="adfuel-console-collection-list-item-label";var f=document.createElement("span");p.appendChild(f),p.appendChild(document.createTextNode(m(l.replace(/_/g," ")))),u.appendChild(p);var h=document.createElement("hr");h.className="adfuel-console-separator",u.appendChild(h);var g;if(Array.isArray(d))for(var v=0;v<d.length;v++)d=d[v],g=i(d),u.appendChild(g);else g=i(d),u.appendChild(g);c.appendChild(u),s.appendChild(c)}r.appendChild(s),e.appendChild(r)}}}function M(){V=null;var e=(document.getElementsByTagName("body")[0],document.querySelector("div.adfuel-console-button-container")),n=(document.querySelector("div#adfuel-close-console-button-container"),document.querySelector("body > div.adfuel-console-button-container > a")),i=document.querySelector("div.adfuel-console-filler"),a=document.querySelector("div.adfuel-console");document.querySelector("div#adfuel-console-banner");i.style.display="none",a.style.display="none",e&&n&&(e.style.display="inline-block",Q=t(n,"click",p),window.AdFuel.openConsole=p)}function D(){window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("slotRenderEnded",function(e){try{var t={};e.slot&&(t.asset=e.slot),e.slot.getTargeting("pos")&&(t.pos=e.slot.getTargeting("pos")),e.isEmpty?t.empty=!0:t.empty=!1,e.size&&(t.renderedSize=e.size),e.creativeId&&(t.creativeId=e.creativeId),e.lineItemId&&(t.lineItemId=e.lineItemId),e.serviceName&&(t.serviceName=e.serviceName),e.slot.getSlotElementId()&&(t.divId=e.slot.getSlotElementId(),document.getElementById(t.divId));var n=_pageSlots[t.divId].getResponseInformation();if(t.campaignId=n.campaignId,t.advertiserId=n.advertiserId,U.addMetric({type:"slots",id:t.divId,data:{advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,lineItemId:t.lineItemId}}),window.googletag){var i=googletag.slot_manager_instance;if(i.l)for(var a in i.l)if(i.l.hasOwnProperty(a)&&a==t.divId){var o=null;for(var r in i.l[a])i.l[a].hasOwnProperty(r)&&null!=i.l[a][r]&&"string"==typeof i.l[a][r]&&i.l[a][r].split("?")&&(o=i.l[a][r].split("?"));null!=o&&addMetric({type:"slots",id:t.divId,data:{diagnostics_url:"https://www.google.com/dfp/inventory#diagnostics/"+o[1]+"&base_url="+encodeURIComponent(o[0])}})}}}catch(e){_errLog("error reading slotRenderEnded event",{error:e})}})})}function B(e,t){for(var n=1;n<e.length;n++){var i=e[n];ge.indexOf(i.rktr_slot_id)<0&&(window.AdFuel.addSlotLevelTarget(i.rktr_slot_id,"elemId",i.rktr_slot_id),ge.push(i.rktr_slot_id))}window.AdFuel.addEvent(document,"SlotIdChange",function(e){e.detail.newId!=e.detail.originalId&&ge.indexOf(e.detail.newId)<0&&(window.AdFuel.addSlotLevelTarget(e.detail.newId,"elemId",e.detail.newId),ge.push(e.detail.newId))}),t()}function j(){U=window.AdFuel.registerModule("AdFuel Console Tool",{preQueueCallback:B,metricUpdateCallback:y}),U.addMetric({type:"creative review",id:"Form",data:{}}),window.AdFuel.addEvent(window,"message",k),P(),L(),D(),y({}),e(),window.addEventListener("hashchange",e,!1)}function P(){var e=function(){G=!0,u()},t=function(){G=!1,u()},n=function(){var n={prevent_default:!1,prevent_repeat:!1,is_sequence:!1,is_exclusive:!0,is_solitary:!0},i={keys:"ctrl shift z",on_keydown:e};new window.keypress.Listener(window,n).register_combo(i),n={prevent_default:!1,prevent_repeat:!1,is_sequence:!0,is_exclusive:!0,is_solitary:!0},i={keys:"^ d o h $",on_keydown:t},new window.keypress.Listener(window,n).register_combo(i)};if(window.keypress)n();else{var i=document,a=i.createElement("script"),o=i.getElementsByTagName("script")[0],r=/^(complete|loaded)$/,s=!1,l="https:"===document.location.protocol;a.type="text/javascript",a.async=!0,a.src=(l?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/keypress.js",a.onload=a.onreadystatechange=function(){s||"readyState"in a&&r.test(a.readyState)||(a.onload=a.onreadystatechange=null,s=!0,n())},o.parentNode.insertBefore(a,o)}}function L(){var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0],i="https:"===document.location.protocol;t.type="text/javascript",t.async=!0,t.src=(i?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/dhtmlxgrid.js",n.parentNode.insertBefore(t,n)}var q,z=function(){return!1},U={metrics:{},addMetric:z,getMetricById:z,getMetricsByType:z,getMetricTypes:z},W="Console Tool/Creative Review",H=!1,Q=null,V=null,$=null,K=[],J=!0,G=!1,Y=window.File&&window.FileReader&&window.FileList&&window.Blob,Z=[],X=[],ee=Object.prototype,te=ee.toString,ne=z,ie=z,ae=z;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===te.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(ne=function(){var e=["[AdFuelModule - "+W+"]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},function(){var e=["[AdFuelModule - "+W+"]"];e.push.apply(e,arguments),window.console.warn.apply(window.console,e)},function(){var e=["[AdFuelModule - "+W+" ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)},ie=function(){var e=["[AdFuelModule - "+W+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)},ae=function(){var e=["[AdFuelModule - "+W+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.timeEnd(t)});var oe=!1,re=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,se=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,le=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,de=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),ce=function(e,t){return e.test(t)},ue=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:ce(/iPhone/i,t),ipod:ce(/iPod/i,t),tablet:!ce(/iPhone/i,t)&&ce(/iPad/i,t),device:ce(/iPhone/i,t)||ce(/iPod/i,t)||ce(/iPad/i,t)},this.amazon={phone:ce(se,t),tablet:!ce(se,t)&&ce(le,t),device:ce(se,t)||ce(le,t)},this.android={phone:ce(se,t)||ce(re,t),tablet:!ce(se,t)&&!ce(re,t)&&(ce(le,t)||ce(/Android/i,t)),device:ce(se,t)||ce(le,t)||ce(re,t)||ce(/Android/i,t)},this.windows={phone:ce(/Windows Phone/i,t),tablet:ce(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t),device:ce(/Windows Phone/i,t)||ce(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t)},this.other={blackberry:ce(/BlackBerry/i,t),blackberry10:ce(/BB10/i,t),opera:ce(/Opera Mini/i,t),firefox:ce(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t),chrome:ce(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t),device:ce(/BlackBerry/i,t)||ce(/BB10/i,t)||ce(/Opera Mini/i,t)||ce(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t)||ce(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t)},this.seven_inch=ce(de,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},pe=function(){var e=new ue;return e.Class=ue,e},fe=null,he=1,me=U.getMetricTypes()||{},ge=[];!function(){c(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(j):window.AdFuel?j():document.addEventListener?document.addEventListener("AdFuelCreated",j,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",j)}()}(),!0===CNN.Features.enableCriteoAds&&function(){function e(){if(!d){v("Including Criteo Library..."),d=!0;var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src="//static.criteo.net/js/ld/publishertag.js",n.parentNode.insertBefore(t,n)}}function t(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function n(e,n){function i(){v("Setting LineItem Ranges..."),window.Criteo.SetLineItemRanges("0.3..5:0.01;5..30:0.05;30..100:1.00"),v("Requesting Bids..."),r.addMetric({type:"vendor",id:"Criteo",data:x}),window.Criteo.RequestBids(C,n,1200)}for(var a=0;a<e.length;a++){var o=e[a];if("page"!==o.rktr_slot_id){for(var s=[],l=t(),d=!1,c=!0,u=0;u<o.responsive.length;u++){var p=o.responsive[u];!d&&p[0][0]<l[0]&&p[0][1]<l[1]&&(d=!0,s=p[1],"suppress"!=p[1][0]&&"suppress"!=s||(c=!1))}c&&s.length>0?(v("Setting Sizes To Responsive Sizes: ",s),o.sizes=s):c||(o.sizes=[]);var f=o.sizes,h=o.rktr_slot_id,m=o.rktr_ad_id;x[h]=[],A[h]=0,v("Slot Sizes: ",f);for(var S in E)if(E.hasOwnProperty(S)&&m.startsWith(S)){for(var T=0;T<f.length;T++){var N=f[T],k=N[0]||null,I=N[1]||null,F=null!==k?k*I:0,O=null!==k?k+"x"+I:N.join("x");v({width:k,height:I,area:F,size_name:O});var R=E[S][O]||null;if(["300x250","320x50"].indexOf(O)>=0&&g.any&&(v("Using Mobile zoneId for size: ",O),R=E.MOBILE[S][O]||null),R){A[h]=F>A[h]?F:A[h];var M={slotid:h,zoneid:R,width:k,height:I,area:F};x[h].includes(M)?v("Skipping... Already exists...",M):(v("Pushing data...",M),x[h].push(M))}}break}}}var D=0;for(var h in x){var B=x[h];for(var j in B){var P=B[j];if(D>=y)break;if(b!=_||P.area==A[P.slotid]){for(var L={slotid:h,zoneid:P.zoneid},q=!1,z=0;z<C.placements.length;z++)C.placements[z].slotid===L.slotid&&C.placements[z].zoneid===L.zoneid&&(q=!0);if(q||C.placements.push(L),D++,b==w)break}}}v("Criteo Ad Units: ",C),window.Criteo.events.push(i)}function i(e,t){v("Setting DFP KeyValue Targeting..."),window.Criteo.SetDFPKeyValueTargeting(),t()}function a(e,t){function n(){v("Setting LineItem Ranges..."),window.Criteo.SetLineItemRanges("0..3:0.01;3..8:0.05;8..20:0.50;20..30:1.00"),v("Requesting Bids..."),r.addMetric({type:"vendor",id:"Criteo",data:x}),window.Criteo.RequestBids(C,a,1200)}var a=i.bind(null,e,t);window.Criteo.events.push(n)}function o(){v("Registering Module..."),r=window.AdFuel.registerModule("criteo",{postQueueCallback:n,preDispatchCallback:i,preRefreshCallback:a})||{addMetric:function(){}}}window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[];var r,s=Object.prototype,l=s.toString,d=!1,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,u=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,p=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,f=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),h=function(e,t){return e.test(t)},m=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:h(/iPhone/i,t),ipod:h(/iPod/i,t),tablet:!h(/iPhone/i,t)&&h(/iPad/i,t),device:h(/iPhone/i,t)||h(/iPod/i,t)||h(/iPad/i,t)},this.amazon={phone:h(u,t),tablet:!h(u,t)&&h(p,t),device:h(u,t)||h(p,t)},this.android={phone:h(u,t)||h(c,t),tablet:!h(u,t)&&!h(c,t)&&(h(p,t)||h(/Android/i,t)),device:h(u,t)||h(p,t)||h(c,t)||h(/Android/i,t)},this.windows={phone:h(/Windows Phone/i,t),tablet:h(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t),device:h(/Windows Phone/i,t)||h(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t)},this.other={blackberry:h(/BlackBerry/i,t),blackberry10:h(/BB10/i,t),opera:h(/Opera Mini/i,t),firefox:h(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t),chrome:h(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t),device:h(/BlackBerry/i,t)||h(/BB10/i,t)||h(/Opera Mini/i,t)||h(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t)||h(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t)},this.seven_inch=h(f,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},g=function(){var e=new m;return e.Class=m,e}(),v=function(){},y=8,w="F",_="L",b=_;(b=b.toUpperCase())!=w&&b!=_&&"A"!=b&&(b=_);var C={placements:[]},x={},A={},E={CNN:{"160x600":1047134,"300x250":1047135,"300x600":1047136,"728x90":1047137,"970x90":1047140,"970x250":1047139,"320x50":1047138},NBA:{"320x50":1083217,"728x90":1083216,"970x90":1083218,"300x250":1083215},NCAA:{"160x600":1083227,"320x50":1083230,"300x250":1083228,"728x90":1083229,"970x90":1083231},PGA:{"728x90":1083239,"300x250":1083237,"970x90":1083242,"300x600":1083238,"970x250":1083241,"320x50":1083240},ELEAGUE:{"320x50":1083245,"300x250":1083243,"728x90":1083244},CNNMoney:{"728x90":1083234,"970x90":1083236,"970x250":1083235,"300x250":1083232,"300x600":1083233},AS:{"320x50":1083225,"728x90":1083224,"300x250":1083223,"970x90":1083226},"TBS/shows/conan":{"300x250":1083219,"728x90":1083220,"970x90":1083222,"970x250":1083221},MOBILE:{CNN:{"300x250":1090825,"320x50":1090883},NBA:{"300x250":1090830,"320x50":1090884},NCAA:{"300x250":1090831,"320x50":1090885},PGA:{"300x250":1090832,"320x50":1090886},ELEAGUE:{"300x250":1090833,"320x50":1090887},CNNMoney:{"300x250":1090834,"320x50":1090834},AS:{"300x250":1090835,"320x50":1090888},"TBS/shows/conan":{"300x250":1090836}}};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===l.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(v=function(){var e=["[AdFuelModule - Criteo v1.2.5]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),function(){v("Initializing Module..."),e(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(o):window.AdFuel?o():document.addEventListener?document.addEventListener("AdFuelCreated",o,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",o)}()}(),!0===CNN.Features.enableRubiconFastlane&&function(){function e(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function t(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null}return null}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function n(){m("Adding Fastlane library to head of page.");var e=11078;m("Defaulting to Domesting Account ID."),m("Country Code: ",v),_.search(/^(edition|arabic)\./)>=0?(m("Full international site.  Using International Account ID."),e=11016):_.search(/^money\.cnn/)>=0&&"/"===b&&"edition"===y?(m("International CNN Money Homepage. Using International Account Id."),e=11016):""==v||null==v?_.search(/^(edition|arabic|cnnespanol|cnne\-test)\./)>=0&&(m("No country code.  Using International Account ID."),e=11016):"US"!==v&&"CA"!==v&&_.search(/^(money|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(m("International country code.  Using International Account ID."),e=11016),m("Final Account ID: "+e);var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https:":"http:")+"//ads.rubiconproject.com/header/"+e+".js",document.getElementsByTagName("script")[0].parentNode.appendChild(t)}function i(e){clearTimeout(e),h.length=0}function a(t,n){if(g)m("Not building slots. Fastlane disabled."),n();else{m("Building slots for Fastlane",JSON.stringify(t));var a="",o=setTimeout(function(){m("PreQueue Timeout Occurred."),window.AdFuel.addPageLevelTarget("fln_pqto","1")},1e3);window.rubicontag.cmd.push(function(){for(var r=[],s=1;s<t.length;s++){m("Checking Slot: ",t[s].rktr_slot_id);var l,d=t[s];(""==a||d.rktr_slot_id.indexOf("bnr_atf_01")>0)&&(m("Setting KW Ad Unit: ",d.rktr_ad_id),a=d.rktr_ad_id);var c={_atf_:"atf",_btf_:"btf",_mod_:"atf"},u=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],p=["_ns_","_nfs_"],f=["super-ad-zone","super_ad_zone"],h=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"];for(var g in c)if(c.hasOwnProperty(g)&&d.rktr_slot_id&&d.rktr_slot_id.indexOf(g)>=0){var v=!0,y=!1;for(var w in p)d.rktr_slot_id.indexOf(p[w])>=0&&(m("Filtering out invalid slot type: ",p[w],d),v=!1);for(var _ in f)d.rktr_ad_id.indexOf(f[_])>=0&&(m("Filtering out invalid ad unit segment: ",f[_],d),v=!1);for(var b in h)d.rktr_ad_id==h[b]&&(m("Filtering out invalid ad unit: ",h[b],d),v=!1);for(var C=[],x=0;x<d.responsive.length;x++){var A=e(),E=d.responsive[x];!y&&E[0][0]<A[0]&&E[0][1]<A[1]&&(y=!0,C=E[1],"suppress"!=E[1][0]&&"suppress"!=C||(v=!1))}if(v&&C.length>0&&(m("Setting Sizes To Responsive Sizes: ",C),d.sizes=C),v)for(var S=0;S<d.sizes.length;S++){var T=d.sizes[S];"suppress"!==T&&(T=T.join("x")),u.indexOf(T)<0&&(m("Filtering out invalid size: ",T,d),d.sizes.splice(S,1))}if(0==d.sizes.length&&(v=!1,m("Filtering out slot with no valid sizes.",d.rktr_slot_id,d.rktr_ad_id)),v){m("Slot is a valid item for Rubicon Fastlane.");var N=c[g],k=!!document.getElementById(d.rktr_slot_id)&&document.getElementById(d.rktr_slot_id).className.indexOf("adfuel-rendered")>=0;if(m("Checking for cached Fastlane response for: ",d.rktr_slot_id),void 0!==window.rubiconSlotDictionary[d.rktr_slot_id]||k)void 0===window.rubiconSlotDictionary[d.rktr_slot_id]&&k?m("Element has already been rendered with an ad.  Skipping Fastlane auction for: ",d.rktr_slot_id):m("Using cached Fastlane response for: ",d.rktr_slot_id);else{m("Cached response not found. Defining Slot: ","/8664377/"+d.rktr_ad_id,d.sizes,d.rktr_slot_id),l=window.rubicontag.defineSlot("/8664377/"+d.rktr_ad_id,d.sizes,d.rktr_slot_id),m("Setting Position: ",N),l.setPosition(N);for(var I=d.targeting,F=0;F<I.length;F++){var O=I[F];"pos"==O[0]&&(Array.isArray(O[1])?(m("Setting POS Keyword For "+d.rktr_slot_id,O[1][0]),l.setFPI("pos",O[1][0])):(m("Setting POS Keyword For "+d.rktr_slot_id,O[1]),l.setFPI("pos",O[1])))}m("Setting Keyword For "+d.rktr_slot_id,d.rktr_ad_id),l.addKW(d.rktr_ad_id),r.push(l),window.rubiconSlotDictionary[d.rktr_slot_id]=l}}}}for(var R=a.split("/"),M=["site","section","subsection"],D=0;D<R.length&&D<3;D++)m("Setting FPI",M[D],R[D]),window.rubicontag.setFPI(M[D],R[D]);window.CNN&&window.CNN.getCapTopics&&window.rubicontag.setFPI("cap_topics",Object.getOwnPropertyNames(window.CNN.getCapTopics())),window.rubicontag.setFPI("ssl","https:"===document.location.protocol?1:0),window.rubicontag.run(function(){i(o),n()},{slots:r})})}}function o(e){m("setting fastlane targeting"),window.googletag.cmd.push(function(){var t=window.AdFuel.pageSlots;m({slots:e,gptSlots:t});for(var n={},i=0;i<e.length;i++){var a=e[i];if(m("Slot ID: ",a.rktr_slot_id),t[a.rktr_slot_id]){var o=t[a.rktr_slot_id];m("calling window.rubicontag.setTargetingForGPTSlot..."),window.rubicontag.setTargetingForGPTSlot(o),window.refreshableRubiconSlots[a.rktr_slot_id]=window.rubiconSlotDictionary[a.rktr_slot_id],delete window.rubiconSlotDictionary[a.rktr_slot_id];for(var r=o.getTargetingKeys(),s={},l=!1,d=0;d<r.length;d++)r[d].indexOf("rpfl_")>=0&&(l||(m("removing fln_to=1 and setting fln_to=0 for "+o.getSlotElementId()),window.AdFuel.removeSlotLevelTarget(o.getSlotElementId(),"fln_to"),window.AdFuel.addSlotLevelTarget(o.getSlotElementId(),"fln_to","0"),l=!0),m("Set Fastlane Targeting...",{slot:o.getSlotElementId(),target:{key:r[d],value:o.getTargeting(r[d])}}),s[r[d]]=o.getTargeting(r[d]));n[a.rktr_slot_id]=s}}f.addMetric({type:"modules",id:"Fastlane",data:{targeting:n}})})}function r(e){m("Fastlane Creative Rendered: ",e),_metricApi.addMetric({type:"modules",id:"Fastlane",data:e})}function s(e,t){window.rubicontag.cmd.push(function(){if(window.rubicontag.addEventListener("HL_CREATIVE_RENDERED",r),!g){var n=setTimeout(function(){t()},1e3);m("preDispatch"),o(e),clearTimeout(n)}}),t()}function l(e,t){if(g)t();else{m("preRefresh");var n=[],i=[],a=window.AdFuel.pageSlots;e||(e=Object.getOwnPropertyNames(a));for(var r=0;r<e.length;r++){var s=e[r];if(m("Slot ID: ",s),a[s]){var l=a[s],d=l.getTargetingKeys();for(var c in d)if(d.hasOwnProperty(c)){var u=d[c];u.indexOf("rpfl")>=0&&window.AdFuel.removeSlotLevelTarget(s,u)}f.addMetric({type:"modules",id:"Fastlane",data:{targeting:{}}}),window.rubiconSlotDictionary[s]&&n.push(window.rubiconSlotDictionary[s]),i.push({rktr_slot_id:s})}}m("refreshing slots",{slotsToRefresh:n}),window.rubicontag.run(function(){o(i),t()},{slots:n})}}function d(){g?m("Fastlane disabled. Not registering module."):(window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1200,dispatchCallbackTimeoutInMilliseconds:1200,refreshCallbackTimeoutInMilliseconds:1200}),f=window.AdFuel.registerModule("Fastlane",{preQueueCallback:a,preDispatchCallback:s,preRefreshCallback:l}))}window.rubicontag=window.rubicontag||{},window.rubicontag.cmd=window.rubicontag.cmd||[];var c=Object.prototype,u=c.toString,p=function(){return!1},f={metrics:{},addMetric:p,getMetricById:p,getMetricsByType:p,getMetricTypes:p},h=[],m=function(){},g=!1,v=(t("CG")?t("CG").substr(0,2):"")||t("countryCode"),y=t("SelectedEdition")?t("SelectedEdition"):"www",w=document.createElement("a");w.href=document.location.href;var _=w.hostname,b=w.pathname;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===u.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(m=function(){var e=["[AdFuelModule - Rubicon Fastlane v2.7.4]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.rubiconSlotDictionary={},window.refreshableRubiconSlots={},function(){n(),window.AdFuel?d():document.addEventListener?document.addEventListener("AdFuelCreated",d,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",d)}()}(),function(){var e=function(){return!1},t={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.cnnad_haveCookie=function(e){return document.cookie&&(document.cookie.indexOf("; "+e+"=")>=0||0==document.cookie.indexOf(e+"="))},window.cnnad_readCookie=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(n))return a.substring(n.length,a.length)}return null}},window.turner_getGuid=function(){return window.cnnad_readCookie("ug")},function(){function e(){function e(){var e=window.turner_getGuid();t=window.AdFuel.registerModule("GUID",{}),a("setting guid targeting",{guid:e}),t.addMetric({type:"modules",id:"GUID",data:{targeting:{guid:e}}}),window.AdFuel.addPageLevelTarget("guid",e)}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var n=Object.prototype,i=n.toString,a=function(){};if(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e}(window.console)&&function(e){return"[object Function]"===i.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(a=function(){var e=["[AdFuelModule - Guid]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.cnnad_haveCookie("ugs"))e();else{var o=document,r=o.createElement("script"),s=o.getElementsByTagName("script")[0],l=/^(complete|loaded)$/,d=!1;r.type="text/javascript",r.async=!0,r.src="//www.ugdturner.com/xd.sjs",r.onload=r.onreadystatechange=function(){d||"readyState"in r&&l.test(r.readyState)||(r.onload=r.onreadystatechange=null,d=!0,e())},s.parentNode.insertBefore(r,s)}}()}(),!0===CNN.Features.enableInViewRefresh&&function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)}function t(){f||(e(window,"scroll",C),e(window,"blur",function(){h=!1,C()}),e(window,"resize",C),e(window,"focus",function(){h=!0,C()}),e(document,"GPTRenderComplete",o),e(document,"visibilitychange",n),f=!0,b("Listeners Started!"))}function n(e){h=!document.hidden}function i(e,t,n,i,a,o,r,s,l){var d=Math.max(n,r),c=Math.min(i,s),u=Math.max(e,a),p=Math.min(t,o),f=0,h=d>=n&&d<=i,m=c>=n&&c<=i,g=u>=e&&u<=t,v=p>=e&&p<=t;h&&m&&g&&v&&(f=(c-d)*(p-u));var y=(o-a)*(s-r),w=0;return y>0&&(w=f/y),w}function a(e){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,o=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;t=parseInt(t),n=parseInt(n),a=parseInt(a),o=parseInt(o);var r=parseInt(e.clientWidth),s=parseInt(e.clientHeight),l=e.getBoundingClientRect(),d=l.left+document.body.scrollLeft,c=l.top+document.body.scrollTop;return i(a,a+t,o,o+n,d,d+r,c,c+s,e)}function o(t){var n=t.detail.divId,i=document.getElementById(n);if(t.detail.empty)try{delete p[n]}catch(e){}else if(b("Slot Rendered: "+n),p[n]&&!p[n].listenersSet){b("Slot is registered with InView Refresh"),p[n].inView=!1,p[n].el=i,p[n].mouseover=e(i,"mouseover",r),p[n].mouseout=e(i,"mouseout",s),p[n].refreshCount=0,p[n].listenersSet=!0;parseInt(p[n].inViewRefreshCount);C()}}function r(){var e=this.id;b("Moused over: ",e);var t=_.getMetricById("viewability",e),n=parseInt(t.moused_over)+1;_.addMetric({type:"viewability",id:e,data:{moused_over:""+n}}),p[e].timer&&(window.clearInterval(p[e].timer),p[e].inView=!1,p[e].timer=null)}function s(){var e=this.id;b("Moused out from "+e+". Restarting listener"),C(p[e])}function l(e){b("Refreshable In-View Slots: ",p),e?b("Detecting if ",e," is in view."):b("Detecting In View Slots.");var t=function(e){var t=p[e];_.getMetricById("viewability",e);t.timer=window.setInterval(function(){var n=t.el,i=(document.hidden,!1);n&&(i=n&&h&&a(n)>=g&&parseInt(t.inViewRefreshCount)>0),i?(b("Slot ["+t.el.id+"] is in view, is being refreshed, and has "+t.inViewRefreshCount+" refreshes remaining."),t.inViewRefreshCounter=p[e].inViewRefreshCounter||0,t.inViewRefreshCount--,t.inViewRefreshCounter++,window.AdFuel.removeSlotLevelTarget(e,"rfv"),window.AdFuel.addSlotLevelTarget(e,"rfv",p[e].inViewRefreshCounter),_.addMetric({type:"viewability",id:e,data:{refresh_count:t.inViewRefreshCounter,last_refresh:Date.now()}}),window.AdFuel.refresh([e]),b("Slot ["+t.el.id+"] is in view, was just refreshed, and still has "+t.inViewRefreshCount+" refreshes remaining.")):(b("Clearing interval for slot: "+t.el.id),window.clearInterval(t.timer),this.inView=!1,this.timer=null)},m)};p.length<1&&b("No registered slots have been rendered yet.");for(var n in p)if(b("Testing: ",n),!e||!e.rktr_slot_id||p.hasOwnProperty(n)&&p[n]==e){var i=p[n],o=i.el,r=!1;o&&(r=o&&h&&a(o)>=g&&parseInt(p[n].inViewRefreshCount)>0),b("Test Result: ",r),r!=i.inView&&(i.inView=r,r?(_.addMetric({type:"viewability",id:n,data:{is_in_view:!0}}),_.addMetric({type:"viewability",id:n,data:{was_in_view:!0}}),b("Test is true. Start timer for slot:",n),t(n)):(_.addMetric({type:"viewability",id:n,data:{is_in_view:!1}}),b("Test is false. Clear timer for slot:",n),window.clearInterval(i.timer),i.timer=null,i.inView=!1))}else{var i=p[n],o=i.el,r=!1;o&&(r=o&&h&&a(o)>=g&&parseInt(p[n].inViewRefreshCount)>0),r!=i.inView&&(i.inView=r,r?(b("Test is true. Refresh slot:",n),t(n)):(b("Test is false. Clear timer for slot:",n),window.clearInterval(i.timer),i.timer=null,i.inView=!1))}}function d(e,n){for(var i=!1,a=[],o=1;o<e.length;o++){var r=e[o];r.hasInViewRefresh=e[0].hasInViewRefresh?e[0].hasInViewRefresh:r.hasInViewRefresh||"false","true"==r.hasInViewRefresh&&(r.inViewRefreshCounter=0,i=!0,a.push(r.rktr_slot_id),_.addMetric({type:"viewability",id:r.rktr_slot_id,data:{is_in_view:!1,was_in_view:!1,moused_over:"0",refresh_count:"0",max_refresh:JSON.parse(JSON.stringify(r.inViewRefreshCount))}}))}return _.addMetric({type:"modules",id:"In View Refresh",data:{registeredSlots:a}}),i&&t(),n&&n(),null}function c(e,t){
for(var n=0;n<e.length;n++){var i=e[n];"true"==i.hasInViewRefresh?(b("Slot is configured for in view refresh.  Creating _refreshableInViewSlots["+i.rktr_slot_id+"]..."),p[i.rktr_slot_id]=i):b("Slot is not configured for in view refresh. ["+i.rktr_slot_id+"]")}if(p.length>0){_.addMetric({type:"viewability",id:"General",data:{viewability:"active",render_listener:"Active",window_listener:"Active",mutation_observer:"Inactive",registeredSlots:Object.getOwnPropertyNames(p).length,criteria:100*o+"% in view for "+a/1e3+" seconds"}});var a=35e3,o=.5}_.addMetric({type:"modules",id:"In View Refresh",data:{registeredSlots:Object.getOwnPropertyNames(p)}}),t()}function u(){_=window.AdFuel.registerModule("In View Refresh",{preQueueCallback:d,preDispatchCallback:c})}var p={},f=!1,h=!0,m=35e3,g=.5,v=Object.prototype,y=v.toString,w=function(){return!1},_={metrics:{},addMetric:w,getMetricById:w,getMetricsByType:w,getMetricTypes:w};_debounce=function(e,t,n){var i;return function(){var a=this,o=arguments,r=function(){i=null,n||e.apply(a,o)},s=n&&!i;clearTimeout(i),i=setTimeout(r,t),s&&e.apply(a,o)}};var b=function(){};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===y.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(b=function(){var e=["[AdFuelModule - In View Refresh]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var C=_debounce(l,300,!1);(function(){window.AdFuel?u():e(window,"AdFuelCreated",u),setInterval(function(){window.AdFuel.updateCorrelator&&window.AdFuel.updateCorrelator()},3e4)})()}(),!0===CNN.Features.enableIndexExchange&&function(){function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function t(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null}return null}function n(){for(var e="",t=0;t<10;t++)e+=Math.floor(9*Math.random()).toString();return e}function i(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function a(e,t){N("Bid Timed Out: ",e),t()}function o(e,t){if(e){var n=1;if("object"==typeof e){n=Object.getOwnPropertyNames(e).length}if(1==n&&void 0!==e.id)N("Invalid Bid Request Parameter or No Bids Available.");else if(e.seatbid&&e.seatbid.length>0)for(var i=0;i<e.seatbid.length;i++)for(var a=e.seatbid[i].bid,o=0;o<a.length;o++){var r=a[o].impid||"",s=r.split("_");5==s.length&&s.shift();var l=s.shift(),d=s.join("_"),c=R[d];D[c]=D[c]||[];var u=a[o].price||0,p=a[o].ext.pricelevel||"_10",f=a[o].adm||"",h=l+"_"+d+p;D[c].push({size:l,slot:c,price:u,tier:p,markup:f,keyValue:h}),T("Slot ["+c+"] and size ["+l+"] has a bid for "+u+" and a pricelevel of "+p+"."),M[c]=M[c]||[],T("Pushing keyValue for slot: ",h,c),M[c].push(h)}}W.stashedCallback=function(){},t&&t(),!1!==P&&I("IndexExchange Initial Load")}function r(e,t){j=t,o(e,p)}function s(e){if(e.data&&"function"==typeof e.data.indexOf&&e.data.indexOf("0=goog_")<0&&e.origin.indexOf("publisherconsole.appspot.com")<0){var t=e.data;try{t=JSON.parse(e.data),"ix_render"==t.action?(T("IX Message Received: ",{event:e,data:t}),l(e.source,t.pattern,t.index,t.element)):e.origin}catch(e){}}}function l(e,t,n,i){if(D[i]&&D[i].length>0)for(var a=0;a<D[i].length;a++){D[i][a];n.indexOf(D[i][a].size)>=0&&(T("Rendering IX Ad for : "+D[i][a].slot+" - "+D[i][a].size),e.postMessage({referrer:"AdFuel",markup:D[i][a].markup},"*"))}}function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function c(e){T("Validating Slot: ",e);var t=!0,n=!1,a=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],o=["_ns_","_nfs_"],r=["super-ad-zone","super_ad_zone"],s=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"];for(var l in o)e.rktr_slot_id.indexOf(o[l])>=0&&(T("Slot is invalid due to a non-monetized mapping: ",o[l],e),t=!1);for(var d in r)e.rktr_ad_id.indexOf(r[d])>=0&&(T("Slot is invalid due to a non-monetized ad unit segment: ",r[d],e),t=!1);for(var c in s)e.rktr_ad_id==r[d]&&(T("Slot is invalid due to a non-monetized ad unit: ",s[c],e),t=!1);for(var u=[],p=0;p<e.responsive.length;p++){var f=i(),h=e.responsive[p];!n&&h[0][0]<f[0]&&h[0][1]<f[1]&&(n=!0,u=h[1],"suppress"!=h[1][0]&&"suppress"!=u||(T("Slot is invalid due to responsive suppression.",e),t=!1))}if(t&&u.length>0&&(T("Setting Sizes To Responsive Sizes: ",u),e.sizes=u),t)for(var m=0;m<e.sizes.length;m++){var g=e.sizes[m];"suppress"!==g&&(g=g.join("x")),a.indexOf(g)<0&&(T("Filtering out non-monetized size: ",g,e),e.sizes.splice(m,1),m-=1)}return 0==e.sizes.length&&(T("Slot is invalid due to no monetized sizes.",e),t=!1),{slot:e,valid:t}}function u(t,r){k("IndexExchange Initial Load");var s=n(),l={id:s,site:{page:document.location.href.replace("localhost","arabic.cnn.com"),ref:document.location.origin.replace("localhost","arabic.cnn.com")},imp:[]},u=t.registry?t.registry:t,p=(t.id?t.id:t[0].rktr_id,t.options?t.options:{}),f=[];if(f.push(u[0]),p.slotMap)for(var h in p.slotMap)p.slotMap.hasOwnProperty(h)&&(u=u.filter(function(e){return e.rktr_slot_id==h&&(e.rktr_slot_id=p.slotMap[h],f.push(e)),!0}));f.length>1&&(u=f);for(var h=1;h<u.length;h++){var m=c(u[h]);if(1==m.valid){for(var g,v=m.slot,y=v.targeting,w=0;w<y.length;w++)y[w].indexOf("pos")>=0&&(g=y[w][1]);O[v.rktr_slot_id]=g,R[g]=v.rktr_slot_id;var b=i(),C=v.rktr_ad_id.indexOf("/homepage")>=0&&b[0]>=728,x=b[0]<728,A=!1;(x||_.any)&&(A=!0);for(var E={"edition.cnn.com":{hp_728x90_bnr_atf_01:190561,hp_970x250_bnr_atf_01:191334,hp_300x250_rect_atf_01:191335,hp_300x250_rect_btf_01:196190,hp_300x250_rect_btf_03:196191,"728x90_bnr_atf_01":194945,"970x250_bnr_atf_01":194946,hp_728x90_bnr_btf_04:196192,hp_970x250_bnr_btf_04:196193,"300x250_rect_atf_01":191336,"300x600_rect_atf_01":191337,"300x250_rect_atf_02":191338,"300x600_rect_atf_02":196207,"300x250_rect_btf_01":191333,"300x600_rect_btf_01":191339,"970x250_rect_btf_01":191345,"300x250_rect_btf_02":191340,"970x250_rect_btf_02":191348,"300x600_rect_btf_02":196202,"728x90_bnr_btf_01":191347,"728x90_bnr_btf_02":196194,"300x250_rect_btf_03":191341,"300x600_rect_btf_03":191342,"728x90_bnr_btf_03":191343,"728x90_bnr_btf_04":196203,"300x250_rect_btf_04":191344,"300x600_rect_btf_04":196204,mob_320x50_bnr_atf_01:196205,mob_300x250_bnr_atf_01:196197,mob_300x250_rect_atf_01:191349,mob_300x250_rect_btf_01:191350,mob_300x250_rect_btf_02:191351,mob_300x250_rect_btf_03:191352,mob_300x250_rect_btf_04:191353},"cnnespanol.cnn.com":{"728x90_bnr_atf_01":191389,"970x250_bnr_atf_01":191390,"728x90_bnr_btf_01":191391,"970x250_bnr_btf_01":191392,"300x250_rect_atf_01":191393,hp_300x250_rect_btf_01:191394,hp_300x250_rect_atf_01:191395,"300x600_rect_atf_01":191396,"300x250_rect_btf_01":191397,"300x600_rect_btf_01":191398,mob_300x250_rect_atf_01:191399,mob_300x250_bnr_atf_01:203451,mob_320x250_bnr_atf_01:203452,mob_300x250_bnr_btf_01:203453,mob_300x250_rect_btf_01:191400},"arabic.cnn.com":{"728x90_bnr_btf_01":191401,"970x250_bnr_btf_01":191402,"728x90_bnr_atf_01":191403,"970x250_bnr_atf_01":191404,hp_300x250_rect_atf_01:191405,hp_300x250_rect_btf_01:191406,"300x250_rect_btf_02":191407,"300x250_rect_atf_01":191408,"300x600_rect_atf_01":191409,"300x250_rect_btf_01":191410,"300x600_rect_btf_01":191411,"300x600_rect_btf_03":203454,mob_300x250_rect_atf_01:191412,mob_300x250_rect_atf_02:191413,mob_300x250_rect_btf_02:191414,mob_300x250_rect_btf_03:191415,mob_300x250_rect_btf_02:191416,mob_300x250_rect_btf_04:191417,mob_300x250_rect_btf_05:191418}},S=0;S<v.sizes.length;S++){var N=v.sizes[S],I=N.join("x")+"_"+g[0],M=I;C&&(M="hp_"+I),A&&(M="mob_"+I),"cnne-test.cnn.com"==z&&(z="cnnespanol.cnn.com");var D=E[z]?E[z][M]:0;if(0!=D&&D||!C||(D=E[z]?E[z][I]:0),D&&0!==D){"111111"==q&&(q=D);var j={id:I,banner:{w:N[0],h:N[1],topframe:0},ext:{siteID:D,sid:M}};l.imp.push(j),L[v.rktr_slot_id]=j}else T("No siteId found: ",{pos:g[0],size:N.join("x"),impId:I,modImpId:M,map:E[z]})}}else T("Invalid Slot: ",m)}var P=n(),U=e("ix_debug")?"http://sandbox.ht.indexexchange.com/cygnus?v=7&cb=":"https:"===window.location.protocol?"https://as-sec.casalemedia.com/cygnus?v=7&cb=":"http://as.casalemedia.com/cygnus?v=7&cb=";U=U+P+"&s="+q+"&pid="+F+"&fn=ixCallback_"+P+"&r="+d(JSON.stringify(l)),B.push(l),W.stashedCallback=r,W.send(U,{callbackName:"ixCallback_"+P,onSuccess:o,onTimeout:a,timeout:1})}function p(e,t){e||(e=Object.getOwnPropertyNames(M).map(function(e){return{rktr_slot_id:e}})),e.slots&&(e=e.slots);for(var n=0;n<e.length;n++){var i=M[e[n].rktr_slot_id];i&&i.length>0&&(window.AdFuel.addSlotLevelTarget(e[n].rktr_slot_id,"elemId",e[n].rktr_slot_id),window.AdFuel.addSlotLevelTarget(e[n].rktr_slot_id,"iom",i))}t?t():"function"==typeof j&&(j(),I("IndexExchange Refresh"))}function f(t,i){P=!1,k("IndexExchange Refresh");for(var o=n(),s=window.googletag.pubads().getSlots(),l=0;l<s.length;l++){var c=s[l];c.clearTargeting("iom"),M[c.getSlotElementId()]&&(M[c.getSlotElementId()]=[])}for(var u={id:o,site:{page:document.location.href,ref:e("domain")?e("domain"):document.location.origin},imp:[]},l=0;l<t.length;l++)L[t[l]]&&u.imp.push(L[t[l]]);var p=n(),f=e("ix_debug")?"http://sandbox.ht.indexexchange.com/cygnus?v=7&cb=":"https"===window.location.protocol?"https://as-sec.casalemedia.com/cygnus?v=7&cb=":"http://as.casalemedia.com/cygnus?v=7&cb=";f=f+p+"&s="+q+"&pid="+F+"&fn=ixCallback_"+p+"&r="+d(JSON.stringify(u)),W.stashedCallback=i,W.send(f,{callbackName:"ixCallback_"+p,onSuccess:r,onTimeout:a,timeout:2})}function h(){T("Registering "+y+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3,refreshCallbackTimeoutInMilliseconds:2e3}),window.AdFuel.ix_render=l,w=window.AdFuel.registerModule(y,{preQueueCallback:u,preDispatchCallback:p,preRefreshCallback:f})||w}var m=Object.prototype,g=m.toString,v=function(){},y="IndexExchange",w={metrics:{},addMetric:v,getMetricById:v,getMetricsByType:v,getMetricTypes:v},_=!1,b=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,C=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,x=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,A=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),E=function(e,t){return e.test(t)},S=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:E(/iPhone/i,t),ipod:E(/iPod/i,t),tablet:!E(/iPhone/i,t)&&E(/iPad/i,t),device:E(/iPhone/i,t)||E(/iPod/i,t)||E(/iPad/i,t)},this.amazon={phone:E(C,t),tablet:!E(C,t)&&E(x,t),device:E(C,t)||E(x,t)},this.android={phone:E(C,t)||E(b,t),tablet:!E(C,t)&&!E(b,t)&&(E(x,t)||E(/Android/i,t)),device:E(C,t)||E(x,t)||E(b,t)||E(/Android/i,t)},this.windows={phone:E(/Windows Phone/i,t),tablet:E(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t),device:E(/Windows Phone/i,t)||E(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t)},this.other={blackberry:E(/BlackBerry/i,t),blackberry10:E(/BB10/i,t),opera:E(/Opera Mini/i,t),firefox:E(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t),chrome:E(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t),device:E(/BlackBerry/i,t)||E(/BB10/i,t)||E(/Opera Mini/i,t)||E(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t)||E(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t)},this.seven_inch=E(A,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},_=function(){var e=new S;return e.Class=S,e}(),T=v,N=v,k=v,I=v;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===g.call(e)}(window.console.log)&&"true"==e("debug")&&(console.log("[AdFuelModule - "+y+"] Defining log functions."),T=function(){var e=["[AdFuelModule - "+y+"]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},N=function(){var e=["[AdFuelModule - "+y+" WARNING]"];e.push.apply(e,arguments),window.console.warn.apply(window.console,e)},function(){var e=["[AdFuelModule - "+y+" ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)},k=function(){var e=["[AdFuelModule - "+y+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)},I=function(){var e=["[AdFuelModule - "+y+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.timeEnd(t)});var F=(t("countryCode")||t("CG")&&t("CG").substr(0,2),184694),O={},R={},M={},D={},B=[],j=null,P=!0,L={},q="111111",z=e("domain")?e("domain"):document.location.hostname,U=["edition.cnn.com","arabic.cnn.com","cnnespanol.cnn.com","cnne-test.cnn.com"];window.addEventListener("message",s,!1);var W=function(){var e={};return e.stashedCallback=function(){},e.send=function(t,n){var i=n.callbackName||"callback",a=n.onSuccess||function(){},o=n.onTimeout||function(){},r=n.timeout||10,s=window.setTimeout(function(){window[i]=function(){},o(null,e.stashedCallback)},1e3*r);window[i]=function(t){window.clearTimeout(s),a(t,e.stashedCallback)};var l=document.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,document.getElementsByTagName("head")[0].appendChild(l)},e}();window.processResults=o,function(){U.indexOf(z)>=0?(T("Valid Hostname: ",z),T("Initializing "+y+" Module..."),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(h):window.AdFuel?h():document.addEventListener?document.addEventListener("AdFuelCreated",h,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",h)):(T("Invalid Hostname: ",z),T("Not initializing "+y+" Module."))}()}(),!0===CNN.Features.enableIntegralAdScience&&function(){function e(e){d("IAS Data Handler..."),d({adSlots:e}),window.__iasPET.setTargetingForGPT()}function t(t,n){d("Building slots for IAS..."),window.__iasPET.pubId="925660",d("Asset: ",t,"Slots: ",t.length-1);for(var i=[],a=1;a<t.length;a++)d("Checking Slot: ",t[a]),t[a].rktr_ad_id.search(/^cnni\/(video|homepage|(.+\/(landing|main|video)))/)<0?(d("Pushing Slot: ",{adSlotId:t[a].rktr_slot_id,size:t[a].sizes,adUnitPath:"/8663477/"+t[a].rktr_ad_id}),i.push({adSlotId:t[a].rktr_slot_id,size:t[a].sizes,adUnitPath:"/8663477/"+t[a].rktr_ad_id})):d("Invalid Slot: ",t[a].rktr_ad_id);d("Built Ad Slots: ",i),window.__iasPET.queue.push({adSlots:i,dataHandler:e}),setTimeout(function(){n()},900)}function n(e,t){setTimeout(function(){d("Adding IAS Targeting to slots...");try{window.__iasPET.setTargetingForGPT()}catch(e){c("Could not set IAS targeting: ",e)}t()},900)}function i(){u&&(d("Registering "+l+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3}),metricApi=window.AdFuel.registerModule(l,{preQueueCallback:t,preDispatchCallback:n})||metricApi)}function a(){if(-1!==document.location.hostname.search(/^edition.*\.cnn\.com$/)||"localhost"===document.location.hostname){d("Adding IAS script to head...");var e=document.createElement("script");e.async=!0,e.src="//cdn.adsafeprotected.com/iasPET.1.js";var t=document.getElementsByTagName("head")[0];t.insertBefore(e,t.firstChild),u=!0}}var o=Object.prototype,r=o.toString,s=function(){},l="Integral Ad Science",d=s,c=s;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===r.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(d=function(){var e=["[AdFuelModule - "+l+"]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},c=function(){var e=["[AdFuelModule - "+l+"]"];e.push.apply(e,arguments),window.console.warn.apply(window.console,e)},function(){var e=["[AdFuelModule - "+l+" ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)},function(){var e=["[AdFuelModule - "+l+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)});var e,u=!1;window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],d("Initializing "+l+" Module..."),function(){a(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(i):window.AdFuel?i():document.addEventListener?document.addEventListener("AdFuelCreated",i,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",i)}()}(),!0===CNN.Features.enableKrux&&function(){var e=function(){return!1},t={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),window.kvs=[],function(){function e(e){var t,n="kx"+e;return window.localStorage?window.localStorage[n]||"":navigator.cookieEnabled?(t=document.cookie.match(n+"=([^;]*)"))&&decodeURIComponent(t[1])||"":""}window.Krux.user=e("user"),window.Krux.segments=e("segs")&&e("segs").split(",")||[];for(var t=0;t<window.Krux.segments.length;t++)window.kvs.length<20&&window.kvs.push(window.Krux.segments[t])}(),window.krux_getDESegments=function(){var e="&kxid=";return window.Krux.user&&(e+=window.Krux.user),e+="&kxseg="+window.kvs.join(",")},window.krux_getFWSegments=function(){return"kxseg="+window.kvs.join(",kxseg=")},window.krux_getUser=function(){return window.Krux.user},window.krux_getFWKeyValues=function(e,t){for(var n=e||"_fwu:386123:",i=t||35,a={},o=0;o<window.Krux.segments.length;o++)o<i&&(a[n+window.Krux.segments[o]]=1);return a},window.Krux.setControlTag=function(e){function n(){function e(){var e=window.Krux.user,n=window.Krux.segments;o("setting krux targeting",{kuid:e,ksg:n}),t=window.AdFuel.registerModule("Krux",{}),window.AdFuel.addPageLevelTarget("kuid",e),window.AdFuel.addPageLevelTarget("ksg",n),t.addMetric({type:"modules",id:"Krux",data:{targeting:{kuid:e,ksg:n}}})}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var i=Object.prototype,a=i.toString,o=function(){};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===a.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(o=function(){var e=["[AdFuelModule - Krux]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var r=document,s=r.createElement("script"),l=r.getElementsByTagName("script")[0],d=/^(complete|loaded)$/,c=!1;s.type="text/javascript",s.async=!0;var u,p=(u=location.href.match(/\bkxsrc=([^&]+)/))&&decodeURIComponent(u[1]);s.src=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(p)?p:"disable"===p?"":("https:"===location.protocol?"https:":"http:")+"//cdn.krxd.net/controltag?confid="+e,s.onload=s.onreadystatechange=function(){c||"readyState"in s&&d.test(s.readyState)||(s.onload=s.onreadystatechange=null,c=!0,n())},l.parentNode.insertBefore(s,l)},window.Krux.setControlTag("ITb_4eqO")}(),!0===CNN.Features.enablePiiAdFilter&&function(){function e(){new RegExp(a);if(document.location.search){var e,t=document.location.search.search(a)+1;try{e=decodeURIComponent(document.location.search).search(a)+1}catch(n){e=t}return t||e}return!1}function t(){new RegExp(a);if(document.location.hash){var e,t=document.location.hash.search(a)+1;try{e=decodeURIComponent(document.location.hash).search(a)+1}catch(n){e=t}return t||e}return!1}function n(){new RegExp(a);if(document.referrer){var e,t=document.referrer.search(a)+1;try{e=decodeURIComponent(document.location.referrer).search(a)+1}catch(n){e=t}return t||e}return!1}function i(){if(e()||t()||n()){console.log("[AdFuelModule - PII Filter] Filtering DFP Request due to PII in query string.");for(var i=Object.getOwnPropertyNames(window.AdFuel),a=0;a<i.length;a++)window.AdFuel[i[a]]=function(){};window.googletag=null}}var a=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})/i;!function(){window.AdFuel?i():document.addEventListener?document.addEventListener("AdFuelCreated",i,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",i)}()}(),!0===CNN.Features.enableProximic&&function(){function e(e){f="",window.proximicData=[],window.AdFuel.removePageLevelTarget("pconid");var n=e||document.location.href;window.location.hostname.toLowerCase().match(/^train\.next\.cnn\.com/)&&n.replace("train.next.","www"),p="//segment-data-us-east.zqtk.net/turner-47fcf6?url="+encodeURIComponent(n),document.getElementById("proximic-script"),g=!1,t(),l=0,a()}function t(){if(!g){var e=document.createElement("script");e.id="proximic-script",e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https:":"http:")+p;document.getElementsByTagName("script")[0].parentNode.appendChild(e),v("Added Proximic script to head of page.",p),g=!0}}function n(e,t){""!==e&&void 0!==e&&(v("Setting data for DFP",e),window.AdFuel.addPageLevelTarget("pconid",e),window.AdFuel.removePageLevelTarget("prx_to","1"),window.AdFuel.addPageLevelTarget("prx_to","0"),s.addMetric({type:"modules",id:"Proximic",data:{targeting:{pconid:e}}}),t&&t())}function i(e,n){var i,o,r=!0;try{for(document.location.hostname.indexOf("money")>=0&&(!window.CNNMONEY||!window.CNNMONEY.adTargets||!window.CNNMONEY.adTargets.c_type||["article","video","gallery"].indexOf(window.CNNMONEY.adTargets.c_type)<0)&&(r=!1),o=1;o<e.length;o++){if(i=e[o].rktr_ad_id.toLowerCase(),i.search(/^cnn\/(homepage|(.+\/landing))/)<0&&i.search(/^cnni\/(homepage|(.+\/(landing|main)))/)<0&&r){v("Adding Proximic based on ad unit specifications: ",i),t(),a(n);break}v("Filtering Proximic based on ad unit specifications: ",i)}}catch(e){v("Error parsing Proximic data: ",e.message||"Unknown")}}function a(e){v("Waiting for data..."),setTimeout(function(){l++,v("SegmentData: ",f),""!==f&&void 0!==f?(v("Proximic Data found!"),n(f,e)):l*d<c?a(e):(v("Proximic Timeout Occurred!"),window.AdFuel.addPageLevelTarget("prx_to","1"),e&&e())},d)}function o(){s=window.AdFuel.registerModule("Proximic",{postQueueCallback:i}),window.AdFuel.addPageLevelTarget("prx_to","1")}var r=function(){return!1},s={addMetric:r,getMetricById:r,getMetricsByType:r,getMetricTypes:r},l=0,d=50,c=2e3,u=document.location.href;window.location.hostname.toLowerCase().match(/^train\.next\.cnn\.com/)&&u.replace(/^http[s]?:\/\/(train|stage|sweet)(\.next)?\.cnn\.com/,"$1www");var p="//segment-data-us-east.zqtk.net/turner-47fcf6?url="+encodeURIComponent(u),f="",h=Object.prototype,m=h.toString,g=!1;window.proximicData=[];var v=function(){};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===m.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(v=function(){var e=["[AdFuelModule - Proximic/comScore]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.gotSegmentData=function(e){e.data&&(v("Segment Data: ",e.data),f=e.data,window.proximicData=e.data)},window.recallProximic=e,function(){window.AdFuel?o():document.addEventListener?document.addEventListener("AdFuelCreated",o,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",o)}()}(),function(){var e=function(){return!1},t={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.cnnad_transactionID=null,window.cnnad_getTransactionID=function(){return window.cnnad_transactionID||(window.cnnad_transactionID=Math.round((new Date).getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.cnnad_transactionID},window.turner_getTransactionId=window.cnnad_getTransactionID,window.turner_getTransactionId(),function(){function e(){var e=window.turner_getTransactionId();t=AdFuel.registerModule("Transaction Id",{}),t.addMetric({type:"modules",id:"Transaction Id",data:{targeting:{transId:e}}}),window.AdFuel.addPageLevelTarget("transId",e)}var n=Object.prototype,i=n.toString;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===i.call(e)}(window.console.log)&&function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);i&&i[1]}}("debug"),window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}()}()),function(){if(!window.Aspen){var VERSION="1.8.0",debug=-1!==[window.location.search,window.location.hash].join().search(/\bdmtdebug\b/),Class=function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,n=function(){};return n.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var a=this.prototype;e=!0;var o=new this;e=!1;for(var r in n)o[r]="function"==typeof n[r]&&"function"==typeof a[r]&&t.test(n[r])?function(e,t){return function(){var n=this._super;this._super=a[e];var i=t.apply(this,arguments);return this._super=n,i}}(r,n[r]):n[r];return i.prototype=o,i.constructor=i,i.extend=arguments.callee,i},n}();!function(e,t,n){function i(){var e=p;return e.loader={load:a,i:0},e}function a(e,t,n){var i="c"==t?S:E;return y=0,t=t||"j",k(e)?o(i,e,t,this.i++,f,n):(v.splice(this.i++,0,e),1==v.length&&r()),this}function o(e,n,i,a,o,s){function l(){!f&&c(u.readyState)&&(g.r=f=1,!y&&d(),u.onload=u.onreadystatechange=null,h(function(){b.removeChild(u)},0))}var u=t.createElement(e),f=0,g={t:i,s:n,e:s};u.src=u.data=n,!_&&(u.style.display="none"),u.width=u.height="0","object"!=e&&(u.type=i),u.onload=u.onreadystatechange=l,"img"==e?u.onerror=l:"script"==e&&(u.onerror=function(){g.e=g.r=1,r()}),v.splice(a,0,g),b.insertBefore(u,_?null:m),h(function(){f||(b.removeChild(u),g.r=g.e=f=1,d())},p.errorTimeout)}function r(){var e=v.shift();y=1,e?e.t?h(function(){"c"==e.t?s(e):l(e)},0):(e(),d()):y=0}function s(e){var n,i=t.createElement("link");if(i.href=e.s,i.rel="stylesheet",i.type="text/css",e.e||!x&&!w)i.onload=function(){n||(n=1,h(function(){d()},0))},e.e&&i.onload();else{var a=function(e){h(function(){if(!n)try{e.sheet.cssRules.length?(n=1,d()):a(e)}catch(t){1e3==t.code||"security"==t.message||"denied"==t.message?(n=1,h(function(){d()},0)):a(e)}},0)};a(i)}h(function(){n||(n=1,d())},p.errorTimeout),!e.e&&m.parentNode.insertBefore(i,m)}function l(e){var n,i=t.createElement("script");i.src=e.s,i.onreadystatechange=i.onload=function(){!n&&c(i.readyState)&&(n=1,d(),i.onload=i.onreadystatechange=null)},h(function(){n||(n=1,d())},p.errorTimeout),e.e?i.onload():m.parentNode.insertBefore(i,m)}function d(){for(var e=1,t=-1;v.length-++t&&(!v[t].s||(e=v[t].r)););e&&r()}function c(e){return!e||"loaded"==e||"complete"==e}var u,p,f=t.documentElement,h=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,w="MozAppearance"in f.style,_=w&&!!t.createRange().compareNode,b=_?f:m.parentNode,C=e.opera&&"[object Opera]"==g.call(e.opera),x="webkitAppearance"in f.style,A=x&&"async"in t.createElement("script"),E=w?"object":C||A?"img":"script",S=x?"img":E,T=Array.isArray||function(e){return"[object Array]"==g.call(e)},N=function(e){return Object(e)===e},k=function(e){return"string"==typeof e},I=function(e){return"[object Function]"==g.call(e)},F=[],O={};p=function(e){function t(e,t){function n(e){if(k(e))a(e,l,t,0,o);else if(N(e))for(i in e)e.hasOwnProperty(i)&&a(e[i],l,t,i,o)}var i,o=!!e.test,r=o?e.yep:e.nope,s=e.load||e.both,l=e.callback;n(r),n(s),e.complete&&t.load(e.complete)}function a(e,t,a,r,s){var l=o(e),d=l.autoCallback;if(!l.bypass){if(t&&(t=I(t)?t:t[e]||t[r]||t[e.split("/").pop().split("?")[0]]),l.instead)return l.instead(e,t,a,r,s);a.load(l.url,l.forceCSS||!l.forceJS&&/css$/.test(l.url)?"c":n,l.noexec),(I(t)||I(d))&&a.load(function(){i(),t&&t(l.origUrl,s,r),d&&d(l.origUrl,s,r)})}}function o(e){var t,n,i=e.split("!"),a=F.length,o=i.pop(),r=i.length,s={url:o,origUrl:o,prefixes:i};for(n=0;n<r;n++)(t=O[i[n]])&&(s=t(s));for(n=0;n<a;n++)s=F[n](s);return s}var r,s,l=this.yepnope.loader;if(k(e))a(e,0,l,0);else if(T(e))for(r=0;r<e.length;r++)s=e[r],k(s)?a(s,0,l,0):T(s)?p(s):N(s)&&t(s,l);else N(e)&&t(e,l)},p.addPrefix=function(e,t){O[e]=t},p.addFilter=function(e){F.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=i()}(this,this.document);var Ajax={requestMap:{},jsonpRegistry:{},_counter:0,request:function(e){e=Utils.extend({timeout:5e3,maxRetries:0},e||{}),e.tries=0,this._sendRequest(e)},_sendRequest:function(e){var t=this,n=this._createCallback(e),i=this._createScript(n);if(!i)return Utils.log("JSONP - unable to create script for request ",e.url),!1;i.src=e.url,e.timeout&&setTimeout(function(){t._onError(n,e)},e.timeout)},_onSuccess:function(id,obj,data){this.requestMap[id]&&(this._destroyRequest(id,obj),Utils.isString(data)&&(data=eval("("+data+")")),obj.success&&obj.success(data))},_onError:function(e,t){if(this.requestMap[e]){if(this._destroyRequest(e,t),t.tries++,t.maxRetries&&t.tries<t.maxRetries)return Utils.log("Request failed - resending"),void this._sendRequest(t);t.error&&t.error(t.url)}},_destroyRequest:function(e,t){if(t.jsonpCallback){if(!this._removeNameFromRegistry(t.jsonpCallback))try{delete window[t.jsonpCallback]}catch(e){window[t.jsonpCallback]=void 0}}delete this.requestMap[e];var n=document.getElementById(this._getScriptName(e));n&&(n.parentNode.removeChild(n),n=null)},_createScript:function(e){var t=document.getElementsByTagName("head")[0];if(!t)return!1;var n=document.createElement("script");return n.type="text/javascript",e&&(n.id=this._getScriptName(e)),t.appendChild(n),n},_getScriptName:function(e){return"aspen_jsonp_"+e},_createCallback:function(e){var t=this;if(Utils.empty(e.jsonpCallback))return null;this._counter++;var n="request_"+this._counter;this.requestMap[n]=function(i){t._onSuccess(n,e,i)};this._addNameToRegistry(e.jsonpCallback);return window[e.jsonpCallback]=function(e){t.requestMap[n](e)},n},_addNameToRegistry:function(e){var t=this.jsonpRegistry;return t[e]?t[e]+=1:t[e]=1,t[e]},_removeNameFromRegistry:function(e){var t=this.jsonpRegistry;return t[e]&&(t[e]-=1,0===t[e]&&delete t[e]),t[e]}},BatchService=Class.extend({init:function(e){this._enabled=!1,this._queue=[],this._config=e,this._timer,this._firstPostTimer},start:function(e){if(this._config=e,this._enabled=!0,_analyticsConfig.batchMode==BATCH_MODE_TIMER){Utils.log("[aspen]","start timer");var t=this;this._timer=setTimeout(function(){t._postTimerEvent()},1e3*Number(_analyticsConfig.batchModeAmount));var n=Math.ceil(Math.random()*Number(_analyticsConfig.batchModeAmount));n==Number(_analyticsConfig.batchModeAmount)&&--n<=0&&(n=.5),Utils.log("[aspen]","random time: "+n),
this._firstPostTimer=setTimeout(function(){t._firstPostTimerEvent()},1e3*n)}},add:function(e){if(this._addToQueue(e),!this._enabled)return void Utils.log("[aspen]","Batch service not enabled. Queuing message.");_analyticsConfig.enabled&&!this._config.batchThrottled?(_analyticsConfig.batchMode==BATCH_MODE_TOTAL?this._queue.length==_analyticsConfig.batchModeAmount&&this.post():_analyticsConfig.batchMode==BATCH_MODE_NONE?this.post():_analyticsConfig.batchMode!=BATCH_MODE_TIMER&&this.post(),this._queue.length>0&&("error"==e.eventType&&void 0!==_analyticsConfig.highPriorityErrors?this.flushByError(e.eventData):"error"!=e.eventType&&void 0!==_analyticsConfig.highPriorityEvents&&this.flushByEvent(e.eventType))):(_analyticsConfig.enabled&&Utils.log("[aspen]","Aspen is diabled via analyticsConfig. Message not added."),this._config.batchThrottled&&Utils.log("[aspen]","Batching is throttled. Message not added."))},_addToQueue:function(e){Utils.log("[aspen]","Adding message to batch queue."),this._queue.push(e)},post:function(){if(this._config.postThrottled)Utils.log("[aspen]","Batch posting is throttled. Batch not posted.");else{var e={sessionId:this._config.sessionId,events:this._queue};if(Utils.log("[aspen]","send batch string"),"gzip"==_analyticsConfig.batchContentEncoding){var t="?aspenJson="+JSON.stringify(e);e=encodeURIComponent(t).replace(/%20/g,"+")}TransportManager.createRequest(_analyticsConfig.batchApi,e,this._postSuccess,this._postFailure,this),this._queue=[]}},_postTimerEvent:function(){Utils.log("[aspen]","postTimer - queue.length: "+this._queue.length),this._queue.length>0?(Utils.log("[aspen]","posting "+this._queue.length+" messages"),this.post()):Utils.log("[aspen]","no messages to post");var e=this;this._timer=setTimeout(function(){e._postTimerEvent()},1e3*Number(_analyticsConfig.batchModeAmount))},_firstPostTimerEvent:function(){Utils.log("[aspen]","firstPostTimer - queue.length: "+this._queue.length),this._queue.length>0?(Utils.log("[aspen]","posting "+this._queue.length+" messages"),this.post()):Utils.log("[aspen]","no messages to post")},_postSuccess:function(e){Utils.log("[aspen]","post success: "+e)},_postFailure:function(e){Utils.log("[aspen]","post failed: "+e)},flushByError:function(e){if(void 0!==e.errorCode){var t=e.errorCode,n=t.substring(0,2),i=t.substring(2,4),a=t.substring(4,6),o=t.substring(6),r=[];r=_analyticsConfig.highPriorityErrors.split(",");for(var s="",l="",d="",c="",u=[],p=[],f=[],h=[],m=0,g=r.length;m<g;++m)switch(m){case 0:s=String(r[m]),u=s.split("+");break;case 1:l=String(r[m]),p=l.split("+");break;case 2:d=String(r[m]),f=d.split("+");break;case 3:c=String(r[m]),h=c.split("+")}for(m=0,g=u.length;m<g;++m){var v=String(u[m]);if(n==v||"*"==v)for(var y=0,w=p.length;y<w;++y){var _=String(p[y]);if(i==_||"*"==_)for(var b=0,C=f.length;b<C;++b){var x=String(f[b]);if(a==x||"*"==x)for(var A=0,E=h.length;A<E;++A){var S=String(h[A]);o!=S&&"*"!=S||(Utils.log("[aspen","[flushByError] found match, flushing batch"),this.post())}}}}}},flushByEvent:function(e){for(var t=_analyticsConfig.highPriorityEvents.split(","),n=0,i=t.length;n<i;++n){String(t[n])==e&&(Utils.log("[aspen]","[flushBatchByEvent] found match, flushing batch"),this.post())}},setSessionId:function(e){this._config.sessionId=e},setBatchThrottled:function(e){this._config.batchThrottled=e},setPostThrottled:function(e){this._config.postThrottled=e},disableTimer:function(){_analyticsConfig.batchMode==BATCH_MODE_TIMER&&clearTimeout(this._timer)}}),LoadState={WAITING:"loadStateWaiting",LOADING:"loadStateLoading",READY:"loadStateReady",FAILED:"loadStateFailed"},Aspen=window.Aspen={init:function(e,t){var n=this;if(Utils.undef(this.initialized))if(this.initialized=!0,this.ready=!1,this.batchService,this._isThrottled=!0,this.sessionId=-1,this._messageExcludes=[],this.timeDifference=0,this._shortId="",this._retryTimer,this._retries=0,this._retryTime=0,this._savedSession={},this._timestampStr="",this.sessionToken="",this._appName="",this._transportFormats=[],this._transportFormat="",this._transportFormatIndex=0,this._messageQueue=[],this.config={},this._loadState=LoadState.WAITING,this._configUrl="",this._configLoaded=!1,this._appInitCallback=t,_params=this._options=e,this._appName=_params.appName=_params&&_params.appName,_params.appVersion=_params&&_params.appVersion,_params.site=_params&&_params.site,_params.context=_params&&_params.context,_params.configBaseUrl=_params&&_params.configBaseUrl,_params.platform=_params&&_params.platform,_params.platformVersion=_params&&_params.platformVersion,Utils.empty(_params.appName))Utils.log("[aspen]","Unable to start Aspen, no appName provided");else if(Utils.empty(_params.site))Utils.log("[aspen]","Unable to start Aspen, no site provided");else{var i={};i.batchThrottled=!0,i.postThrottled=!0,this.batchService=new BatchService(i),this._loadState=LoadState.LOADING;var a=new DependencyManager;a.add(new Dependency(Utils.bind(n._loadConfigFile,n))),a.add(new Dependency(Utils.bind(n._loadRequiredJS,n))),a.onComplete(Utils.bind(n._onDependenciesLoaded,n)),a.onFailure(Utils.bind(n._onDependenciesLoadFailure,n)),a.load()}},_loadConfigFile:function(e,t){var n=_params.configBaseUrl;Utils.isNull(n)&&(n=ANALYTICS_BASE_URL+_params.appName+"/"+_params.site+"/"),Utils.log("[aspen]","Using config base path: "+n),this._configUrl=n+ANALYTICS_FILE+"?_="+Utils.timeBucket(15),Ajax.request({jsonpCallback:"aspen_onAnalyticsConfigReceived",url:this._configUrl,success:Utils.bind(this._loadConfigSuccess,this,e),error:Utils.bind(this._loadConfigFailure,this,t)})},_loadConfigSuccess:function(e,t){Utils.log("[aspen]","Config loaded successfully"),_analyticsConfig=Utils.extend(Utils.extend({},t.default||{}),t[_params.context]||{}),this.config=_analyticsConfig,Utils.undef(_analyticsConfig.batchMode)&&(_analyticsConfig.batchMode="total"),Utils.undef(_analyticsConfig.batchModeAmount)&&(_analyticsConfig.batchModeAmount="10"),Utils.undef(_analyticsConfig.helloRetryCount)&&(_analyticsConfig.helloRetryCount="5"),Utils.undef(_analyticsConfig.helloRetryTime)&&(_analyticsConfig.helloRetryTime="10000"),Utils.undef(_analyticsConfig.batchContentEncoding)&&(_analyticsConfig.batchContentEncoding="json"),Utils.undef(_analyticsConfig.aspenUserIdEnabled)&&(_analyticsConfig.aspenUserIdEnabled=!0),Utils.undef(_analyticsConfig.aspenUserIdHash)&&(_analyticsConfig.aspenUserIdHash="392aspenUID392"),Utils.undef(_analyticsConfig.transportFormats)?this._transportFormats.push(TransportFormat.JSONP):this._transportFormats=_analyticsConfig.transportFormats.split(","),this._transportFormat=this._transportFormats[this._transportFormatIndex],Utils.undef(_analyticsConfig.messageExcludes)?this._messageExcludes=[]:this._messageExcludes=_analyticsConfig.messageExcludes.split(",");var n={};n.transportFormats=this._transportFormats,n.servicesUrl=_analyticsConfig.servicesUrl,TransportManager.init(n),Utils.log("[aspen]","batchMode: ",_analyticsConfig.batchMode),Utils.log("[aspen]","batchModeAmount: ",_analyticsConfig.batchModeAmount),Utils.log("[aspen]","helloRetryCount: ",_analyticsConfig.helloRetryCount),Utils.log("[aspen]","helloRetryTime: ",_analyticsConfig.helloRetryTime),Utils.log("[aspen]","transportFormat: ",this._transportFormat),e&&e()},_loadConfigFailure:function(e,t){Utils.log("[aspen]","Config failed to load",t),e&&e()},_loadRequiredJS:function(e,t){var n=this;null!=window.JSON?this._loadRequiredJSSuccess(e):yepnope({load:"https://z.cdn.turner.com/xslo/cvp/easyxdm/js/json2.ugly.js",complete:function(){if(!window.JSON)return void n._loadRequiredJSFailure(t);n._loadRequiredJSSuccess(e)}})},_loadRequiredJSSuccess:function(e){Utils.log("[aspen]","External JS dependencies loaded successfully"),e&&e()},_loadRequiredJSFailure:function(e){Utils.log("[aspen]","External JS dependencies failed to load"),e&&e()},_onDependenciesLoaded:function(){this._loadState=LoadState.READY,Utils.log("[aspen]","_onDependenciesLoaded - all required dependencies successfully loaded."),Utils.undef(_analyticsConfig.enabled)||"true"!==_analyticsConfig.enabled?(Utils.log("[aspen]","analytics disabled via config"),this._initFailure()):(Utils.log("[aspen]","analytics enabled via config"),Utils.undef(_analyticsConfig.servicesUrl)||this._hello())},_onDependenciesLoadFailure:function(){this._loadState=LoadState.FAILED,Utils.log("[aspen]","_onDependenciesLoadFailure - one or more required dependencies failed to load.")},_hello:function(){Utils.log("[aspen]","hello");var e=Utils.getQueryVar("sessionToken");Utils.log("[aspen]","check querySessionToken: ",e),Utils.empty(e)||(this.sessionToken=e,this.send("authSessionReload",{}));var t={propertyName:_params.site,applicationName:_params.appName,applicationVersion:_params.appVersion,deviceType:"Javascript",deviceModel:"Javascript",deviceVersion:"Javascript",library:"Javascript",libraryVersion:"1.8.0",platformName:Utils.empty(_params.platform)?"Javascript":_params.platform,platformVersion:Utils.empty(_params.platformVersion)?"1.8.0":_params.platformVersion,aspenConfigUrl:this._configUrl,protocol:"1.0",pageUrl:document.URL};t=Utils.extend(t,this._options),_analyticsConfig.aspenUserIdEnabled&&(t.aspenUUIDToken=_analyticsConfig.aspenUserIdHash),Utils.empty(this.sessionToken)||(t.sessionToken=this.sessionToken),TransportManager.bootstrapTM(),TransportManager.createRequest(_analyticsConfig.helloApi,t,this._helloSuccess,this._helloFailure,this),this._retryTimer=setTimeout(Utils.bind(this._helloRetry,this),Number(_analyticsConfig.helloRetryTime)),this._isRetrying=!0},_helloSuccess:function(e){Utils.log("[aspen]","_helloSuccess"),clearTimeout(this._retryTimer),this._isThrottled=void 0!==e.throttled&&"no"!==e.throttled||this._isThrottled,this.sessionId=void 0!==e.sessionId?e.sessionId:this.sessionId,this._shortId=void 0!==e.shortId?e.shortId:this._shortId,this._timestampStr=void 0!==e.timestamp?e.timestamp:this.timeDifference,this.timeDifference=Number(this._timestampStr)-Utils.now(),"no"===e.throttled&&(this._isThrottled=!1),Utils.log("[aspen]","_helloSuccess"),Utils.log("[aspen]","config.throttled: "+e.throttled),Utils.log("[aspen]","throttled: "+this._isThrottled),Utils.log("[aspen]","sessionId: "+this.sessionId);var t={};t.batchThrottled=!1,t.postThrottled=!0,t.sessionId="",this.batchService.start(t),this.batchService.setSessionId(this.sessionId),this.batchService.setPostThrottled(this._isThrottled),this._initSuccess()},_helloFailure:function(e){Utils.log("[aspen]","_helloFailure url: "+e),TransportManager.fallback()&&this._hello()},_helloRetry:function(){Utils.log("[aspen]","helloRetry"),this._retries==_analyticsConfig.helloRetryCount?(Utils.log("[aspen]","retries exhasted"),clearTimeout(this._retryTimer),this._retries=0,1==TransportManager.fallback()?this._hello():(Utils.log("[aspen]","retries exhasted, fallbacks exhausted, aspen is disabled"),this._isThrottled=!0,this.batchService.setBatchThrottled(!0),this.batchService.setPostThrottled(!0),this.batchService.disableTimer())):(this._retries++,this._retryTime=this._retries*Number(_analyticsConfig.helloRetryTime),this._savedSession.retries=String(this._retries),this._savedSession.retryTime=String(this._retryTime),this._hello())},isMessageExcluded:function(e){return!!(_analyticsConfig&&_analyticsConfig.messageExcludes&&_analyticsConfig.messageExcludes.indexOf(e)>=0)},send:function(e,t,n){if(void 0===this._messageExcludes||-1===this._messageExcludes.indexOf(e)){if(void 0===t&&(t={}),!this.ready)return Utils.log("[aspen]","send - Aspen's not ready, queuing message"),void(void 0!==this._messageQueue&&this._messageQueue.push({message:t,type:e,appName:n}));if(this._isThrottled)Utils.log("[aspen]","Add message to batch is throttled! Message not added.");else{if(this.isMessageExcluded(e))return void Utils.log("[aspen]","message excluded by config, not added to batch",e);t.timestamp=Utils.now()+this.timeDifference,t.applicationName=void 0!==n?n:this._appName,delete t.session_id,delete t.sessionId,delete t.hbase_timestamp,delete t.type,Utils.log("[aspen]","appName: "+t.applicationName);var i={};i.eventType=e,i.eventData=t,Utils.log("[aspen]","add to batch json message: "+JSON.stringify(i)),this.batchService.add(i)}}},setSessionToken:function(e){this.sessionToken=e},_initSuccess:function(){this.ready=!0;for(var e=0,t=this._messageQueue.length;e<t;e++)this.send(this._messageQueue[e].type,this._messageQueue[e].message);this.send("aspenConfigDetails",_analyticsConfig);var n={};n.screenWidth=screen.width,n.screenHeight=screen.height,n.browserName=navigator.appName,n.userAgent=navigator.userAgent,n.platform=navigator.platform,this.send("systemInfo",n),this._initSuccess=function(){},this._appInitCallback&&this._appInitCallback()},_initFailure:function(){},getVersion:function(){return"1.8.0"},getSessionId:function(e){return this.sessionId},getShortId:function(e){return this._shortId},isThrottled:function(e){return this._isThrottled},getThrottled:function(e){return this._isThrottled?"yes":"no"}},DependencyManager=function(){this._dependencies=[],this._loadedCount=0,this._successHandlers=[],this._failureHandlers=[],this.add=function(e){this._dependencies.push({dependency:e,success:!1});var t=this._dependencies.length-1;e.onComplete(Utils.bind(this._onDependencyLoaded,this,t,!0)),e.onFailure(Utils.bind(this._onDependencyLoaded,this,t,!1))},this.load=function(){for(var e=0,t=this._dependencies.length;e<t;e++)this._dependencies[e].dependency.load()},this.onComplete=function(e){this._successHandlers.push(e)},this.onFailure=function(e){this._failureHandlers.push(e)},this._onDependencyLoaded=function(e,t){++this._loadedCount,this._dependencies[e].success=t,this._loadedCount===this._dependencies.length&&this._onAllDependenciesLoaded()},this._onAllDependenciesLoaded=function(){this._loadedCount=0;for(var e=!0,t=0,n=this._dependencies.length;t<n;t++)if(!this._dependencies[t].success){e=!1;break}var i=e?this._successHandlers:this._failureHandlers;for(t=0,n=i.length;t<n;t++)i[t]()}},Dependency=function(e){this._func=e,this._successHandlers=[],this._failureHandlers=[],this.load=function(){this._func(Utils.bind(this._onSuccess,this),Utils.bind(this._onFailure,this))},this.onComplete=function(e){this._successHandlers.push(e)},this.onFailure=function(e){this._failureHandlers.push(e)},this._onSuccess=function(){for(var e=0,t=this._successHandlers.length;e<t;e++)this._successHandlers[e]()},this._onFailure=function(){for(var e=0,t=this._failureHandlers.length;e<t;e++)this._failureHandlers[e]()}},AspenComm=function(){var e,t,n,i,a,o,r="https://aspen.turner.com",s=!1,l=[];return t=function(i){Utils.log("[aspen]","[easyXDM]","init",i),r=i,e=new window.CVPAux.easyXDM.Rpc({swf:"https://z.cdn.turner.com/xslo/cvp/easyxdm/swf/easyxdm.swf",remote:r+"/static/xdm_iframe.html"},{remote:{request:{}}}),Utils.log("[aspen]","[easyXDM]","init AspenComm"),s=!0,t=function(){try{throw"already init'ed - ignored"}catch(e){}},n()},i=function(e,t,n){s?o(e,t,n):a(e,t,n)},a=function(){l.push(arguments)},n=function(){for(var e=0,t=l.length;e<t;++e)o.apply(null,l[e])},o=function(t,n,i){Utils.log("[aspen]","[easyXDM]","make request",t);var a,o,r;a=Utils.extend(Utils.extend({method:"POST"},t||{})),o=function(e){var t=e.data;if("string"==typeof t&&t.charAt(0).match(/[{[]/))try{t=JSON.parse(t)}catch(e){Utils.log(e)}Utils.log("[aspen]","[easyXDM]","request success",e),n(t,e.status,e.headers)},r=function(e){var t=e.data;if("string"==typeof t&&t.charAt(0).match(/[{[]/))try{t=JSON.parse(t)}catch(e){Utils.log(e)}i(t,e.status,e.message)},e.request(a,o,r)},{init:t,request:i}}(),bootstrap=function(e){Utils.log("[aspen]","[easyXDM]","bootstrap",e),window.CVPAux=window.CVPAux||{},yepnope({test:null!=window.CVPAux.easyXDM,nope:"https://z.cdn.turner.com/xslo/cvp/easyxdm/js/easyXDM.ugly.js",complete:function(){if(window.easyXDM)window.CVPAux.easyXDM=easyXDM.noConflict("CVPAux"),yepnope({test:null!=window.JSON,nope:"https://z.cdn.turner.com/xslo/cvp/easyxdm/js/json2.ugly.js",complete:function(){if(!window.JSON)try{throw"failed to install JSON polyfill"}catch(e){}e()}});else try{throw"failed to install easyXDM"}catch(e){}}})},ANALYTICS_BASE_URL="https://z.cdn.turner.com/xslo/aspen/config/",ANALYTICS_FILE="aspenanalytics.json",BATCH_MODE_TOTAL="total",BATCH_MODE_TIMER="timer",BATCH_MODE_NONE="none",_params={},_analyticsConfig={},TransportFormat={JSON:"json",JSONP:"jsonp"},TransportManager={init:function(e){this._config=e,this._transportFormat=this._config.transportFormats[0],this._bootstrapped=!1},bootstrapTM:function(){if(Utils.log("[aspen]","TransportManager","bootstrap","_bootstrapped:",this._bootstrapped),this._transportFormat===TransportFormat.JSON&&!this._bootstrapped){var e=this._config.servicesUrl;bootstrap(function(){AspenComm.init(e)}),this._bootstrapped=!0,Utils.log("[aspen]","TransportManager","bootstrap","transportFormat",this._transportFormat)}},createRequest:function(e,t,n,i,a){if(Utils.log("[aspen]","TransportManager","createRequest"),this._transportFormat===TransportFormat.JSON)AspenComm.request({url:e+"."+this._transportFormat,data:{aspenJson:JSON.stringify(t)}},Utils.bind(n,a),Utils.bind(i,a));else if(this._transportFormat===TransportFormat.JSONP){var o=this._config.servicesUrl+e+"."+this._transportFormat;o+="?aspen_callback=parseAspenInitialization&aspenJson="+encodeURIComponent(JSON.stringify(t)).replace(/%20/g,"+"),Ajax.request({jsonpCallback:"parseAspenInitialization",url:o,error:Utils.bind(i,a),success:Utils.bind(n,a)})}},fallback:function(){return Utils.log("[aspen]","current transport format failed",this._transportFormat),this._config.transportFormats.shift(),this._config.transportFormats.length>0&&(this._transportFormat=this._config.transportFormats[0],Utils.log("trying next transport format",this._transportFormat),!0)}},Utils={undef:function(e){return void 0===e},isNull:function(e){return Utils.undef(e)||null===e},empty:function(e){return Utils.undef(e)||Utils.isNull(e)||""===e},isFunc:function(e){return"function"==typeof e},isObject:function(e){return"object"==typeof e},isString:function(e){return"string"==typeof e},extend:function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},log:function(){window.console&&window.console.log&&debug&&window.console.log(Utils.slice(arguments).join(" | ")),!Utils.undef(window.logJSAuth)&&Utils.isFunc(window.logJSAuth)&&debug&&window.logJSpAuth(Utils.slice(arguments).join(" | "))},now:"function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},slice:function(e,t){return Array.prototype.slice.call(e,t||0)},bind:function(e,t){var n=Utils.slice(arguments,2);return function(){var i=n.concat(Utils.slice(arguments));return e.apply(t,i)}},setCookie:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n);var a=escape(t)+(null==n?"":"; expires="+i.toUTCString());document.cookie=e+"="+a},getCookie:function(e){var t,n,i,a=document.cookie.split(";");for(t=0;t<a.length;t++)if(n=a[t].substr(0,a[t].indexOf("=")),i=a[t].substr(a[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return unescape(i)},getQueryVar:function(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var a=n[i].split("=");if(a[0]==e)return a[1]}},randomString:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));for(var n="",i=0;i<e;i++)n+=t[Math.floor(Math.random()*t.length)];return n},timeBucket:function(e){var t=new Date,n=60*(24*t.getDate()+t.getHours())+t.getMinutes();return Math.round(n/e)}}}}.call(window),function(){!function(e){"use strict";function t(){return l&&l.call(s)||(new Date).getTime()}var n=[],i={},a={},o=function(){},r="-----";r+=r,r+=r,r+=r,r+=r;var s=window.performance,l=s&&(s.now||s.mozNow||s.msNow||s.oNow||s.webkitNow);e.log&&"function"==typeof e.log||(e.log=o),e.profile&&"function"==typeof e.profile||(e.profile=o),e.profileEnd&&"function"==typeof e.profileEnd||(e.profileEnd=o),e.timeStamp&&"function"==typeof e.timeStamp||(e.timeStamp=o),e.trace&&"function"==typeof e.trace||(e.trace=o),e.debug&&"function"==typeof e.debug||(e.debug=e.log),e.info&&"function"==typeof e.info||(e.info=e.log),e.warn&&"function"==typeof e.warn||(e.warn=e.log),e.error&&"function"==typeof e.error||(e.error=e.log),e.dir&&"function"==typeof e.dir||(e.dir=e.log),e.dirxml&&"function"==typeof e.dirxml||(e.dirxml=e.dir);!e.group&&(e.group=function(t){n.push(t),e.log(r+"\nBEGIN GROUP: "+t)}),!e.groupCollapsed&&(e.groupCollapsed=e.group),!e.groupEnd&&(e.groupEnd=function(){e.log("END GROUP: "+n.pop()+"\n"+r)}),!e.time&&(e.time=function(e){i[e]=t()}),!e.timeEnd&&(e.timeEnd=function(n){e.log(n+": "+(t()-i[n]).toFixed(3)+"ms"),delete i[n]}),!e.assert&&(e.assert=function(t,n){t||e.error("Assertion failed: "+n)}),!e.count&&(e.count=function(t){a[t]||(a[t]=0),a[t]++,e.log(t+": "+a[t])}),!e.clear&&(e.clear=function(){e.log("\n\n\n\n\n\n")})}(window.console=window.console||{}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}(),!window.addEventListener&&function(e,t,n,i,a,o,r){e[i]=t[i]=n[i]=function(e,t){var n=this;r.unshift([n,e,t,function(e){e.currentTarget=n,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||n,t.call(n,e)}]),this.attachEvent("on"+e,r[0][3])},e[a]=t[a]=n[a]=function(e,t){for(var n,i=0;n=r[i];++i)if(n[0]==this&&n[1]==e&&n[2]==t)return this.detachEvent("on"+e,r.splice(i,1)[0][3])},e[o]=t[o]=n[o]=function(e){return this.fireEvent("on"+e.type,e)}}(window.prototype,document.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null===this)throw new TypeError('"this" is null or not defined');var i=Object(this),a=i.length>>>0;if(0===a)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=a)return-1;for(n=Math.max(o>=0?o:a-Math.abs(o),0);a>n;){if(n in i&&i[n]===e)return n;n++}return-1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})}(),function(){"use strict";var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0],i="https:"===document.location.protocol;t.type="text/javascript",t.src=(i?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",n.parentNode.insertBefore(t,n)}(),function(){!function(){function e(){}function t(e){return e}function n(e){return!!e}function i(e){return!e}function a(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function o(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function r(e){return B(e)||"number"==typeof e.length&&e.length>=0&&e.length%1==0}function s(e,t){for(var n=-1,i=e.length;++n<i;)t(e[n],n,e)}function l(e,t){for(var n=-1,i=e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}function d(e){return l(Array(e),function(e,t){return t})}function c(e,t,n){return s(e,function(e,i,a){n=t(n,e,i,a)}),n}function u(e,t){s(P(e),function(n){t(e[n],n)})}function p(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function f(e){var t,n,i=-1;return r(e)?(t=e.length,function(){return i++,t>i?i:null}):(n=P(e),t=n.length,function(){return i++,t>i?n[i]:null})}function h(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),a=0;n>a;a++)i[a]=arguments[a+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i)}}}function m(e){return function(t,n,i){return e(t,i)}}function g(t){return function(n,i,r){r=o(r||e),n=n||[];var s=f(n);if(0>=t)return r(null);var l=!1,d=0,c=!1;!function e(){if(l&&0>=d)return r(null);for(;t>d&&!c;){var o=s();if(null===o)return l=!0,void(0>=d&&r(null));d+=1,i(n[o],o,a(function(t){d-=1,t?(r(t),c=!0):e()}))}}()}}function v(e){return function(t,n,i){return e(R.eachOf,t,n,i)}}function y(e){return function(t,n,i,a){return e(g(n),t,i,a)}}function w(e){return function(t,n,i){return e(R.eachOfSeries,t,n,i)}}function _(t,n,i,a){a=o(a||e),n=n||[];var s=r(n)?[]:{};t(n,function(e,t,n){i(e,function(e,i){s[t]=i,n(e)})},function(e){a(e,s)})}function b(e,t,n,i){var a=[];e(t,function(e,t,i){n(e,function(n){n&&a.push({index:t,value:e}),i()})},function(){i(l(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function C(e,t,n,i){b(e,t,function(e,t){n(e,function(e){t(!e)})},i)}function x(e,t,n){return function(i,a,o,r){function s(){r&&r(n(!1,void 0))}function l(e,i,a){return r?void o(e,function(i){r&&t(i)&&(r(n(!0,e)),r=o=!1),a()}):a()}arguments.length>3?e(i,a,l,s):(r=o,o=a,e(i,l,s))}}function A(e,t){return t}function E(t,n,i){i=i||e;var a=r(n)?[]:{};t(n,function(e,t,n){e(h(function(e,i){i.length<=1&&(i=i[0]),a[t]=i,n(e)}))},function(e){i(e,a)})}function S(e,t,n,i){var a=[];e(t,function(e,t,i){n(e,function(e,t){a=a.concat(t||[]),i(e)})},function(e){i(e,a)})}function T(t,n,i){function o(t,n,i,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");return t.started=!0,B(n)||(n=[n]),0===n.length&&t.idle()?R.setImmediate(function(){t.drain()}):(s(n,function(n){var o={data:n,callback:a||e};i?t.tasks.unshift(o):t.tasks.push(o),t.tasks.length===t.concurrency&&t.saturated()}),void R.setImmediate(t.process))}function r(e,t){return function(){d-=1;var n=!1,i=arguments;s(t,function(e){s(c,function(t,i){t!==e||n||(c.splice(i,1),n=!0)}),e.callback.apply(e,i)}),e.tasks.length+d===0&&e.drain(),e.process()}}if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var d=0,c=[],u={tasks:[],concurrency:n,payload:i,saturated:e,empty:e,drain:e,started:!1,paused:!1,push:function(e,t){o(u,e,!1,t)},kill:function(){u.drain=e,u.tasks=[]},unshift:function(e,t){o(u,e,!0,t)},process:function(){if(!u.paused&&d<u.concurrency&&u.tasks.length)for(;d<u.concurrency&&u.tasks.length;){var e=u.payload?u.tasks.splice(0,u.payload):u.tasks.splice(0,u.tasks.length),n=l(e,function(e){return e.data});0===u.tasks.length&&u.empty(),d+=1,c.push(e[0]);var i=a(r(u,e));t(n,i)}},length:function(){return u.tasks.length},running:function(){return d},workersList:function(){return c},idle:function(){return u.tasks.length+d===0},pause:function(){u.paused=!0},resume:function(){if(!1!==u.paused){u.paused=!1;for(var e=Math.min(u.concurrency,u.tasks.length),t=1;e>=t;t++)R.setImmediate(u.process)}}};return u}function N(e){return h(function(t,n){t.apply(null,n.concat([h(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&s(n,function(t){console[e](t)}))})]))})}function k(e){return function(t,n,i){e(d(t),n,i)}}function I(e){return h(function(t,n){var i=h(function(n){var i=this,a=n.pop();return e(t,function(e,t,a){e.apply(i,n.concat([a]))},a)});return n.length?i.apply(this,n):i})}function F(e){return h(function(t){var n=t.pop();t.push(function(){var e=arguments;i?R.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var i=!0;e.apply(this,t),i=!1})}var O,R={},M="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=M&&(O=M.async),R.noConflict=function(){return M.async=O,R};var D=Object.prototype.toString,B=Array.isArray||function(e){return"[object Array]"===D.call(e)},j=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},P=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},L="function"==typeof setImmediate&&setImmediate,q=L?function(e){L(e)}:function(e){setTimeout(e,0)};"object"==typeof process&&"function"==typeof process.nextTick?R.nextTick=process.nextTick:R.nextTick=q,R.setImmediate=L?q:R.nextTick,R.forEach=R.each=function(e,t,n){return R.eachOf(e,m(t),n)},R.forEachSeries=R.eachSeries=function(e,t,n){return R.eachOfSeries(e,m(t),n)},R.forEachLimit=R.eachLimit=function(e,t,n,i){return g(t)(e,m(n),i)},R.forEachOf=R.eachOf=function(t,n,i){function r(e){d--,e?i(e):null===s&&0>=d&&i(null)}i=o(i||e),t=t||[];for(var s,l=f(t),d=0;null!=(s=l());)d+=1,n(t[s],s,a(r));0===d&&i(null)},R.forEachOfSeries=R.eachOfSeries=function(t,n,i){function r(){var e=!0;return null===l?i(null):(n(t[l],l,a(function(t){if(t)i(t);else{if(null===(l=s()))return i(null);e?R.setImmediate(r):r()}})),void(e=!1))}i=o(i||e),t=t||[];var s=f(t),l=s();r()},R.forEachOfLimit=R.eachOfLimit=function(e,t,n,i){g(t)(e,n,i)},R.map=v(_),R.mapSeries=w(_),R.mapLimit=y(_),R.inject=R.foldl=R.reduce=function(e,t,n,i){R.eachOfSeries(e,function(e,i,a){n(t,e,function(e,n){t=n,a(e)})},function(e){i(e,t)})},R.foldr=R.reduceRight=function(e,n,i,a){var o=l(e,t).reverse();R.reduce(o,n,i,a)},R.transform=function(e,t,n,i){3===arguments.length&&(i=n,n=t,t=B(e)?[]:{}),R.eachOf(e,function(e,i,a){n(t,e,i,a)},function(e){i(e,t)})},R.select=R.filter=v(b),R.selectLimit=R.filterLimit=y(b),R.selectSeries=R.filterSeries=w(b),R.reject=v(C),R.rejectLimit=y(C),R.rejectSeries=w(C),R.any=R.some=x(R.eachOf,n,t),R.someLimit=x(R.eachOfLimit,n,t),R.all=R.every=x(R.eachOf,i,i),R.everyLimit=x(R.eachOfLimit,i,i),R.detect=x(R.eachOf,t,A),R.detectSeries=x(R.eachOfSeries,t,A),R.detectLimit=x(R.eachOfLimit,t,A),R.sortBy=function(e,t,n){function i(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0}R.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{value:e,criteria:i})})},function(e,t){return e?n(e):void n(null,l(t.sort(i),function(e){return e.value}))})},R.auto=function(t,n,i){function a(e){v.unshift(e)}function r(e){var t=p(v,e);t>=0&&v.splice(t,1)}function l(){f--,s(v.slice(0),function(e){e()})}i||(i=n,n=null),i=o(i||e);var d=P(t),f=d.length;if(!f)return i(null);n||(n=f);var m={},g=0,v=[];a(function(){f||i(null,m)}),s(d,function(e){function o(){return n>g&&c(y,function(e,t){return e&&m.hasOwnProperty(t)},!0)&&!m.hasOwnProperty(e)}function s(){o()&&(g++,r(s),f[f.length-1](v,m))}for(var d,f=B(t[e])?t[e]:[t[e]],v=h(function(t,n){if(g--,n.length<=1&&(n=n[0]),t){var a={};u(m,function(e,t){a[t]=e}),a[e]=n,i(t,a)}else m[e]=n,R.setImmediate(l)}),y=f.slice(0,f.length-1),w=y.length;w--;){if(!(d=t[y[w]]))throw new Error("Has inexistant dependency");if(B(d)&&p(d,e)>=0)throw new Error("Has cyclic dependencies")}o()?(g++,f[f.length-1](v,m)):a(s)})},R.retry=function(e,t,n){function i(e,t){for(;s.times;){var n=!(s.times-=1);r.push(function(e,n){return function(i){e(function(e,t){i(!e||n,{err:e,result:t})},t)}}(s.task,n)),!n&&s.interval>0&&r.push(function(e){return function(t){setTimeout(function(){t(null)},e)}}(s.interval))}R.series(r,function(t,n){n=n[n.length-1],(e||s.callback)(n.err,n.result)})}var a=5,o=0,r=[],s={times:a,interval:o},l=arguments.length;if(1>l||l>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=l&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e&&function(e,t){if("number"==typeof t)e.times=parseInt(t,10)||a;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||a,e.interval=parseInt(t.interval,10)||o}}(s,e),s.callback=n,s.task=t,s.callback?i():i},R.waterfall=function(t,n){function i(e){return h(function(t,a){if(t)n.apply(null,[t].concat(a));else{var o=e.next();o?a.push(i(o)):a.push(n),F(e).apply(null,a)}})}if(n=o(n||e),!B(t)){var a=new Error("First argument to waterfall must be an array of functions");return n(a)}return t.length?void i(R.iterator(t))():n()},R.parallel=function(e,t){E(R.eachOf,e,t)},R.parallelLimit=function(e,t,n){E(g(t),e,n)},R.series=function(e,t){E(R.eachOfSeries,e,t)},R.iterator=function(e){function t(n){function i(){return e.length&&e[n].apply(null,arguments),i.next()}return i.next=function(){return n<e.length-1?t(n+1):null},i}return t(0)},R.apply=h(function(e,t){return h(function(n){return e.apply(null,t.concat(n))})}),R.concat=v(S),R.concatSeries=w(S),R.whilst=function(t,n,i){if(i=i||e,t()){var a=h(function(e,o){e?i(e):t.apply(this,o)?n(a):i(null)});n(a)}else i(null)},R.doWhilst=function(e,t,n){
var i=0;return R.whilst(function(){return++i<=1||t.apply(this,arguments)},e,n)},R.until=function(e,t,n){return R.whilst(function(){return!e.apply(this,arguments)},t,n)},R.doUntil=function(e,t,n){return R.doWhilst(e,function(){return!t.apply(this,arguments)},n)},R.during=function(t,n,i){i=i||e;var a=h(function(e,n){e?i(e):(n.push(o),t.apply(this,n))}),o=function(e,t){e?i(e):t?n(a):i(null)};t(o)},R.doDuring=function(e,t,n){var i=0;R.during(function(e){i++<1?e(null,!0):t.apply(this,arguments)},e,n)},R.queue=function(e,t){return T(function(t,n){e(t[0],n)},t,1)},R.priorityQueue=function(t,n){function i(e,t){return e.priority-t.priority}function a(e,t,n){for(var i=-1,a=e.length-1;a>i;){var o=i+(a-i+1>>>1);n(t,e[o])>=0?i=o:a=o-1}return i}function o(t,n,o,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");return t.started=!0,B(n)||(n=[n]),0===n.length?R.setImmediate(function(){t.drain()}):void s(n,function(n){var s={data:n,priority:o,callback:"function"==typeof r?r:e};t.tasks.splice(a(t.tasks,s,i)+1,0,s),t.tasks.length===t.concurrency&&t.saturated(),R.setImmediate(t.process)})}var r=R.queue(t,n);return r.push=function(e,t,n){o(r,e,t,n)},delete r.unshift,r},R.cargo=function(e,t){return T(e,1,t)},R.log=N("log"),R.dir=N("dir"),R.memoize=function(e,n){var i={},a={};n=n||t;var o=h(function(t){var o=t.pop(),r=n.apply(null,t);r in i?R.setImmediate(function(){o.apply(null,i[r])}):r in a?a[r].push(o):(a[r]=[o],e.apply(null,t.concat([h(function(e){i[r]=e;var t=a[r];delete a[r];for(var n=0,o=t.length;o>n;n++)t[n].apply(null,e)})])))});return o.memo=i,o.unmemoized=e,o},R.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},R.times=k(R.map),R.timesSeries=k(R.mapSeries),R.timesLimit=function(e,t,n,i){return R.mapLimit(d(e),t,n,i)},R.seq=function(){var t=arguments;return h(function(n){var i=this,a=n[n.length-1];"function"==typeof a?n.pop():a=e,R.reduce(t,n,function(e,t,n){t.apply(i,e.concat([h(function(e,t){n(e,t)})]))},function(e,t){a.apply(i,[e].concat(t))})})},R.compose=function(){return R.seq.apply(null,Array.prototype.reverse.call(arguments))},R.applyEach=I(R.eachOf),R.applyEachSeries=I(R.eachOfSeries),R.forever=function(t,n){function i(e){return e?o(e):void r(i)}var o=a(n||e),r=F(t);i()},R.ensureAsync=F,R.constant=h(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),R.wrapSync=R.asyncify=function(e){return h(function(t){var n,i=t.pop();try{n=e.apply(this,t)}catch(e){return i(e)}j(n)&&"function"==typeof n.then?n.then(function(e){i(null,e)}).catch(function(e){i(e.message?e:new Error(e))}):i(null,n)})},"object"==typeof module&&module.exports?module.exports=R:"function"==typeof define&&define.amd?define([],function(){return R}):M.async=R}(),window.async.parallelWithTimeout=function(e,t,n,i){var a=n.map(function(t){return function(n){t.callback(function(i,a){var o=AdFuel.getMetricById("modules",t.name)[e+"Callback"],r=(new Date).getTime(),s=r-o.start+"ms";AdFuel.addMetric({type:"modules",id:t.name,data:{callback:e,end:r,elapsed:s}}),AdFuel.addMetric({type:"timeline",id:t.name+"_"+e,data:{end:r,elapsed:s}}),t.isCompleted=!0,n(i,a)})}}),o=setTimeout(function(){o=null;var a=[];i("callback timed out out after "+t+"ms.",null);for(var r=0;r<n.length;r++)if(0==n[r].isCompleted){_dbgLog({task:n[r]});var s=(new Date).getTime();a.push(n[r].name+" "+n[r].event),AdFuel.addMetric({type:"modules",id:n[r].name,data:{callback:e,timeout:s}}),AdFuel.addMetric({type:"timeline",id:n[r].name+"_"+e,data:{timeout:s}})}},t);async.parallel(a,function(e,t){o&&(clearTimeout(o),i(e,t))})}}();var AdFuel=function(){function e(e){return"function"==typeof e}function t(t,n){if(!e(t))throw new TypeError("Bind must be called on a function");var i=he.call(arguments,2);return function(){return t.apply(n,i.concat(he.call(arguments)))}}function n(){window.console.log.apply(window.console,arguments)}function i(e,t,n){return e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent?e.attachEvent("on"+t,n):void 0}function a(){for(var e="",t=0;t<9;t++)e+=Math.floor(16*Math.random()).toString(16);return e}function o(e){var t="";if(document.location.search){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",i=new RegExp(n),a=i.exec(document.location.search);a&&(t=a[1])}return t}function r(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null}return null}function s(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){for(var n=[],i=0,a=e.length;i<a;i++)n[i]=s(e[i]);return n}if(e instanceof Object){var o={};for(var r in e)e.hasOwnProperty(r)&&(o[r]=s(e[r]));return o}throw new Error("Unable to copy obj! Its type isn't supported.")}function l(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function d(){function e(){n||(n=!0,Ne(Se()+" DOMContentLoaded"),Te("AdFuel DOM Ready Detection"),ve=!0,U({type:"timeline",id:"domContentLoaded",data:{id:1,timestamp:Date.now()}}),M())}function t(){if(!n)try{document.documentElement.doScroll("left"),e()}catch(e){setTimeout(t,10)}}var n=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(document.attachEvent){var i=!1;try{i=null!==window.frameElement}catch(e){}document.documentElement.doScroll&&!i&&t(),document.attachEvent("onreadystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||e()})}if(window.addEventListener)window.addEventListener("load",e,!0);else if(window.attachEvent)window.attachEvent("onload",e);else{var a=window.onload;window.onload=function(){a&&a(),e()}}"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||e()}function c(){try{var e=o("adsqa");if(e){var t=e.split("%3D");pe=t[0],fe=t[1],xe.pageTargets[pe]=fe}}catch(e){ke("checkForAdsQA",e)}}function u(e){for(var t=0;t<e.length;t++){for(var n=e[t],i=xe.pageTargets[n[0]]||[],a=0;a<n[1].length;a++){var o=n[1][a];i.indexOf(o)<0&&i.push(o)}xe.pageTargets[n[0]]=i}}function p(e){if(window[e]){if(window[e].adTargets)for(var t in window[e].adTargets)window[e].adTargets.hasOwnProperty(t)&&(xe.pageTargets[t]=window[e].adTargets[t]);if(window[e].slotTargets)for(var n in window[e].slotTargets)if(window[e].slotTargets.hasOwnProperty(n)){var i=window[e].slotTargets[n];xe.slotTargets[n]||(xe.slotTargets[n]={});for(var t in i)i.hasOwnProperty(t)&&(xe.slotTargets[n][t]=i[t])}}}function f(e){var t=s(e.targeting);Array.isArray(t)||(t=[t]);var n=xe.slotTargets;if(n[e.rktr_slot_id])for(var i in n[e.rktr_slot_id])n[e.rktr_slot_id].hasOwnProperty(i)&&t.push([i,n[e.rktr_slot_id][i]]);return t}function h(){i(document,"GPTRenderComplete",function(e){Te("GPT Render Complete",{renderEvent:e});var t=document.getElementById(e.detail.divId);t&&t.className.indexOf("adfuel-rendered")<0&&(t.className+=" adfuel-rendered")})}function m(e){e&&(Array.isArray(e)||(e=[e]),0==e.length&&(e=Object.getOwnPropertyNames(Fe)));for(var t=0;t<e.length;t++){var n=e[t],i=document.getElementById(n);i&&i.className.indexOf("adfuel-rendered")>0&&(i.className=i.className.replace("adfuel-rendered",""))}}function g(e){e&&(Array.isArray(e)||(e=[e]),0==e.length&&(e=Object.getOwnPropertyNames(Fe)));for(var t=0;t<e.length;t++){var n=e[t];Fe[n]&&delete Fe[n]}}function v(e){e&&(Array.isArray(e)||(e=[e]),0==e.length&&(Te({pageSlots:Fe}),e=Object.getOwnPropertyNames(Fe))),Te("Removing Rocketeer Slots: ",e);for(var t=0;t<Oe.length;t++){var n=Oe[t].rktr_slot_id;Te({slotId:n}),(e.indexOf(n)>=0||0==e.length)&&(Te("Removing "+n),Oe.splice(t,1))}}function y(){window.googletag.setAdIframeTitle(Ce.iframeTitle)}function w(e,t){if(e&&t){var n=AdFuel.dynamicTargeting.pageTargets[e]||[];Array.isArray(n)||(n=[n]),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)n.indexOf(t[i])<0&&n.push(t[i]);xe.pageTargets[e]=n,Te("Setting Page-Level Targeting",e,n),qe.executeWhenAvailable("adding page-level targeting",function(){var t={};t[e]=AdFuel.dynamicTargeting.pageTargets[e],AdFuel.addMetric({type:"page",id:"dynamic_targeting",data:t}),qe.setTargeting(e,AdFuel.dynamicTargeting.pageTargets[e])})}}function _(e,t){qe.executeWhenAvailable("removing page-level targeting",function(){var n=xe.pageTargets[e];if(t&&(n.indexOf(t)>=0&&n.splice(n.indexOf(t),1),xe.pageTargets[e]=n),!t)return qe.clearTargeting(e),delete xe.pageTargets[e],void(AdFuel.dynamicTargeting=xe);e&&0==n.length?delete xe.pageTargets[e]:e&&0==!n.length?(xe.pageTargets[e]=n,qe.setTargeting(e,n)):(xe.pageTargets={},pe&&w(pe,fe))})}function b(e,t,n){var i=xe.slotTargets[e]||{},a=i[t]||[];if(Array.isArray(a))if(Array.isArray(n))for(var o=0;o<n.length;o++)a.push(n[o]);else a.push(n);xe.slotTargets[e]=xe.slotTargets[e]||{},xe.slotTargets[e][t]=a,qe.executeWhenAvailable("adding slot-level targeting",function(){var n=Fe[e];n&&qe.setSlotTargeting(n,t,a)})}function C(e,t,n){qe.executeWhenAvailable("removing slot-level targeting",function(){var i=Fe[e];if(i){var a={},o=i.getTargetingKeys();for(var r in o){var s=o[r];"function"!=typeof s&&(a[s]=i.getTargeting(s)||"")}var l={pos:a.pos};t?n?a[t].splice(a[t].indexOf(n),1):delete a[t]:a={pos:a.pos},qe.clearSlotTargeting(i);for(var d in a)0==a[d].length&&(a[d][0]=""),qe.setSlotTargeting(i,d,a[d])}xe.slotTargets[e]&&(t?n?xe.slotTargets[e][t].splice(xe.slotTargets[e][t].indexOf(n),1):delete xe.slotTargets[e][t]:(xe.slotTargets[e].length=0,xe.slotTargets[e]=l))})}function x(){U({type:"timeline",id:"building_page_level_GPT_object",data:{id:0,start:Date.now()}});var e=r("gptgeo");if(e){var t=e.split("%2C"),n=parseFloat(t[0]),i=parseFloat(t[1]);qe.executeWhenAvailable("setting location",function(){U({type:"configuration",id:"spoofed_user_location",data:{location_spoofed:!0,latitude:n,longitude:i}}),qe.setLocation(n,i)})}else Te("Unable to retrieve location cookie",e),U({type:"configuration",id:"spoofed_user_location",data:{location_spoofed:!1}});void 0!==ce&&(Te("Setting Child Directed Treat Tag : ",ce),qe.executeWhenAvailable("setting child_directed_treatment tag",function(){U({type:"configuration",id:"child_directed_treatment",data:{active:1==ce?"true":"false"}}),qe.setChildDirectedTreatmentTag(ce)})),void 0!==ue&&(Te("Setting SafeFrame Config Tag : ",ue),qe.executeWhenAvailable("setting safeframe_config",function(){U({type:"configuration",id:"safeframe_config",data:{active:ue}}),qe.setSafeFrameConfig(ue)}));for(var a=s(ge),o=0;o<a.length;o++){var l=a[o];U({type:"page",id:"static_targeting",data:{key:l[0],value:l[1]}})}var d=xe.pageTargets;for(var c in d)d.hasOwnProperty(c)&&a.push([c,d[c]]);Te("Page Level Targeting",JSON.stringify(a));for(var u=0;u<a.length;u++){var p=a[u][1];if(p&&!Array.isArray(p)&&(p=p.indexOf(",")>=0?p.split(","):[p]),"exclusions"==a[u][0])for(var f=0;f<p.length;f++){var h=a[u][1][f];qe.executeWhenAvailable("setting category exclusion",function(){qe.setCategoryExclusion(h)})}else{w(a[u][0],p)}}U({type:"timeline",id:"building_page_level_GPT_object",data:{id:0,end:Date.now()}})}function A(e){var t=document.querySelectorAll("div#"+e.rktr_slot_id);if(0!=t.length)for(var n=0;n<t.length;n++){var i=t[n];if(!(i.className.indexOf("adfuel-rendered")>=0)){if(1==t.length&&Fe[e.rktr_slot_id]){var a=I(e,!0);return T(a.rktr_slot_id),a}return I(e)}Te("Found rendered slot...",e.rktr_slot_id)}return Te("Not building slot... Can't Find Unrendered Slot On Page",e.rktr_slot_id),null}function E(e){var t=Ce.networkId;e.inherit&&de&&(e.rktr_ad_id=de),Te("Building Slot",e),U({type:"timeline",id:"building_gpt_slot_"+e.rktr_slot_id,data:{id:1,start:Date.now()}}),U({type:"slots",id:e.rktr_slot_id,data:{build_start:Date.now()}});var n,i="/"+t+"/"+e.rktr_ad_id,a=e.rktr_slot_id,o=e.rktr_slot_id.indexOf("_oop")>=1,r=o?"Defining OOP Slot":"Defining Standard Slot";void 0!==e.safeframe_config&&(n=e.safeframe_config),qe.executeWhenAvailable(r,function(){Fe[a]=o?qe.defineOutOfPageSlot(i,a):qe.defineSlot(i,e.sizes,a),n&&qe.setSlotSafeFrameConfig(Fe[a],n),U({type:"counts",id:"slots",data:"+"}),Te("Slot: ",e)}),Te("Slots",Fe),qe.executeWhenAvailable("Defining slot targeting",function(){var t=f(e);for(var n in t)if(t.hasOwnProperty(n)){var i;if(i=t[n]&&t[n][1]?JSON.stringify(t[n][1]):""){i=JSON.parse(i);var o=Fe[a];if("exclusions"==t[n][0])if(Array.isArray(t[n][1]))for(var r in t[n][1])t[n][1].hasOwnProperty(r)&&(i=t[n][1][r],qe.setSlotCategoryExclusion(o,i));else qe.setSlotCategoryExclusion(o,i);else{var s=t[n][0];qe.setSlotTargeting(o,s,i)}}}}),Te("Checking Responsive Mapping For Slot",e.responsive,e.responsive.length),e.responsive=e.responsive||[],e.responsive.length>0&&k(e.rktr_slot_id,e.responsive);var s=z("slots",e.rktr_slot_id),l=Date.now(),d=l-s.build_start+"ms";U({type:"slots",id:e.rktr_slot_id,data:{build_end:l,build_elapsed:d}});for(var c=[],u=0;u<e.sizes.length;u++){var p=e.sizes[u];c.push(p.join("x"))}U({type:"slots",id:e.rktr_slot_id,data:{allowed_sizes:c}}),U({type:"timeline",id:"building_gpt_slot_"+e.rktr_slot_id,data:{id:1,end:Date.now()}})}function S(e,t){function n(e){var t=Oe.indexOf(e);t>=0&&Oe.splice(t,1)}var i=[];U({type:"timeline",id:"building_gpt_slots",data:{id:z("timeline","building_gpt_slots").length||1,start:Date.now()}});for(var a=0;a<e.length;a++){var o=e[a],r=t&&t.ignoreCheck,s=!0;r||A(o)||(n(o),s=!1),s&&(E(o),i.push(o),n(o))}return U({type:"timeline",id:"building_gpt_slots",data:{id:1,slots:i.length,end:Date.now()}}),i}function T(e){e=e||[],Array.isArray(e)||(e=[e]),Te("Clearing Slots",{slotDivIds:e}),qe.executeWhenAvailable("clearing slots",function(){var t=[];e.length>0&&(t=e.filter(function(e){return!!Fe[e]}).map(function(e){return Fe[e]}),0==t.length)||qe.clearSlots(t)})}function N(e){e=e||[],Array.isArray(e)||(e=[e]),Te("Destroying Slots",{slotDivIds:e}),qe.executeWhenAvailable("destroying slots",function(){var t=[];e.length>0&&(t=e.filter(function(e){return!!Fe[e]}).map(function(e){return Fe[e]}),0==t.length)||(m(e),qe.destroySlots(t),g(e),v(e))})}function k(e,t){for(var n=0;n<t.length;n++){for(var i=JSON.parse(JSON.stringify(t[n])),a=0;a<i.length;a++)if(Array.isArray(i[a]))for(var o=0;o<i[a].length;o++)if(Array.isArray(i[a][o]))for(var r=0;r<i[a][o].length;r++)i[a][o][r]=parseInt(i[a][o][r]);else parseInt(i[a][o])>=0?i[a][o]=parseInt(i[a][o]):i[a]=[];else i[a]=[];tHTTP/1.1 200 OK
Content-Type: application/javascript; charset=UTF-8
x-servedByHost: ::ffff:172.17.3.20
access-control-allow-origin: *
cache-control: max-age=2592000
content-security-policy: default-src 'self' blob: https://*.cnn.com:* http://*.cnn.com:* *.cnn.io:* *.cnn.net:* *.turner.com:* *.turner.io:* *.ugdturner.com:* courageousstudio.com *.vgtf.net:*; script-src 'unsafe-eval' 'unsafe-inline' 'self' *; style-src 'unsafe-inline' 'self' blob: *; child-src 'self' blob: *; frame-src 'self' *; object-src 'self' *; img-src 'self' data: blob: *; media-src 'self' data: blob: *; font-src 'self' data: *; connect-src 'self' *; frame-ancestors 'self' *.cnn.com:* *.turner.com:* courageousstudio.com;
x-content-type-options: nosniff
x-xss-protection: 1; mode=block
Via: 1.1 varnish
Fastly-Debug-Digest: ea8a97f1ee83168e1ed717092c23b54721d365242ec7218f86fd5147072f0ec5
Content-Length: 287383
Accept-Ranges: bytes
Date: Wed, 06 Dec 2017 08:08:49 GMT
Via: 1.1 varnish
Age: 738181
Connection: close
X-Served-By: cache-iad2150-IAD, cache-dfw18645-DFW
X-Cache: HIT, HIT
X-Cache-Hits: 1, 2
X-Timer: S1512547730.750780,VS0,VE0
Vary: Accept-Encoding, Fastly-SSL, Fastly-SSL

function sendDeprecationNotification(e){return function(){console.log("[AdFuel - DEPRECATION NOTICE] AMPTManager is DEPRECATED and will be removed in the next version of AdFuel.  Please update your code to reference AdFuel instead of AMPTManager."),window.AdFuel[e].apply(this,arguments)}}function nativoComplete(){"use strict";jQuery(".zn.zn-staggered").each(function(){$staggeredZone=jQuery(this),layoutSize=($staggeredZone.attr("data-eq-state")||"").replace(/^(\S+\s+)*/,""),$staggeredZone.find(".zn__containers .column").each(function(){$staggeredColumn=jQuery(this),void 0!==$staggeredColumn.attr("class")&&$staggeredColumn.attr("class").indexOf("ntv")>-1&&($nativeContainer=$staggeredColumn.find(".cn").addClass("nativeSponsor").clone(),$staggeredColumn.remove(),$staggeredNativo=$staggeredZone.find(".column"),$staggeredNativo="xsmall"===layoutSize?$staggeredNativo.eq(0).find(".cn").eq(1):$staggeredNativo.eq(1).find(".cn").eq(0),$staggeredNativo.before($nativeContainer))})}),jQuery(".pg-wrapper").find("section.nativeSponsor").addClass("zn-loaded"),jQuery(window).load(function(){$nativeHubCarousel=jQuery(document.getElementById("ntv-videoZone")).find(".js-owl-carousel"),$nativeHubCarousel.length>0&&!isGalleryRendered&&(CNN.Carousel.restore($nativeHubCarousel.parent()),isGalleryRendered=!0)})}function onNativoRenderAd(e){"use strict";nativo.fbFeed=e.facebook_feed,nativo.twFeed=e.twitter_feed,nativo.twitterImage=e.twitter_image,nativo.authorName=e.author_name,nativo.epicAdName=e.native_adv,$nativeEmbedVideo=jQuery(document.getElementById("prx_full_ad_video")),$nativeEmbedVideo.length>0&&$nativeEmbedVideo.parent().addClass("ntv_video_p"),$bigPicture=jQuery(document.getElementById("bigPicture")),$bigPicture.length>0&&!isGalleryRendered&&(nativo.renderGallery(),isGalleryRendered=!0),jQuery(window).load(function(){nativo.renderAuthor(),nativo.renderFacebook(),nativo.renderTwitter(),nativo.renderEpic()})}function changeOwlCarousalWidth(){"use strict";var e=jQuery(".js-pg-sponsor .owl-stage-outer .owl-stage"),t=e.find(".owl-item").length;e.css("width",70*t)}Modernizr.addTest("ios",function(){"use strict";return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/i)}),Modernizr.addTest("android",function(){"use strict";return!!navigator.userAgent.match(/android/i)}),Modernizr.addTest("iospre10",function(){"use strict";return-1!==navigator.userAgent.search(/(iPod|iPhone|iPad).*OS [3-9]/i)}),Modernizr.addTest("iemobile",function(){"use strict";return!!navigator.userAgent.match(/iemobile/i)}),Modernizr.addTest("ieunsupported",function(){"use strict";return navigator.userAgent.search(/MSIE ([2-9]|10)\./i)>=0}),Modernizr.addTest("ie11unsupported",function(){"use strict";return navigator.userAgent.search(/Trident\/7\.0;(.*)rv:11\./i)>=0}),Modernizr.addTest("ie",function(){"use strict";return navigator.userAgent.search(/\s+(MSIE|rv:11|Edge\/\d+\.)/)>=0}),Modernizr.addTest("edge",function(){"use strict";return navigator.userAgent.search(/\s+(Edge\/\d+\.)/)>=0}),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,n=document.createElement("source"),i=function(e){var t,i,a=e.parentNode;"PICTURE"===a.nodeName.toUpperCase()?(t=n.cloneNode(),a.insertBefore(t,a.firstElementChild),setTimeout(function(){a.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))},a=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},o=function(){clearTimeout(t),t=setTimeout(a,99)},r=e.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){o(),r&&r.addListener&&r.addListener(o)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),o}())}(window),function(e,t,n){"use strict";function i(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function a(){O=!1,D=e.devicePixelRatio,R={},M={},g.DPR=D||1,B.width=Math.max(e.innerWidth||0,x.clientWidth),B.height=Math.max(e.innerHeight||0,x.clientHeight),B.vw=B.width/100,B.vh=B.height/100,m=[B.height,B.width,D].join("-"),B.em=g.getEmValue(),B.rem=B.em}function o(e,t,n,i){var a,o,r,s;return"saveData"===E.algorithm?e>2.7?s=n+1:(o=t-n,a=Math.pow(e-.6,1.5),r=o*a,i&&(r+=.1*a),s=e+r):s=n>1?Math.sqrt(e*t):e,s>n}function r(e){var t,n=g.getSet(e),i=!1;"pending"!==n&&(i=m,n&&(t=g.setRes(n),g.applySetCandidate(t,e))),e[g.ns].evaled=i}function s(e,t){return e.res-t.res}function l(e,t,n){var i;return!n&&t&&(n=e[g.ns].sets,n=n&&n[n.length-1]),i=d(t,n),i&&(t=g.makeUrl(t),e[g.ns].curSrc=t,e[g.ns].curCan=i,i.res||K(i,i.set.sizes)),i}function d(e,t){var n,i,a;if(e&&t)for(a=g.parseSet(t),e=g.makeUrl(e),n=0;n<a.length;n++)if(e===g.makeUrl(a[n].url)){i=a[n];break}return i}function c(e,t){var n,i,a,o,r=e.getElementsByTagName("source");for(n=0,i=r.length;n<i;n++)a=r[n],a[g.ns]=!0,(o=a.getAttribute("srcset"))&&t.push({srcset:o,media:a.getAttribute("media"),type:a.getAttribute("type"),sizes:a.getAttribute("sizes")})}function u(e,t){function n(t){var n,i=t.exec(e.substring(u));if(i)return n=i[0],u+=n.length,n}function a(){var e,n,i,a,s,l,d,c,u,f=!1,h={};for(a=0;a<r.length;a++)s=r[a],l=s[s.length-1],d=s.substring(0,s.length-1),c=parseInt(d,10),u=parseFloat(d),W.test(d)&&"w"===l?((e||n)&&(f=!0),0===c?f=!0:e=c):H.test(d)&&"x"===l?((e||n||i)&&(f=!0),u<0?f=!0:n=u):W.test(d)&&"h"===l?((i||n)&&(f=!0),0===c?f=!0:i=c):f=!0;f||(h.url=o,e&&(h.w=e),n&&(h.d=n),i&&(h.h=i),i||n||e||(h.d=1),1===h.d&&(t.has1x=!0),h.set=t,p.push(h))}for(var o,r,s,l,d,c=e.length,u=0,p=[];;){if(n(q),u>=c)return p;o=n(z),r=[],","===o.slice(-1)?(o=o.replace(U,""),a()):function(){for(n(L),s="",l="in descriptor";;){if(d=e.charAt(u),"in descriptor"===l)if(i(d))s&&(r.push(s),s="",l="after descriptor");else{if(","===d)return u+=1,s&&r.push(s),void a();if("("===d)s+=d,l="in parens";else{if(""===d)return s&&r.push(s),void a();s+=d}}else if("in parens"===l)if(")"===d)s+=d,l="in descriptor";else{if(""===d)return r.push(s),void a();s+=d}else if("after descriptor"===l)if(i(d));else{if(""===d)return void a();l="in descriptor",u-=1}u+=1}}()}}function p(e){var t,n,a,o,r,s,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,d=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(n=function(e){function t(){o&&(r.push(o),o="")}function n(){r[0]&&(s.push(r),r=[])}for(var a,o="",r=[],s=[],l=0,d=0,c=!1;;){if(""===(a=e.charAt(d)))return t(),n(),s;if(c){if("*"===a&&"/"===e[d+1]){c=!1,d+=2,t();continue}d+=1}else{if(i(a)){if(e.charAt(d-1)&&i(e.charAt(d-1))||!o){d+=1;continue}if(0===l){t(),d+=1;continue}a=" "}else if("("===a)l+=1;else if(")"===a)l-=1;else{if(","===a){t(),n(),d+=1;continue}if("/"===a&&"*"===e.charAt(d+1)){c=!0,d+=2;continue}}o+=a,d+=1}}}(e),a=n.length,t=0;t<a;t++)if(o=n[t],r=o[o.length-1],function(e){return!!(l.test(e)&&parseFloat(e)>=0)||(!!d.test(e)||("0"===e||"-0"===e||"+0"===e))}(r)){if(s=r,o.pop(),0===o.length)return s;if(o=o.join(" "),g.matchesMedia(o))return s}return"100vw"}t.createElement("picture");var f,h,m,g={},v=!1,y=function(){},w=t.createElement("img"),_=w.getAttribute,b=w.setAttribute,C=w.removeAttribute,x=t.documentElement,A={},E={algorithm:""},S=navigator.userAgent,T=/rident/.test(S)||/ecko/.test(S)&&S.match(/rv\:(\d+)/)&&RegExp.$1>35,N="currentSrc",k=/\s+\+?\d+(e\d+)?w/,I=e.picturefillCFG,F="font-size:100%!important;",O=!0,R={},M={},D=e.devicePixelRatio,B={px:1,in:96},j=t.createElement("a"),P=!1,L=/^[ \t\n\r\u000c]+/,q=/^[, \t\n\r\u000c]+/,z=/^[^ \t\n\r\u000c]+/,U=/[,]+$/,W=/^\d+$/,H=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,Q=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},V=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},$=function(){var e=function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n},t=V(function(t){return"return "+e((t||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(e,n){var i;if(!(e in R))if(R[e]=!1,n&&(i=e.match(/^([\d\.]+)(em|vw|px)$/)))R[e]=i[1]*B[i[2]];else try{R[e]=new Function("e",t(e))(B)}catch(e){}return R[e]}}(),K=function(e,t){return e.w?(e.cWidth=g.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},J=function(e){if(v){var n,i,a,o=e||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),n=o.elements||g.qsa(o.context||t,o.reevaluate||o.reselect?g.sel:g.selShort),a=n.length){for(g.setupRun(o),P=!0,i=0;i<a;i++)g.fillImg(n[i],o);g.teardownRun(o)}}};e.console&&console.warn,N in w||(N="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),g.ns=("pf"+(new Date).getTime()).substr(0,9),g.supSrcset="srcset"in w,g.supSizes="sizes"in w,g.supPicture=!!e.HTMLPictureElement,g.supSrcset&&g.supPicture&&!g.supSizes&&function(e){w.srcset="data:,a",e.src="data:,a",g.supSrcset=w.complete===e.complete,g.supPicture=g.supSrcset&&g.supPicture}(t.createElement("img")),g.supSrcset&&!g.supSizes?function(){var e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n=t.createElement("img"),i=function(){2===n.width&&(g.supSizes=!0),h=g.supSrcset&&!g.supSizes,v=!0,setTimeout(J)};n.onload=i,n.onerror=i,n.setAttribute("sizes","9px"),n.srcset=e+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",n.src=e}():v=!0,g.selShort="picture>img,img[srcset]",g.sel=g.selShort,g.cfg=E,g.DPR=D||1,g.u=B,g.types=A,g.setSize=y,g.makeUrl=V(function(e){return j.href=e,j.href}),g.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},g.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?g.matchesMedia=function(e){return!e||matchMedia(e).matches}:g.matchesMedia=g.mMQ,g.matchesMedia.apply(this,arguments)},g.mMQ=function(e){return!e||$(e)},g.calcLength=function(e){var t=$(e,!0)||!1;return t<0&&(t=!1),t},g.supportsType=function(e){return!e||A[e]},g.parseSize=V(function(e){var t=(e||"").match(/(\([^)]+\))?\s*(.+)/);return{media:t&&t[1],length:t&&t[2]}}),g.parseSet=function(e){return e.cands||(e.cands=u(e.srcset,e)),e.cands},g.getEmValue=function(){var e;if(!f&&(e=t.body)){var n=t.createElement("div"),i=x.style.cssText,a=e.style.cssText;n.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",x.style.cssText=F,e.style.cssText=F,e.appendChild(n),f=n.offsetWidth,e.removeChild(n),f=parseFloat(f,10),x.style.cssText=i,e.style.cssText=a}return f||16},g.calcListLength=function(e){if(!(e in M)||E.uT){var t=g.calcLength(p(e));M[e]=t||B.width}return M[e]},g.setRes=function(e){var t;if(e){t=g.parseSet(e);for(var n=0,i=t.length;n<i;n++)K(t[n],e.sizes)}return t},g.setRes.res=K,g.applySetCandidate=function(e,t){if(e.length){var n,i,a,r,d,c,u,p,f,h=t[g.ns],m=g.DPR;if(c=h.curSrc||t[N],u=h.curCan||l(t,c,e[0].set),u&&u.set===e[0].set&&((f=T&&!t.complete&&u.res-.1>m)||(u.cached=!0,u.res>=m&&(d=u))),!d)for(e.sort(s),r=e.length,d=e[r-1],i=0;i<r;i++)if(n=e[i],n.res>=m){a=i-1,d=e[a]&&(f||c!==g.makeUrl(n.url))&&o(e[a].res,n.res,m,e[a].cached)?e[a]:n;break}d&&(p=g.makeUrl(d.url),h.curSrc=p,h.curCan=d,p!==c&&g.setSrc(t,d),g.setSize(t))}},g.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},g.getSet=function(e){var t,n,i,a=!1,o=e[g.ns].sets;for(t=0;t<o.length&&!a;t++)if(n=o[t],n.srcset&&g.matchesMedia(n.media)&&(i=g.supportsType(n.type))){"pending"===i&&(n=i),a=n;break}return a},g.parseSets=function(e,t,n){var i,a,o,r,s=t&&"PICTURE"===t.nodeName.toUpperCase(),l=e[g.ns];(void 0===l.src||n.src)&&(l.src=_.call(e,"src"),l.src?b.call(e,"data-pfsrc",l.src):C.call(e,"data-pfsrc")),(void 0===l.srcset||n.srcset||!g.supSrcset||e.srcset)&&(i=_.call(e,"srcset"),l.srcset=i,r=!0),l.sets=[],s&&(l.pic=!0,c(t,l.sets)),l.srcset?(a={srcset:l.srcset,sizes:_.call(e,"sizes")},l.sets.push(a),(o=(h||l.src)&&k.test(l.srcset||""))||!l.src||d(l.src,a)||a.has1x||(a.srcset+=", "+l.src,a.cands.push({url:l.src,d:1,set:a}))):l.src&&l.sets.push({srcset:l.src,sizes:null}),l.curCan=null,l.curSrc=void 0,l.supported=!(s||a&&!g.supSrcset||o&&!g.supSizes),r&&g.supSrcset&&!l.supported&&(i?(b.call(e,"data-pfsrcset",i),e.srcset=""):C.call(e,"data-pfsrcset")),l.supported&&!l.srcset&&(!l.src&&e.src||e.src!==g.makeUrl(l.src))&&(null===l.src?e.removeAttribute("src"):e.src=l.src),l.parsed=!0},g.fillImg=function(e,t){var n,i=t.reselect||t.reevaluate;e[g.ns]||(e[g.ns]={}),n=e[g.ns],(i||n.evaled!==m)&&(n.parsed&&!t.reevaluate||g.parseSets(e,e.parentNode,t),n.supported?n.evaled=m:r(e))},g.setupRun=function(){P&&!O&&D===e.devicePixelRatio||a()},g.supPicture?(J=y,g.fillImg=y):function(){var n,i=e.attachEvent?/d$|^c/:/d$|^c|^i/,a=function(){var e=t.readyState||"";o=setTimeout(a,"loading"===e?200:999),t.body&&(g.fillImgs(),(n=n||i.test(e))&&clearTimeout(o))},o=setTimeout(a,t.body?9:99),r=x.clientHeight,s=function(){O=Math.max(e.innerWidth||0,x.clientWidth)!==B.width||x.clientHeight!==r,r=x.clientHeight,O&&g.fillImgs()};Q(e,"resize",function(e,t){var n,i,a=function(){var o=new Date-i;o<t?n=setTimeout(a,t-o):(n=null,e())};return function(){i=new Date,n||(n=setTimeout(a,t))}}(s,99)),Q(t,"readystatechange",a)}(),g.picturefill=J,g.fillImgs=J,g.teardownRun=y,J._=g,e.picturefillCFG={pf:g,push:function(e){var t=e.shift();"function"==typeof g[t]?g[t].apply(g,e):(E[t]=e[0],P&&g.fillImgs({reselect:!0}))}};for(;I&&I.length;)e.picturefillCFG.push(I.shift());e.picturefill=J,"object"==typeof module&&"object"==typeof module.exports?module.exports=J:"function"==typeof define&&define.amd&&define("picturefill",function(){return J}),g.supPicture||(A["image/webp"]=function(t,n){var i=new e.Image;return i.onerror=function(){A[t]=!1,J()},i.onload=function(){A[t]=1===i.width,J()},i.src=n,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),Date.now||(Date.now=function(){"use strict";return(new Date).getTime()}),function(e){"use strict";var t,n=function(){},i=[];e.console=e.console||{},t=e.console,t.log||(t.log=n),t.debug||(t.debug=t.log),t.error||(t.error=t.log),t.info||(t.info=t.log),t.warn||(t.warn=t.log),t.trace||(t.trace=n),t.group||(t.group=function(e){"string"!=typeof e&&(e=Number(i.length+1).toString()),i.push(e),t.log("---- START GROUP: "+e)},t.groupCollapsed=t.group,t.groupEnd=function(){t.log("---- END GROUP: "+(i.length>0?i.pop():"???"))})}(window),function(e){"use strict";var t,n,i,a,o,r,s,l,d,c=[],u=[],p=null,f=function(){},h=function(){},m=[],g=!1,v=!1;if(void 0===e.performance&&(e.performance={}),e._perfRefForUserTimingPolyfill=e.performance,e.performance.userTimingJsNow=!1,e.performance.userTimingJsNowPrefixed=!1,e.performance.userTimingJsUserTiming=!1,e.performance.userTimingJsUserTimingPrefixed=!1,e.performance.userTimingJsPerformanceTimeline=!1,e.performance.userTimingJsPerformanceTimelinePrefixed=!1,"function"!=typeof e.performance.now){for(e.performance.userTimingJsNow=!0,u=["webkitNow","msNow","mozNow"],s=0;s<u.length;s++)if("function"==typeof e.performance[u[s]]){e.performance.now=e.performance[u[s]],e.performance.userTimingJsNowPrefixed=!0;break}t=+new Date,e.performance.timing&&e.performance.timing.navigationStart?t=e.performance.timing.navigationStart:"undefined"!=typeof process&&"function"==typeof process.hrtime&&(t=process.hrtime(),e.performance.now=function(){var e=process.hrtime(t);return 1e3*e[0]+1e-6*e[1]}),"function"!=typeof e.performance.now&&(Date.now?e.performance.now=function(){return Date.now()-t}:e.performance.now=function(){return+new Date-t})}if(d=e.performance.now(),"function"!=typeof e.performance.getEntries||"function"!=typeof e.performance.mark){for("function"==typeof e.performance.getEntries&&"function"!=typeof e.performance.mark&&(v=!0),e.performance.userTimingJsPerformanceTimeline=!0,c=["webkit","moz"],u=["getEntries","getEntriesByName","getEntriesByType"],s=0;s<u.length;s++)for(l=0;l<c.length;l++)p=c[l]+u[s].substr(0,1).toUpperCase()+u[s].substr(1),"function"==typeof e.performance[p]&&(e.performance[u[s]]=e.performance[p],e.performance.userTimingJsPerformanceTimelinePrefixed=!0);f=function(e){m.push(e),"measure"===e.entryType&&(g=!0)},o=function(){g&&(m.sort(function(e,t){return e.startTime-t.startTime}),g=!1)},h=function(e,t){for(s=0;s<m.length;)m[s].entryType!==e?s++:void 0!==t&&m[s].name!==t?s++:m.splice(s,1)},("function"!=typeof e.performance.getEntries||v)&&(n=e.performance.getEntries,e.performance.getEntries=function(){var t;return o(),t=m.slice(0),v&&n&&(Array.prototype.push.apply(t,n.call(e.performance)),t.sort(function(e,t){return e.startTime-t.startTime})),t}),("function"!=typeof e.performance.getEntriesByType||v)&&(a=e.performance.getEntriesByType,e.performance.getEntriesByType=function(t){var n;if(void 0===t||"mark"!==t&&"measure"!==t)return v&&a?a.call(e.performance,t):[];for("measure"===t&&o(),n=[],s=0;s<m.length;s++)m[s].entryType===t&&n.push(m[s]);return n}),("function"!=typeof e.performance.getEntriesByName||v)&&(i=e.performance.getEntriesByName,e.performance.getEntriesByName=function(t,n){var a;if(n&&"mark"!==n&&"measure"!==n)return v&&i?i.call(e.performance,t,n):[];for(void 0!==n&&"measure"===n&&o(),a=[],s=0;s<m.length;s++)void 0!==n&&m[s].entryType!==n||m[s].name===t&&a.push(m[s]);return v&&i&&(Array.prototype.push.apply(a,i.call(e.performance,t,n)),a.sort(function(e,t){return e.startTime-t.startTime})),a})}if("function"!=typeof e.performance.mark){for(e.performance.userTimingJsUserTiming=!0,c=["webkit","moz","ms"],u=["mark","measure","clearMarks","clearMeasures"],s=0;s<u.length;s++)for(l=0;l<c.length;l++)p=c[l]+u[s].substr(0,1).toUpperCase()+u[s].substr(1),"function"==typeof e.performance[p]&&(e.performance[u[s]]=e.performance[p],e.performance.userTimingJsUserTimingPrefixed=!0);r={},e.performance.timing&&e.performance.timing.responseEnd||(r.responseEnd=[d]),"function"!=typeof e.performance.mark&&(e.performance.mark=function(t){var n=e.performance.now();if(void 0===t)throw new SyntaxError("Mark name must be specified");if(e.performance.timing&&t in e.performance.timing)throw new SyntaxError("Mark name is not allowed");r[t]||(r[t]=[]),r[t].push(n),f({entryType:"mark",name:t,startTime:n,duration:0})}),"function"!=typeof e.performance.clearMarks&&(e.performance.clearMarks=function(e){e?r[e]=[]:r={},h("mark",e)}),"function"!=typeof e.performance.measure&&(e.performance.measure=function(t,n,i){var a,o=e.performance.now(),s=0;if(void 0===t)throw new SyntaxError("Measure must be specified");if(!n)return void f({entryType:"measure",name:t,startTime:0,duration:o});if(e.performance.timing&&n in e.performance.timing){if("navigationStart"!==n&&0===e.performance.timing[n])throw new Error(n+" has a timing of 0");s=e.performance.timing[n]-e.performance.timing.navigationStart}else{if(!(n in r))throw new Error(n+" mark not found");s=r[n][r[n].length-1]}if(a=o,i)if(a=0,e.performance.timing&&i in e.performance.timing){if("navigationStart"!==i&&0===e.performance.timing[i])throw new Error(i+" has a timing of 0");a=e.performance.timing[i]-e.performance.timing.navigationStart}else{if(!(i in r))throw new Error(i+" mark not found");a=r[i][r[i].length-1]}f({entryType:"measure",name:t,startTime:s,duration:a-s})}),"function"!=typeof e.performance.clearMeasures&&(e.performance.clearMeasures=function(e){h("measure",e)})}}(window),Array.prototype.find||(Array.prototype.find=function(e){"use strict";var t,n,i,a,o;if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(n=Object(this),i=n.length>>>0,a=arguments[1],t=0;t<i;t++)if(o=n[t],e.call(a,o,t,n))return o}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var e,t,n=document.createElement("_");n.classList.add("c1","c2"),n.classList.contains("c2")||(t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}},t("add"),t("remove")),n.classList.toggle("c3",!1),n.classList.contains("c3")&&(e=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,n){return 1 in arguments&&!this.contains(t)==!n?n:e.call(this,t)}),n=null}():function(e){"use strict";if("Element"in e){var t,n=e.Element.prototype,i=Object,a=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},l=function(e){for(var t=a.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},d=l.prototype=[],c=function(){return new l(this)};if(r.prototype=Error.prototype,d.item=function(e){return this[e]||null},d.contains=function(e){return e+="",-1!==s(this,e)},d.add=function(){var e,t=arguments,n=0,i=t.length,a=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),a=!0)}while(++n<i);a&&this._updateClassName()},d.remove=function(){var e,t,n=arguments,i=0,a=n.length,o=!1;do{for(e=n[i]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++i<a);o&&this._updateClassName()},d.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},d.toString=function(){return this.join(" ")},i.defineProperty){t={get:c,enumerable:!0,configurable:!0};try{i.defineProperty(n,"classList",t)}catch(e){-2146823252===e.number&&(t.enumerable=!1,i.defineProperty(n,"classList",t))}}else i.prototype.__defineGetter__&&n.__defineGetter__("classList",c)}}(self)),function(){"use strict";var e=null;window.CNN=window.CNN||{},window.CNN.eventListenerWithOptions=window.CNN.passiveEventListeners||{browserSupportsCaptureOption:!1,addListener:function(e,t,n,i){var a=i;window.CNN.eventListenerWithOptions.browserSupportsCaptureOption||(a=i.capture||!1),e.addEventListener(t,n,a)}};try{e=Object.defineProperty({},"capture",{get:function(){window.CNN.eventListenerWithOptions.browserSupportsCaptureOption=!0}}),window.addEventListener("test",null,e)}catch(e){}}();var CNN=window.CNN||{};CNN.Utils=CNN.Utils||function(e,t,n,i){"use strict";function a(e){var t=null;return"string"==typeof e&&Date.parse(e)?t=e:"number"==typeof e&&(t=new Date(Date.now()+e*x).toGMTString()),t}function o(e){var t,n=!0;for(t=0;t<arguments.length;t++)if(!function(e){return e!==i&&null!==e}(arguments[t])){n=!1;break}return n}function r(e){var t,n=!0;for(t=0;t<arguments.length;t++)if(!function(e){return"object"==typeof e&&null!==e}(arguments[t])){n=!1;break}return n}function s(e){var t,n=!0;for(t=0;t<arguments.length;t++)if(!function(e){return"string"==typeof e&&e.length>0}(arguments[t])){n=!1;break}return n}function l(){var e,t,i={},a=0;if(n.cookie)for(e=n.cookie.split("; ");a<e.length;a++)t=e[a].split("="),i[t[0]]=decodeURIComponent(t[1])||null;return i}function d(e){return null!==c(e)}function c(e){var t=new RegExp("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"),i=n.cookie.match(t);return i?i.pop():null}function u(e,t,i,r,s,l){var d="";o(e)&&o(t)&&(i=a(i),r=o(r)?r:"/",s=o(s)?s:"",l=!!o(l)&&l,d+=e+"="+encodeURIComponent(t),o(i)&&(d+=";expires="+i),r&&(d+=";path="+r),s&&(d+=";domain="+s),l&&(d+="; secure"),n.cookie=d)}function p(e,t,n,i){u(e,t,n,"/",".cnn.com",i)}function f(e,t,i){var a="";o(e)&&(t=o(t)?t:"/",i=o(i)?i:"",a+=e+"=;expires="+A,t&&(a+=";path="+t),i&&(a+=";domain="+i),n.cookie=a)}function h(e){f(e,"/",".cnn.com")}function m(e,n,i){var a;if("string"==typeof e&&e.length>0&&"string"==typeof n)if(!1===CNN.hasLocalStorage)u(e,n,"session"===i?null:i,"/",".cnn.com",!1);else try{"session"===i?t.sessionStorage.setItem(e,n):(t.localStorage.setItem(e,n),"number"==typeof i?(a=new Date(Date.now()+i*x),t.localStorage.setItem(e+"__expires",a.getTime().toString(10))):"string"==typeof i&&"session"!==i&&(a=new Date(i),a.getTime()>Date.now()&&t.localStorage.setItem(e+"__expires",a.getTime().toString(10))))}catch(e){}}function g(e){if("string"==typeof e&&e.length>0){if(!1===CNN.hasLocalStorage)return d(e);try{if(o(t.sessionStorage.getItem(e))||o(t.localStorage.getItem(e+"__expires")))return!0}catch(e){}}return!1}function v(e){if("string"==typeof e&&e.length>0)if(!1===CNN.hasLocalStorage)f(e);else{try{t.localStorage.removeItem(e),t.localStorage.removeItem(e+"__expires")}catch(e){}try{t.sessionStorage.removeItem(e)}catch(e){}}}function y(e){var n,i=null;if("string"==typeof e&&e.length>0)try{!1===CNN.hasLocalStorage?i=c(e):null!==(n=t.localStorage.getItem(e+"__expires"))?parseInt(n,10)>Date.now()?i=t.localStorage.getItem(e):v(e):(i=t.sessionStorage.getItem(e),o(i)||(i=t.localStorage.getItem(e)))}catch(e){}return i}function w(e){var n,i,a,o,r,s,l=e;if("function"==typeof t.btoa)try{n=t.btoa(l)}catch(i){n=t.btoa(e.replace(/[^\w\s\!\@\#\$\%\^\&\*\(\)\-\=\+\.\,\\\;\:\'\"\?]/,"-"))}else{if(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),a="",o="",(r=l.length%3)>0)for(;r<3;r++)o+="=",l+="\0";for(r=0;r<l.length;r+=3)r>0&&r/3*4%76==0&&(a+="\r\n"),s=(l.charCodeAt(r)<<16)+(l.charCodeAt(r+1)<<8)+l.charCodeAt(r+2),s=[s>>>18&63,s>>>12&63,s>>>6&63,63&s],a+=i[s[0]]+i[s[1]]+i[s[2]]+i[s[3]];n=a.substring(0,a.length-o.length)+o}return n}function _(e){var n,i,a,o,r,s,l,d,c=e;if("function"==typeof t.atob)try{n=t.atob(c)}catch(e){console.log(e.message,"\nString to decode: "+c)}else{for(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),a={},d=0;d<i.length;d++)a[i[d]]=d;for(c=c.replace(new RegExp("[^"+i.join("")+"=]","g"),""),r="="===c.charAt(c.length-1)?"="===c.charAt(c.length-2)?"AA":"A":"",o="",c=c.substr(0,c.length-r.length)+r,s=0;s<c.length;s+=4)l=(a[c.charAt(s)]<<18)+(a[c.charAt(s+1)]<<12)+(a[c.charAt(s+2)]<<6)+a[c.charAt(s+3)],o+=String.fromCharCode(l>>>16&255,l>>>8&255,255&l);n=o.substring(0,o.length-r.length)}return n}function b(e){return e.replace("#","")}function C(){return t.Modernizr.phone}var x=36e5,A="Thu, 01 Jan 1970 00:00:00 UTC";return CNN.hasLocalStorage=function(){var e="__test_it";try{return t.localStorage.setItem(e,e),t.localStorage.removeItem(e),t.sessionStorage.setItem(e,e),t.sessionStorage.removeItem(e),!0}catch(e){return!1}}(),{exists:o,existsObject:r,existsString:s,getCookies:l,getCookie:c,cookieExists:d,setCookie:u,deleteCookie:f,setCNNCookie:p,deleteCNNCookie:h,storeLocalValue:m,hasLocalValue:g,deleteLocalValue:v,getLocalValue:y,b64Encode:w,b64Decode:_,stripHash:b,isPhone:C}}(jQuery,window,document),CNN.Features=CNN.Features||{},CNN.VideoConfig=CNN.VideoConfig||{},CNN.VideoConfig.liveStream=CNN.VideoConfig.liveStream||{},CNN.GeoCheck=function(e,t){"use strict";function n(){return o}function i(e){var t,n,i,a,r,s=!0;if(null!==o&&!0===Array.isArray(e)&&e.length>0)for(i=o.country+":"+o.region,a=i+":"+o.city.toLowerCase(),t=0;t<e.length;t++)r=e[t],"-"===r.charAt(0)?(r=r.slice(1),n=!1):n=!0,"*"===r?s=n:"#"===r.charAt(0)?o.continent===r.slice(1)&&(s=n):(2===r.length&&o.country===r||5===r.length&&i===r||r.length>6&&a===r)&&(s=n);return s}function a(){return CNN._geoCheckReadyEvent}var o=null;return CNN._geoCheckReadyEvent=!1,e.fn.extend({onGeoCheckReady:function(n){"function"==typeof n&&(!0===CNN._geoCheckReadyEvent?n(e):e(t).on("geoCheckReady",{handler:n},function(t){t=t||{},"object"==typeof t.data&&null!==t.data&&"function"==typeof t.data.handler&&t.data.handler(e)}))},triggerGeoCheckReady:function(){CNN._geoCheckReadyEvent=!0,e(t).trigger("geoCheckReady")}}),function(){var n,i;i=CNN.Utils.getCookie("geoData"),null!==i&&(n=i.split("|"),n.length>4&&(o={city:n[0],region:n[1],postCode:n[2],country:n[3],continent:n[4]})),e(t).triggerGeoCheckReady()}(),{getData:n,inTarget:i,isReady:a}}(jQuery,document),CNN=window.CNN||{},CNN.AdsConfig=CNN.AdsConfig||{},CNN.AdsConfig.aisOverride?function(e,t){"use strict";var n=e.createElement("script"),i=e.getElementsByTagName("script")[0];n.type="text/javascript",n.src=("https:"===e.location.protocol?"https:":"http:")+t.AdsConfig.aisOverride,i.parentNode.insertBefore(n,i)}(document,window.CNN):(CNN.AdsConfig.amazon=CNN.AdsConfig.amazon||{},CNN.Features=CNN.Features||{},!0===CNN.Features.enableAmazonDisplayAds&&function(){function e(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null}return null}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function t(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function n(e){return e.reduce(function(e,t){return e[t.getSlotElementId()]=t,e},{})}function i(e,t,i){m("Handling A9 Bids:",e,t),g("Handling A9 Bids"),window.googletag.cmd.push(function(){function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}var a=n(t);e.forEach(function(e){var t=a[e.slotID]||null;if(null!==t){var n={};window.apstag.targetingKeys("display").forEach(function(a){"true"==i("debug")&&console.log("[AdFuelModule - Amazon A9] Setting A9 Targeting: ",{key:a,value:e[a]}),n[a]=e[a],t.setTargeting(a,e[a])}),f.addMetric({type:"vendor",id:"Amazon A9",data:{targeting:n}})}}),window.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=n(window.googletag.pubads().getSlots()),i=t[e.slot.getSlotElementId()];window.apstag.targetingKeys("display").forEach(function(e){i.setTargeting(e,"")})})}),v("Handling A9 Bids"),i()}function a(e,n){function i(e){v("A9 Bid Fetching"),b=e,A=[],n()}g("A9 Slot Building");var a=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],o=["_ns_","_nfs_"],r=["super-ad-zone","super_ad_zone"],s=t();m("Browser Dimensions: ",s);for(var l=1;l<e.length;l++){var d=e[l].originalElementId||e[l].rktr_slot_id,c=d.split("_");c.splice(0,1),d=c.join("_"),m("Checking slot and sizes for validity: ",d);for(var u=[],p=!0,f=!1,h=0;h<e[l].responsive.length;h++){var y=e[l].responsive[h];f||m("Checking For Responsive Viewport: ",y[0].join("x")),!f&&y[0][0]<s[0]&&y[0][1]<s[1]&&(m("Match found."),f=!0,u=y[1],"suppress"!=y[1][0]&&"suppress"!=u||(m("Slot is responsive and being suppressed.  Filtering slot."),p=!1))}if(u.length>0&&p&&(m("Slot is responsive and not being suppressed.  Using responsive sizes: ",u),e[l].sizes=u),p){for(var w=0;w<e[l].sizes.length;w++){var _=e[l].sizes[w].join("x");a.indexOf(_)<0&&(m("Filtering out Invalid Size: ",_),e[l].sizes.splice(w,1),w-=1)}
0==e[l].sizes.length&&(m("No Valid Sizes: ",e[l].sizes),p=!1);for(var C in o)e[l].rktr_slot_id.indexOf(o[C])>=0&&(m("Filtering out invalid slot type: ",o[C],e[l]),p=!1);for(var x in r)e[l].rktr_ad_id.indexOf(r[x])>=0&&(m("Filtering out invalid ad unit segment: ",r[x],e[l]),p=!1);if(p){m("Valid Slot: ",e[l]);var E={slotID:e[l].rktr_slot_id,sizes:e[l].sizes};A.push(E)}}}v("A9 Slot Building"),g("A9 Bid Fetching"),A.length>0?window.apstag.fetchBids({slots:A},i):(m("No valid slots."),v("A9 Bid Fetching"))}function o(e,t){window.googletag.cmd.push(function(){var e=window.googletag.pubads().getSlots();b&&i(b,e,t),b||(m("No Bids."),t())})}function r(e,t){b=null,g("Refreshing A9 Bids"),window.apstag.fetchBids({slots:A},function(e){b=e,v("Refreshing A9 Bids");var n=window.googletag.pubads().getSlots();i(b,n,t)})}function s(){h||(m("Registering "+p+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3,refreshCallbackTimeoutInMilliseconds:2e3}),f=window.AdFuel.registerModule(p,{preQueueCallback:a,preDispatchCallback:o,preRefreshCallback:r})||f)}function l(){var e="3159";m("Defaulting to Domestic PubId."),m("Country Code: ",y),m("Hostname: ",C),m("Pathname: ",x),m("Selected Edition: ",w),C.search(/^(edition|arabic)\./)>=0?(m("Full international site. Using International PubId."),e="3288"):C.search(/^money/)>=0&&"/"===x&&"edition"===w?(m("International CNN Money Homepage. Using International PubId."),e="3288"):""==y||null==y?C.search(/^(cnnespanol|cnne\-test)\./)>=0&&(m("No country code. Using International PubId."),e="3288"):"US"!==y&&"CA"!==y&&C.search(/^(money|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(m("International country code. Using International PubId."),e="3288"),function(e,t,n,i,a,o,r){function s(n,i){t[e]._Q.push([n,i])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},_Q:[]},o=n.createElement(i),o.async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",r=n.getElementsByTagName(i)[0],r.parentNode.insertBefore(o,r))}("apstag",window,document,"script"),m("Final Pub ID: ",e),window.apstag.init({pubID:e,adServer:"googletag",bidTimeout:2e3})}var d=Object.prototype,c=d.toString,u=function(){},p="Amazon A9",f={metrics:{},addMetric:u,getMetricById:u,getMetricsByType:u,getMetricTypes:u},h=!1,m=u,g=u,v=u;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===c.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(m=function(){var e=["[AdFuelModule - "+p+" v1.3.4]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},g=function(){var e=["[AdFuelModule - "+p+" v1.3.4 TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)},v=function(){var e=["[AdFuelModule - "+p+" v1.3.4 TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.timeEnd(t)});var y=(e("CG")?e("CG").substr(0,2):"")||e("countryCode"),w=e("SelectedEdition")?e("SelectedEdition"):"www",_=document.createElement("a");_.href=document.location.href;var b,C=_.hostname,x=_.pathname,A=[];m("Initializing "+p+" Module..."),function(){l(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(s):window.AdFuel?s():document.addEventListener?document.addEventListener("AdFuelCreated",s,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",s)}()}(),window.AmazonDirectMatchBuy=function(){function e(e,t){return null!=e&&m.call(e,t)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){return function(){e&&(e.apply(this,arguments),e=null)}}function i(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(t){if(document.cookie){for(var n=document.cookie.split(";"),i=e+"=",a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(i))return o.substring(i.length,o.length)}return""}return""}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function a(){return!!window.amznads}function o(){var e={};return a()&&(e=window.amznads.getTargeting(),t(e)||(e={})),e}function r(e){var t=e.getId();if(A.has(t)){var n=A.getKeys(t);if(n.length){y("clearing previous ad key-values: "+n.join(", "));for(var i=0,a=n.length;i<a;++i)e.setAdKeyValue(n[i],null);A.clearKeys(t)}}}function s(e,t,n){y("setting ad key-value: "+t+' = "'+n+'"'),A.addKey(e.getId(),t),e.setAdKeyValue(t,n)}function l(t){var n=o();r(t);for(var i in n)if(e(n,i)){var a=n[i];if(a instanceof Array)for(var l=0,d=a.length;l<d;++l)s(t,a[l],"1");else s(t,i,a)}}function d(e){e.getPlayerType()===CVP.FLASH&&(y("setAdKeyValuePairs",e),l(e))}function c(e){if(!a())return!e||e();var t=n(function(){window.amznads.getTargeting();return!e||e()});try{window.amznads.getAdsCallback(b,t,C)}catch(e){y("Exception thrown while requesting Amazon ads:",e),t()}}function u(e){y("initializing",e),e&&(b=e.amznkey||b,C=e.timeout||C),x=!0}function p(e){return function(){if(!x)return void y("ERROR: init() must be called first!");e.apply(this,arguments)}}var f=Array.prototype,h=Object.prototype,m=h.hasOwnProperty,g=f.slice,v=h.toString,y=function(){};t(window.console)&&function(e){return"[object Function]"===v.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(y=function(){var e=["[AdFuelModule - Amazon Video]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var w=(i("CG")?i("CG").substr(0,2):"")||i("countryCode");y("Country Code: ",w);var _=window.location.hostname.toLowerCase(),b="3159";""==w||null==w?_.search(/^(edition|arabic|cnnespanol|cnne\-test)\./)>=0&&(b="3288"):"US"!==w&&"CA"!==w&&_.search(/^(money|edition|arabic|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(b="3288");var C=1e3,x=!1,A=function(){function e(e){return e in a}function t(t,n){e(t)||(a[t]=[]),a[t].push(n)}function n(t){return e(t)?g.call(a[t]):[]}function i(t){return!!e(t)&&(a[t].length=0,!0)}var a={};return{has:e,clearKeys:i,getKeys:n,addKey:t}}();return{requestAdRefresh:p(c),getTargetingData:p(o),setAdKeyValuePairs:p(d),isAmazonApiAvailable:a,init:u}}(),!0===CNN.Features.enableAmazonDisplayAds&&function(e){var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],a=/^(complete|loaded)$/,o=!1;n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https:":"http:")+(CNN.AdsConfig.amazonOverride||"//c.amazon-adsystem.com/aax2/amzn_ads.js"),n.onload=n.onreadystatechange=function(){o||"readyState"in n&&a.test(n.readyState)||(n.onload=n.onreadystatechange=null,o=!0,e())},window.AmazonDirectMatchBuy?e():i.parentNode.insertBefore(n,i)}(function(){CNN.AdsConfig.amazon.amznkey?window.AmazonDirectMatchBuy.init(CNN.AdsConfig.amazon):window.AmazonDirectMatchBuy.init()}),!0===CNN.Features.enableAdsConsole&&function(){function e(){location.hash.indexOf("doh")>=0?(G=!1,H&&u(),u()):location.hash.indexOf("afc")>=0?(G=!0,H&&u(),u()):H&&u()}function t(e,t,n){return e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent?e.attachEvent("on"+t,n):void 0}function n(e,t,n){var i=document.createElement("div");i.style.width="48%",i.style.float="left",i.style.display="inline-block";var a=document.createElement("input");a.type="checkbox",a.name=e,a.id=e+"_"+t,a.style.float="left",a.style["margin-right"]="2px",a.style.position="relative",a.style.top="3px",a.value=t;var o=document.createElement("div");return o.style.width="calc(100% - 18px)",o.appendChild(document.createTextNode(n)),i.appendChild(a),i.appendChild(o),i}function a(e,t){var n=document.createElement(e);return n.appendChild(document.createTextNode(t)),n}function o(e){var t=document.createElement("button");return t.onclick=e.action,t.id=e.name,t.appendChild(document.createTextNode(e.value)),t.className="btn btn-sm btn-primary",t}function r(e,t){return e.data[2]<t.data[2]?-1:e.data[2]>t.data[2]?1:0}function s(e){return!!new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/).test(e)}function l(){ie("Getting Viewport Dimensions");var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),ae("Getting Viewport Dimensions"),[e,t]}function d(){ie("Getting Browser Information");var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),ae("Getting Browser Information"),n.join(" "))}function c(){if(null!==fe)return fe;ie("Getting Device Information"),oe=pe();var e=l();return fe={availHeight:screen.availHeight,availLeft:screen.availLeft,availTop:screen.availTop,availWidth:screen.availWidth,colorDepth:screen.colorDepth,height:screen.height,orientation:{angle:screen.orientation?screen.orientation.angle:0,onchange:screen.orientation?screen.orientation.onchange:null,type:screen.orientation?screen.orientation.type:null},pixelDepth:screen.pixelDepth,width:screen.width,os:window.navigator.platform?window.navigator.platform:"Unknown",browser:d(),class:"Desktop",viewport:e.join("x")},oe.amazon.device&&(fe.os="Amazon",oe.amazon.phone&&(fe.class="Phone"),oe.amazon.tablet&&(fe.class="Tablet")),oe.android.device&&(fe.os="Android",oe.android.phone&&(fe.class="Phone"),oe.android.tablet&&(fe.class="Tablet")),oe.apple.device&&(fe.os="iOS",oe.apple.ipod&&(fe.class="iPod"),oe.apple.phone&&(fe.class="Phone"),oe.apple.tablet&&(fe.class="Tablet")),oe.windows.device&&(fe.os="Windows",oe.windows.phone&&(fe.class="Phone"),oe.windows.tablet&&(fe.class="Tablet")),oe.other.blackberry&&(fe.os="Blackberry",fe.class="Phone"),oe.other.blackberry10&&(fe.os="Blackberry10",fe.class="Phone"),oe.other.chrome&&(fe.os="Chrome",fe.class="Phone"),oe.other.firefox&&(fe.os="Firefox",fe.class="Phone"),oe.other.opera&&(fe.os="Opera",fe.class="Phone"),U.addMetric({type:"modules",id:"User Sciences",data:fe}),ae("Getting Device Information"),fe}function u(){if(H){var e=document.getElementsByTagName("head")[0],n=document.getElementsByTagName("body")[0],i=document.getElementById("material-icons-font"),a=document.getElementById("adfuel-console-stylesheet"),o=document.querySelector("div.adfuel-console-button-container"),r=document.querySelector("div.adfuel-console-filler"),s=document.querySelector("div.adfuel-console");e.removeChild(i),e.removeChild(a),n.removeChild(o),n.removeChild(r),n.removeChild(s),H=!1}else{var e=document.getElementsByTagName("head")[0],n=document.getElementsByTagName("body")[0],l="https:"===document.location.protocol,i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=(l?"https:":"http:")+"//fonts.googleapis.com/icon?family=Material+Icons",i.id="material-icons-font";var a=document.createElement("link");a.rel="stylesheet",a.href=(l?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/consoleTool-2.1.css",a.id="adfuel-console-stylesheet";var d=document.createElement("link");d.rel="stylesheet",d.href=(l?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/dhtmlxgrid.css",d.id="adfuel-console-table-stylesheet";var o=document.createElement("div");o.className="adfuel-console-button-container adfuel-open-console-button-container";var c=document.createElement("a");c.className="adfuel-console-button";var u=document.createElement("i");u.className="adfuel-console-button-icon material-icons",u.innerHTML="view_module",u.innerText="view_module";var r=document.createElement("div");r.className="adfuel-console-filler";var s=document.createElement("div");s.className="adfuel-console",c.appendChild(u),o.appendChild(c),e.appendChild(i),e.appendChild(a),e.appendChild(d),n.appendChild(o),n.appendChild(r),n.appendChild(s),function(e){"use strict";var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],a=/^(complete|loaded)$/,o=!1,r="https:"===document.location.protocol;n.type="text/javascript",n.async=!0,n.src=(r?"https:":"http:")+"//www.geoplugin.net/javascript.gp",n.onload=n.onreadystatechange=function(){o||"readyState"in n&&a.test(n.readyState)||(n.onload=n.onreadystatechange=null,o=!0,e())},i.parentNode.insertBefore(n,i)}(function(){var e,t,n,i,a,o=!1;window.geoplugin_countryCode&&(e=window.geoplugin_countryCode(),o=!0),window.geoplugin_city&&(t=window.geoplugin_city(),o=!0),window.geoplugin_region&&(n=window.geoplugin_region(),o=!0),window.geoplugin_latitude&&(i=window.geoplugin_latitude(),o=!0),window.geoplugin_longitude&&(a=window.geoplugin_longitude(),o=!0),1==o&&U.addMetric({type:"configuration",id:"actual_user_location",data:{city:t,region:n,country:e,latitude:i,longitude:a}})}),v(s),Q=t(c,"click",p),H=!0}}function p(){Q=null;var e=(document.getElementsByTagName("head")[0],document.getElementsByTagName("body")[0],document.querySelector("div.adfuel-console-filler")),t=document.querySelector("div.adfuel-console"),n=document.querySelector("div.adfuel-console-button-container"),i=document.querySelector("div#adfuel-close-console-button-container");n.style.display="none",i.style.display="inline-block",e.style.display="block",e.className=e.className+" resizable",t.style.display="inline-block",t.style.resize="both",t.className=t.className+" resizable",ne("Opening AdFuel Console."),g(document.getElementsByClassName("adfuel-console-tab-link-container")[0]),_(t),ne("Full Console: ",G),w(G?"configuration":"creative review")}function f(){window.open("http://docs.turner.com/display/DAD/AdFuel+Console+Documentation","ConsoleHelp")}function h(){if(J){var e=document.querySelectorAll(".adfuel-rendered"),t=e.length;for(i=0;i<t;i++){var n=e[i].id,a=document.getElementById(n);a.style.position="relative";var o=a.firstElementChild.firstElementChild?a.firstElementChild.firstElementChild.width:a.firstElementChild.width,r=a.firstElementChild.firstElementChild?a.firstElementChild.firstElementChild.height:a.firstElementChild.height;a.style.width=o+"px",a.style.height=r+"px";var s=n.substring(n.indexOf("_")+1),l=document.createElement("div"),d=document.createElement("p");d.innerHTML="Pos: "+s+"<br />Width: "+o+"<br />Height: "+r,l.className="pos_overlay",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.right="0",l.style.bottom="0",l.style.textAlign="left",l.style.padding="3px",l.style.fontFamily="Verdana",l.style.fontSize="12px",l.style.fontWeight="normal",l.style.lineHeight="12px",l.style.background="rgba(0,100,0,0.7)",l.style.color="#ffffff",l.style.zIndex="1000",l.appendChild(d),a.appendChild(l)}J=!1}else{var c=document.querySelectorAll(".pos_overlay"),t=c.length;for(i=0;i<t;i++)c[i].parentNode.removeChild(c[i]);J=!0}}function m(e){e=e.toString();var t=e.split(" "),n="";if(t.length>1){for(var i=0;i<t.length;i++){var a=t[i].charAt(0).toUpperCase()+t[i].slice(1);t[i]=a}n=t.join(" ")}else n=e.charAt(0).toUpperCase()+e.slice(1);return n}function g(e){function n(e){w(e.srcElement?e.srcElement.rel:e.target.rel)}if(ne("Building Console Tabs...",e),e||(e=document.getElementsByClassName("adfuel-console-tab-link-container")[0]),!e)return ne("Error: No tab link container."),!1;var i=document.getElementsByClassName("adfuel-console-tab-list")[0];if(i){i.parentNode.removeChild(i)}var a=document.createElement("ul");a.className="adfuel-console-tab-list",me=U.getMetricTypes(),me.sort();for(var o=0;o<me.length;o++)if(0!=me[o].indexOf("_")&&"watchers"!==me[o]){var r=document.createElement("li");ne("Full Console: ",G),r.style.display=G?"inline-block":"none","creative review"==me[o]&&(r.style.display="none"),r.style.marginLeft="15px",r.style.marginRight="auto",r.style.fontSize=".8em",r.style.paddingBottom="10px";var s=document.createElement("a");s.className="afcTab",0==o&&(s.className="activeAFCTab afcTab"),s.rel=me[o],t(s,"click",n),s.appendChild(document.createTextNode(m(me[o]))),r.appendChild(s),a.appendChild(r)}e.appendChild(a)}function v(e){var n=document.createElement("div");n.className="adfuel-console-button-container",n.id="adfuel-close-console-button-container";var i=document.createElement("a");i.className="adfuel-console-button-plain",i.id="adfuel-close-console-button";var a=document.createElement("i");a.className="adfuel-console-button-icon material-icons",a.innerHTML=a.innerText="close";var o=document.createElement("a");o.className="adfuel-console-button-plain",o.id="adfuel-resize-console-button";var r=document.createElement("i");r.className="adfuel-console-button-icon material-icons",r.innerHTML=r.innerText="help_outline";var s=document.createElement("a");s.className="adfuel-console-button-plain",s.id="adfuel-show-overlay-button";var l=document.createElement("i");l.className="adfuel-console-button-icon material-icons",l.innerHTML=l.innerText="vignette";var d=document.createElement("div");d.id="adfuel-console-banner";var c=document.createElement("div");c.className="adfuel-console-tab-link-container",s.appendChild(l),o.appendChild(r),i.appendChild(a),n.appendChild(s),n.appendChild(o),n.appendChild(i),V=t(i,"click",M),_consoleHelpButtonHandler=t(o,"click",f),$=t(s,"click",h),d.appendChild(n);var u=document.createElement("div");u.className="adfuel-console-banner-title",ne("Full Console: ",G);var p=G?"AdFuel Console Tool":"AdFuel Creative Review";u.appendChild(document.createTextNode(p)),d.appendChild(u),d.appendChild(c),e.appendChild(d)}function y(e,t){if(e.type){K.indexOf(e.type)<0&&(g(),K.push(e.type));var n=document.getElementById("adfuel-console-panel-"+e.type.replace(/ /g,"-"));if("counts"==e.type)x(n);else if("creative review"==e.type){var i=parseInt(fe.viewport.split("x")[0]);i>800&&i<1250?N(n):i<800?T(n):S("Desktop"==fe.class?n:n)}else"timeline"==e.type?b(n):R(n,!0);t&&t()}}function w(e){var t,n=document.getElementsByClassName("afcTab"),i=document.querySelector("li > a[rel='"+e+"']");for(t=0;t<n.length;t++)n[t].className=n[t].className.replace("activeAFCTab","");i&&(i.className=i.className+" activeAFCTab");var a=document.getElementById("adfuel-console-panel-"+e.replace(/ /g,"-"));if(!a){var o=e,r=document.createElement("div"),s=document.getElementsByClassName("adfuel-console")[0];r.id="adfuel-console-panel-"+o.replace(/ /g,"-"),r.style.display="none",r.className="adfuel-console-panel adfuel-console-content",r.style.width="100%",r.style.padding="0",r.style.margin="0",r.style.height="80%",r.style.minHeight="250px",r.style.overflowY="auto",s.appendChild(r),a=r}if("timeline"==e){b(a,A())}var l=document.getElementsByClassName("adfuel-console-panel");for(t=0;t<l.length;t++)l[t].style.display="none";a.style.display="block",ne("Full Console: ",G),G&&"configuration"==e&&C({target:{dataset:{panel:a.id,tab:"adfuel_initialization_options",content:"adfuel-console-panel-configuration-tabContent-adfuel_initialization_options"}}})}function _(e){if(e||(e=document.getElementsByClassName("adfuel-console")[0]),!e)return ne("Error: No AdFuel-Console container."),!1;for(var t=0;t<me.length;t++)if(0!=me[t].indexOf("_")){var n=me[t],i=document.createElement("div");if(i.id="adfuel-console-panel-"+n.replace(/ /g,"-"),i.style.display="none",i.className="adfuel-console-panel adfuel-console-content",i.style.width="100%",i.style.padding="0",i.style.margin="0",i.style.height="80%",i.style.minHeight="250px",e.appendChild(i),ne("Full Console: ",G),ne("Panel Name: ",n),!G&&"creative review"!=n)continue;switch(n){case"creative review":var a=parseInt(fe.viewport.split("x")[0]);a>800&&a<1250?N(i):a<800?T(i):S("Desktop"==fe.class?i:i);break;case"counts":x(i);break;case"configuration":case"modules":case"page":case"registries":case"requests":case"slots":i.style.display="block",R(i,!0);break;case"timeline":var o=A();b(i,o);break;default:R(i,!0)}}}function b(e,t){if(e&&t){var n=document.createElement("div");n.id="gridbox",n.style.width="100%",n.style.height="95%",n.style.backgroundColor="#ABABAB",n.style.margin="0",n.style.padding="0",n.style.position="relative",n.style.top="-12px";try{e.removeChild(n)}catch(e){}e.style.height="90%",e.appendChild(n);try{q=new dhtmlXGridObject("gridbox"),q.setImagePath(("https:"===document.location.protocol?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/"),n.style.position="relative",n.style.top="-12px",n.style.left="2px",q.setHeader("Name, Type, Timestamp, Start, End, Time From Previous, Time From Initial, Duration,"),q.setInitWidths("350,100,200,200,200,150,150,100"),q.setColAlign("left, left, left, left, left, left, left, left"),q.setColTypes("ro,ro,ro,ro,ro,ro,ro,ro"),q.enableColumnAutoSize(!0),q.enableDragAndDrop(!1),q.init(),q.clearAll(),q.parse(t,"json")}catch(e){}}}function C(e){var t=e.target,n=t.dataset,i=n.panel,a=(n.tab,n.content),o=document.querySelectorAll("div#"+i+" .adfuel-console-panel-tab-content"),r=document.querySelectorAll("div#"+i+" ul.nav-stacked li"),s=document.querySelector("div#"+i+" ul.nav-stacked li#"+n.tab.replace(/ /g,"_")),l=0;for(l=0;l<o.length;l++)o[l].style.display="none";for(l=0;l<r.length;l++)r[l].className="";return s&&(s.className=s.className+" active"),document.getElementById(a).style.display="block",!1}function x(e){if(e){e.innerHTML="";var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.display="inline-block",t.style.padding="5px",t.style.margin="0";var n=document.createElement("ul");n.className="nav nav-pills nav-stacked flex-column",n.style.listStyleType="none",n.style.margin="0",n.style.padding="5px",n.style.height="100%",n.style.minHeight="250px",n.style.overflow="auto";var i=[];U.metrics&&U.metrics.counts&&(i=Object.getOwnPropertyNames(U.metrics.counts));for(var a=0;a<i.length;a++){var o=document.createElement("li");o.style.margin="5px",o.style.padding="5px",o.style.fontSize="14px",o.style.width="15%",o.style.display="inline-block",o.style.float="left",o.style.borderRight="solid 1px #BCBCBC",o.id=i[a].replace(/ /g,"_"),o.innerHTML=m(i[a].replace(/_/g," "));var r=document.createElement("span");r.style.float="right",r.className="badge badge-pill badge-primary",r.style.width="15%",r.innerHTML=U.metrics.counts[i[a]],o.appendChild(r),n.appendChild(o)}t.appendChild(n),e.appendChild(t)}}function A(){var e=["connection_start","document_request_start","domContentLoaded","dom_load_start","domain_lookup_start","fetch_start","navigation_start","window_load"],t=["_rendered","adfuel_initialized","building_gpt_slots","dispatch_queue"],n=["request_to_dfp"],i=["_preQueue","_postQueue","_preDispatch","_postDispatch","_preRefresh","_postRefresh"],a=U.metrics.timeline,o="",s={rows:[]};for(var l in a)if(a.hasOwnProperty(l)){if(e.indexOf(l)>=0)o="Browser";else if(t.indexOf(l)>=0||l.indexOf("_rendered")>0||l.indexOf("building_gpt_slot_")>=0)o="AdFuel";else if(n.indexOf(l)>=0)o="DFP";else{for(var d=0;d<i.length;d++)l.indexOf(i[d])>0&&(o="Module");""==o&&(o="UNKNOWN")}for(var c=0;c<a[l].length;c++){var u,p,f=a[l][c];if(f.timestamp){var h=new Date;h.setTime(f.timestamp),u=h.toISOString().split("T"),u[0],p=u[1].replace("Z",""),h=p;for(var g=l.split("_"),c=0;c<g.length;c++)g[c]=m(g[c]);var v=g.join(" "),y={id:l+"_"+c,data:[v,o,a[l][0].timestamp,h,"","","",0]};s.rows.push(y)}else if(f.start&&f.end){var w=new Date;w.setTime(f.start),u=w.toISOString().split("T"),u[0],p=u[1].replace("Z",""),w=p;var _=new Date;_.setTime(f.end),u=_.toISOString().split("T"),u[0],p=u[1].replace("Z",""),_=p;for(var b=parseInt(f.end)-parseInt(f.start)+"ms",g=l.split("_"),c=0;c<g.length;c++)g[c]=m(g[c]);var v=g.join(" "),y={id:l+"_"+c,data:[v,o,a[l][0].start,w,_,"","",b],endStamp:f.end};s.rows.push(y)}else if(f.start){var w=new Date;w.setTime(f.start),u=w.toISOString().split("T"),u[0],p=u[1].replace("Z",""),w=p;for(var g=l.split("_"),c=0;c<g.length;c++)g[c]=m(g[c]);var v=g.join(" "),y={id:l+"_"+c,data:[v,o,a[l][0].start,w,"","","",""]};s.rows.push(y)}}}if(s.rows.length>0){s.rows.sort(r);for(var C=s.rows[0].data[2],x=1;x<s.rows.length;x++){var A=s.rows[x],E=s.rows[x-1].data[2];A.data[5]=A.data[2]-E+"ms",A.data[6]=A.data[2]-C+"ms"}var S=s.rows[s.rows.length-1],T=S.endStamp?S.endStamp:S.data[2],N=T-C+"ms",y={id:"elapsed_time",data:["Total Elapsed Time","","","","","","",N]};s.rows.push(y)}return s}function E(e,n){var i=document.createElement("div");i.style.width="27%",i.style.maxWidth="400px",i.style.height="100%",i.style.display="inline-block",i.style.margin="0",i.style.float="left",i.style.borderRight="solid 1px #0052e7",e.appendChild(i);var a=document.createElement("ul");a.className="nav nav-pills nav-stacked flex-column",a.style.listStyleType="none",a.style.margin="0",a.style.padding="5px",a.style.height="100%",a.style.minHeight="250px",a.style.overflow="auto";for(var o=0;o<n.length;o++){isNaN(parseInt(n[o]))||(n[o]="request_"+n[o]);var r=document.createElement("div");r.id=e.id+"-tabContent-"+n[o].replace(/ /g,"_"),r.className="adfuel-console-panel-tab-content",r.style.width="72%",r.style.height="100%",r.style.display="inline-block",r.style.padding="0",r.style.margin="5px",r.style.float="left",0!=o&&(r.style.display="none");var s=document.createElement("li");0==o&&(s.className=s.className+" active"),s.id=n[o].replace(/ /g,"_");var l=document.createElement("a");l.rel=n[o],l.dataset.panel=e.id,l.dataset.tab=n[o],l.dataset.content=r.id,l.innerHTML=m(n[o].replace(/_/g," ")),s.appendChild(l),a.appendChild(s),O(r,n[o]),t(l,"click",C),e.appendChild(r)}i.appendChild(a)}function S(e,t){function i(e,t,i){for(var r=0;r<i.length;r++){var s=i[r];switch(s.type){case"textarea":var l=a("div",s.label+":"+(!0===s.required?" *":""));l.style.fontWeight="bolder",e.appendChild(l),e.appendChild(s.element=document.createElement("textarea")),s.element.name=s.name||"",!0===s.required&&(s.element.attributes.required="required"),s.element.width="95%",s.element.cols="60",s.element.rows="5";break;case"input":var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",!0===s.required&&s.element.setAttribute("required","required"),e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"listLabel":var u=a("div",s.label+":"+(!0===s.required?" *":""));u.style.fontWeight="bolder",e.appendChild(u);break;case"list":for(var p=document.createElement("div"),f=0;f<s.items.length;f++){var h=s.items[f],m=n(h.name,h.value,h.label),g=m.firstChild;s.items[f].element=g,p.appendChild(m)}e.appendChild(p);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"select":console.debug("Building Select Element",s);var v=a("div",s.label+": "+(!0===s.required?" *":""));v.style.fontWeight="bolder",e.appendChild(v),s.element=document.createElement("select"),s.element.name=s.name;for(var y=0;y<s.options.length;y++){console.debug("Building Select Option Element",s.options[y]);var w=a("option",s.options[y].text);w.value=s.options[y].value,s.element.appendChild(w)}e.appendChild(s.element);break;case"button":e.appendChild(o(s));break;case"fileUpload":if(Y){var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",s.element.type="file",s.element.accept="image/*",e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"))}}}t.appendChild(e)}function r(e){""!==e?(b.style.display="inline-block",b.innerHTML=e):b.style.display="none",window.setTimeout(function(){b.style.display="none"},3e3)}function s(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}if(ne("Building Desktop Creative Review Form"),t=t||1,e){var l=[{type:"input",name:"Name",value:"",label:"Your Name",required:!0},{type:"input",name:"Email",value:"",label:"Your Email",required:!0},{type:"fileUpload",name:"Screenshot",value:"",label:"Upload Screenshot",required:!1}],d=[{type:"listLabel",name:"Reason",label:"What is the issue you are reporting?",required:!1},{type:"list",name:"Issue(s)",required:!1,items:[{type:"checkbox",name:"Issue",value:"block list violation",label:"Ad violates site block list",required:!1},{type:"checkbox",name:"Issue",value:"video plays in display ad",label:"Video plays in display ad",required:!1},{type:"checkbox",name:"Issue",value:"ad disrupts content",label:"Ad disrupts content",required:!1},{type:"checkbox",name:"Issue",value:"ad incorrectly sized",label:"Ad incorrectly sized",required:!1},{type:"checkbox",name:"Issue",value:"download initiated",label:"Ad attempts to initiate download",required:!1},{type:"checkbox",name:"Issue",value:"blank ad",label:"Blank ad",required:!1},{type:"checkbox",name:"Issue",value:"low quality",label:"Low-quality ad",required:!1},{type:"checkbox",name:"Issue",value:"audio autostarts",label:"Audio starts automatically",required:!1},{type:"checkbox",name:"Issue",value:"broken ad",label:"Broken ad",required:!1}]},{type:"select",name:"Brand",label:"What is brand is affected by the issue you are reporting?",required:!0,options:[{text:"",value:"placeholder"},{text:"Adult Swim",value:"Adult Swim"},{text:"Bleacher Report",value:"Bleacher"},{text:"Cartoon Network",value:"Cartoon Network"},{text:"CNN",value:"CNN"},{text:"CNN Arabic",value:"CNN Arabic"},{text:"CNN Espanol",value:"CNN Espanol"},{text:"CNN International",value:"CNN International"},{text:"CNN Money",value:"CNN Money"},{text:"E-League",value:"ELEAGUE"},{text:"Great Big Story",value:"Great Big Story"},{text:"HLN",value:"HLN"},{text:"NBA",value:"NBA"},{text:"NBA International",value:"NBA International"},{text:"NCAA",value:"NCAA"},{text:"PGA",value:"PGA"},{text:"TBS",value:"TBS"},{text:"TCM",value:"TCM"},{text:"Team Coco",value:"Team Coco"},{text:"TNT",value:"TNT"},{text:"TruTV",value:"truTV"}]}],c=[{type:"textarea",name:"Comments",label:"Please describe the issue you are reporting",required:!0}];e.innerHTML="",e.style.padding="0";var u=document.createElement("div");u.style.width="100%",u.style.height="100%",u.style.display="inline-block",u.style.padding="5px",u.style.margin="0";var p=document.createElement("div");p.style.width="99%",p.style.borderBottom="solid 1px black";var f=document.createElement("p");f.style.padding="0",f.style.fontWeight="bolder",f.style.margin="auto",f.innerHTML="You can report an issue on this page by submitting the information below. A copy of the report will be sent to the email address specified.<br /><span style='color: red'>* Denotes required fields.</span>",p.appendChild(f),u.appendChild(p);var h=document.createElement("form");h.style.padding="0",h.style.margin="0",u.appendChild(h);var m=document.createElement("div");switch(t){case 1:m.style.width="25%",m.style.height="60%",m.style.display="inline-block",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left";break;case 2:m.style.width="50%",m.style.height="100%",m.style.minHeight="160px",m.style.display="inline-block",m.style.padding="5px 5px",m.style.margin="0",
m.style.float="left",m.style.fontSize="12px",m.id="cr_panel_1";break;case 3:m.style.width="100%",m.style.height="100%",m.style.minHeight="160px",m.style.display="inline-block",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left",m.style.fontSize="12px",m.id="cr_panel_1"}i(m,h,l);var g=document.createElement("div");switch(t){case 1:g.style.width="39%",g.style.height="60%",g.style.display="inline-block",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left";break;case 2:g.style.width="50%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="inline-block",g.id="cr_panel_2";break;case 3:g.style.width="100%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="none",g.id="cr_panel_2"}i(g,h,d);var v=document.createElement("div");switch(t){case 1:v.style.width="32%",v.style.height="60%",v.style.display="inline-block",v.style.padding="5px 5px",v.style.margin="0",v.style.float="left";break;case 2:case 3:v.style.width="100%",v.style.height="100%",v.style.minHeight="160px",v.style.padding="5px 5px",v.style.margin="0",v.style.float="left",v.style.fontSize="12px",v.style.display="none",v.id="cr_panel_3"}i(v,h,c);var y=document.createElement("div");y.style.clear="both",u.appendChild(y);var w=document.createElement("div");w.style.width="99%",w.style.height="10%",w.style.padding="0",w.style.margin="0";var _=document.createElement("div");_.style.display="inline-block",_.style.float="right";var b=document.createElement("div");b.style.cssText="display: none; margin-right: 14px; margin-top: 7px; color: #FFFFFF; font-style: italic; font-weight: bold; font-size: 12px; padding: 5px; margin-bottom: 5px; border: solid 1px black; background-color: red;";var C=document.createElement("div");C.className="cr-confirm-alert",C.style.visibility="hidden";var x=document.createElement("div");x.className="cr-confirm-alert-text";var A=new Date,E=A.getDay(),S=A.getHours(),T=0==E||6==E||S<8||S>17,N=T?"2 hours outside of":"1 hour during";x.innerHTML="Your report has been successfully submitted to Ad Operations. If you do not get a response within "+N+" normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.",C.appendChild(x),C.appendChild(document.createElement("br"));var k=document.createElement("button");k.className="btn btn-primary btn-sm",k.innerHTML="OK",k.onclick=function(e){e.preventDefault(),M(),C.style.visibility="hidden",h.reset()},C.appendChild(k),e.appendChild(C);var I=document.createElement("input");I.type="submit",I.className="btn btn-primary btn-sm cr-confirm-alert-btn",I.onclick=function(e){return e.preventDefault(),""==h.elements.Name.value||""==h.elements.Comments.value||""==h.elements.Email.value?void r("Please fill out all required fields."):s(h.elements.Email.value)?void F(h,function(){C.style.visibility="visible"}):void r("Email address is not valid.")};var O=document.createElement("button");O.type="button",O.className="btn btn-primary btn-sn cr-confirm-alert-btn",O.onclick=function(e){switch(t){case 2:if(""==h.elements.Name.value||""==h.elements.Email.value||""==h.elements.Brand.value||"placeholder"==formElements.elements.Brand.value)return void r("Please fill out all required fields.");if(!s(h.elements.Email.value))return void r("Email address is not valid.");if(""==h.elements.Brand.value||"placeholder"==h.elements.Brand.value)return void r("Please select the brand affected by this issue.");document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",_.removeChild(O),_.appendChild(R),_.appendChild(I);break;case 3:switch(he){case 1:if(""==h.elements.Name.value||""==h.elements.Email.value)return void r("Please fill out all required fields.");if(!s(h.elements.Email.value))return void r("Email address is not valid.");document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="inline-block",_.insertBefore(R,O),he++;break;case 2:if(""==h.elements.Brand.value||"placeholder"==h.elements.Brand.value)return void r("Please select the brand affected by this issue.");document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",_.removeChild(O),_.appendChild(I),he++}}},O.style.padding="5px 10px",O.style.fontSize="12px",O.style.lineHeight="1.5",O.style.borderRadius="3px",O.innerHTML="Next >>";var R=document.createElement("button");R.type="button",R.className="btn btn-primary btn-sn cr-confirm-alert-btn",R.onclick=function(e){switch(t){case 2:r(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",_.appendChild(O),_.removeChild(I);case 3:switch(he){case 2:r(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="none",_.removeChild(R);break;case 3:r(""),document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",_.appendChild(O),_.removeChild(I)}he--}},R.style.padding="5px 10px",R.style.fontSize="12px",R.style.lineHeight="1.5",R.style.borderRadius="3px",R.style.marginRight="10px",R.innerHTML="<< Back",_.appendChild(b),1==t?_.appendChild(I):_.appendChild(O),w.appendChild(_),u.appendChild(w),e.insertBefore(u,C)}}function T(e){function t(e,t,i){for(var r=0;r<i.length;r++){var s=i[r];switch(s.type){case"textarea":var l=a("div",s.label+":"+(!0===s.required?" *":""));l.style.fontWeight="bolder",e.appendChild(l),e.appendChild(s.element=document.createElement("textarea")),s.element.name=s.name||"",!0===s.required&&(s.element.attributes.required="required"),s.element.width="95%",s.element.cols="60",s.element.rows="5";break;case"input":var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",!0===s.required&&s.element.setAttribute("required","required"),e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"listLabel":var u=a("div",s.label+":"+(!0===s.required?" *":""));u.style.fontWeight="bolder",e.appendChild(u);break;case"list":for(var p=document.createElement("div"),f=0;f<s.items.length;f++){var h=s.items[f],m=n(h.name,h.value,h.label),g=m.firstChild;s.items[f].element=g,p.appendChild(m)}e.appendChild(p);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"select":var v=a("div",s.label+": "+(!0===s.required?" *":""));v.style.fontWeight="bolder",e.appendChild(v),s.element=document.createElement("select"),s.element.name=s.name;for(var y=0;y<s.options.length;y++){var w=a("option",s.options[y].text);w.value=s.options[y].value,s.element.appendChild(w)}e.appendChild(s.element);break;case"button":e.appendChild(o(s));break;case"fileUpload":if(Y){var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",s.element.type="file",s.element.accept="image/*",e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"))}}}t.appendChild(e)}function i(e){""!==e?(_.style.display="inline-block",_.innerHTML=e):_.style.display="none",window.setTimeout(function(){_.style.display="none"},3e3)}function r(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}if(ne("Building Mobile Creative Review Form"),e){var s=[{type:"input",name:"Name",value:"",label:"Your Name",required:!0},{type:"input",name:"Email",value:"",label:"Your Email",required:!0},{type:"fileUpload",name:"Screenshot",value:"",label:"Upload Screenshot",required:!1}],l=[{type:"listLabel",name:"Reason",label:"What is the issue you are reporting?",required:!1},{type:"list",name:"Issue(s)",required:!1,items:[{type:"checkbox",name:"Issue",value:"block list violation",label:"Ad violates site block list",required:!1},{type:"checkbox",name:"Issue",value:"video plays in display ad",label:"Video plays in display ad",required:!1},{type:"checkbox",name:"Issue",value:"ad disrupts content",label:"Ad disrupts content",required:!1},{type:"checkbox",name:"Issue",value:"ad incorrectly sized",label:"Ad incorrectly sized",required:!1},{type:"checkbox",name:"Issue",value:"download initiated",label:"Ad attempts to initiate download",required:!1},{type:"checkbox",name:"Issue",value:"blank ad",label:"Blank ad",required:!1},{type:"checkbox",name:"Issue",value:"low quality",label:"Low-quality ad",required:!1},{type:"checkbox",name:"Issue",value:"audio autostarts",label:"Audio starts automatically",required:!1},{type:"checkbox",name:"Issue",value:"broken ad",label:"Broken ad",required:!1}]},{type:"select",name:"Brand",label:"What is brand is affected by the issue you are reporting?",required:!0,options:[{text:"",value:"placeholder"},{text:"Adult Swim",value:"Adult Swim"},{text:"Bleacher Report",value:"Bleacher"},{text:"Cartoon Network",value:"Cartoon Network"},{text:"CNN",value:"CNN"},{text:"CNN Arabic",value:"CNN Arabic"},{text:"CNN Espanol",value:"CNN Espanol"},{text:"CNN International",value:"CNN International"},{text:"CNN Money",value:"CNN Money"},{text:"E-League",value:"ELEAGUE"},{text:"Great Big Story",value:"Great Big Story"},{text:"HLN",value:"HLN"},{text:"NBA",value:"NBA"},{text:"NBA International",value:"NBA International"},{text:"NCAA",value:"NCAA"},{text:"TBS",value:"TBS"},{text:"TCM",value:"TCM"},{text:"Team Coco",value:"Team Coco"},{text:"TNT",value:"TNT"},{text:"TruTV",value:"truTV"}]}],d=[{type:"textarea",name:"Comments",label:"Please describe the issue you are reporting",required:!0}];e.innerHTML="",e.style.padding="0";var c=document.createElement("div");c.style.width="100%",c.style.height="100%",c.style.display="inline-block",c.style.padding="5px",c.style.margin="0",c.style.border="solid 2px purple";var u=document.createElement("div");u.style.width="99%",u.style.borderBottom="solid 1px black",u.style.fontSize="12px";var p=document.createElement("p");p.style.padding="0",p.style.fontWeight="bolder",p.style.margin="auto",p.innerHTML="You can report an issue on this page by submitting the information below. A copy of the report will be sent to the email address specified.<br /><span style='color: red'>* Denotes required fields.</span>",u.appendChild(p),c.appendChild(u);var f=document.createElement("form");f.style.padding="0",f.style.margin="0",c.appendChild(f);var h=document.createElement("div");h.style.width="100%",h.style.height="100%",h.style.minHeight="160px",h.style.display="inline-block",h.style.padding="5px 5px",h.style.margin="0",h.style.float="left",h.style.fontSize="12px",h.id="cr_panel_1",t(h,f,s);var m=document.createElement("div");m.style.width="100%",m.style.height="100%",m.style.minHeight="160px",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left",m.style.fontSize="12px",m.style.display="none",m.id="cr_panel_2",t(m,f,l);var g=document.createElement("div");g.style.width="100%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="none",g.id="cr_panel_3",t(g,f,d);var v=document.createElement("div");v.style.clear="both",c.appendChild(v);var y=document.createElement("div");y.style.width="99%",y.style.height="10%",y.style.padding="0",y.style.margin="0";var w=document.createElement("div");w.style.display="inline-block",w.style.float="right",w.style.height="10%";var _=document.createElement("div");_.style.cssText="display: none; margin-right: 14px; margin-top: 7px; color: #FFFFFF; font-style: italic; font-weight: bold; font-size: 12px; padding: 5px; margin-bottom: 5px; border: solid 1px black; background-color: red;";var b=document.createElement("div");b.className="cr-confirm-alert",b.style.visibility="hidden";var C=document.createElement("div");C.className="cr-confirm-alert-text";var x=new Date,A=x.getDay(),E=x.getHours(),S=0==A||6==A||E<8||E>17,T=S?"2 hours outside of":"1 hour during";C.innerHTML="Your report has been successfully submitted to Ad Operations. If you do not get a response within "+T+" normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.",b.appendChild(C),b.appendChild(document.createElement("br"));var N=document.createElement("button");N.className="btn btn-primary btn-sm",N.innerHTML="OK",N.onclick=function(e){e.preventDefault(),M(),b.style.visibility="hidden",f.reset()},b.appendChild(N),e.appendChild(b);var k=document.createElement("input");k.type="submit",k.className="btn btn-primary btn-sm cr-confirm-alert-btn",k.onclick=function(e){if(e.preventDefault(),""==f.elements.Comments.value)return void i("Please describe the issue you are reporting.");F(f,function(){b.style.visibility="visible"})};var I=document.createElement("button");I.type="button",I.className="btn btn-primary btn-sn cr-confirm-alert-btn",I.onclick=function(e){switch(he){case 1:if(""==f.elements.Name.value||""==f.elements.Email.value)return void i("Please fill out all required fields.");if(!r(f.elements.Email.value))return void i("Email address is not valid.");document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="inline-block",w.insertBefore(O,I),he++;break;case 2:if(""==f.elements.Brand.value||"placeholder"==f.elements.Brand.value)return void i("Please select the brand affected by this issue.");document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",w.removeChild(I),w.appendChild(k),he++}},I.style.padding="5px 10px",I.style.fontSize="12px",I.style.lineHeight="1.5",I.style.borderRadius="3px",I.innerHTML="Next >>";var O=document.createElement("button");O.type="button",O.className="btn btn-primary btn-sn cr-confirm-alert-btn",O.onclick=function(e){switch(he){case 2:i(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="none",w.removeChild(O);break;case 3:i(""),document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",w.appendChild(I),w.removeChild(k)}he--},O.style.padding="5px 10px",O.style.fontSize="12px",O.style.lineHeight="1.5",O.style.borderRadius="3px",O.style.marginRight="10px",O.innerHTML="<< Back",w.appendChild(_),w.appendChild(I),y.appendChild(w),c.appendChild(y),e.insertBefore(c,b)}}function N(e){function t(e,t,i){for(var r=0;r<i.length;r++){var s=i[r];switch(s.type){case"textarea":var l=a("div",s.label+":"+(!0===s.required?" *":""));l.style.fontWeight="bolder",e.appendChild(l),e.appendChild(s.element=document.createElement("textarea")),s.element.name=s.name||"",!0===s.required&&(s.element.attributes.required="required"),s.element.width="95%",s.element.cols="60",s.element.rows="5";break;case"input":var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",!0===s.required&&s.element.setAttribute("required","required"),e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"listLabel":var u=a("div",s.label+":"+(!0===s.required?" *":""));u.style.fontWeight="bolder",e.appendChild(u);break;case"list":for(var p=document.createElement("div"),f=0;f<s.items.length;f++){var h=s.items[f],m=n(h.name,h.value,h.label),g=m.firstChild;s.items[f].element=g,p.appendChild(m)}e.appendChild(p);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"select":var v=a("div",s.label+": "+(!0===s.required?" *":""));v.style.fontWeight="bolder",e.appendChild(v),s.element=document.createElement("select"),s.element.name=s.name;for(var y=0;y<s.options.length;y++){var w=a("option",s.options[y].text);w.value=s.options[y].value,s.element.appendChild(w)}e.appendChild(s.element);break;case"button":e.appendChild(o(s));break;case"fileUpload":if(Y){var d=a("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",s.element.type="file",s.element.accept="image/*",e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"))}}}t.appendChild(e)}function i(e){""!==e?(_.style.display="inline-block",_.innerHTML=e):_.style.display="none",window.setTimeout(function(){_.style.display="none"},3e3)}function r(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}if(ne("Building Mobile Creative Review Form"),e){var s=[{type:"input",name:"Name",value:"",label:"Your Name",required:!0},{type:"input",name:"Email",value:"",label:"Your Email",required:!0},{type:"fileUpload",name:"Screenshot",value:"",label:"Upload Screenshot",required:!1}],l=[{type:"listLabel",name:"Reason",label:"What is the issue you are reporting?",required:!1},{type:"list",name:"Issue(s)",required:!1,items:[{type:"checkbox",name:"Issue",value:"block list violation",label:"Ad violates site block list",required:!1},{type:"checkbox",name:"Issue",value:"video plays in display ad",label:"Video plays in display ad",required:!1},{type:"checkbox",name:"Issue",value:"ad disrupts content",label:"Ad disrupts content",required:!1},{type:"checkbox",name:"Issue",value:"ad incorrectly sized",label:"Ad incorrectly sized",required:!1},{type:"checkbox",name:"Issue",value:"download initiated",label:"Ad attempts to initiate download",required:!1},{type:"checkbox",name:"Issue",value:"blank ad",label:"Blank ad",required:!1},{type:"checkbox",name:"Issue",value:"low quality",label:"Low-quality ad",required:!1},{type:"checkbox",name:"Issue",value:"audio autostarts",label:"Audio starts automatically",required:!1},{type:"checkbox",name:"Issue",value:"broken ad",label:"Broken ad",required:!1}]},{type:"select",name:"Brand",label:"What is brand is affected by the issue you are reporting?",required:!0,options:[{text:"",value:"placeholder"},{text:"Adult Swim",value:"Adult Swim"},{text:"Bleacher Report",value:"Bleacher"},{text:"Cartoon Network",value:"Cartoon Network"},{text:"CNN",value:"CNN"},{text:"CNN Arabic",value:"CNN Arabic"},{text:"CNN Espanol",value:"CNN Espanol"},{text:"CNN International",value:"CNN International"},{text:"CNN Money",value:"CNN Money"},{text:"E-League",value:"ELEAGUE"},{text:"Great Big Story",value:"Great Big Story"},{text:"HLN",value:"HLN"},{text:"NBA",value:"NBA"},{text:"NBA International",value:"NBA International"},{text:"NCAA",value:"NCAA"},{text:"TBS",value:"TBS"},{text:"TCM",value:"TCM"},{text:"Team Coco",value:"Team Coco"},{text:"TNT",value:"TNT"},{text:"TruTV",value:"truTV"}]}],d=[{type:"textarea",name:"Comments",label:"Please describe the issue you are reporting",required:!0}];e.innerHTML="",e.style.padding="0";var c=document.createElement("div");c.style.width="100%",c.style.height="100%",c.style.display="inline-block",c.style.padding="5px",c.style.margin="0",c.style.border="solid 2px purple";var u=document.createElement("div");u.style.width="99%",u.style.borderBottom="solid 1px black",u.style.fontSize="12px";var p=document.createElement("p");p.style.padding="0",p.style.fontWeight="bolder",p.style.margin="auto",p.innerHTML="You can report an issue on this page by submitting the information below. A copy of the report will be sent to the email address specified.<br /><span style='color: red'>* Denotes required fields.</span>",u.appendChild(p),c.appendChild(u);var f=document.createElement("form");f.style.padding="0",f.style.margin="0",c.appendChild(f);var h=document.createElement("div");h.style.width="50%",h.style.height="100%",h.style.minHeight="160px",h.style.display="inline-block",h.style.padding="5px 5px",h.style.margin="0",h.style.float="left",h.style.fontSize="12px",h.id="cr_panel_1",t(h,f,s);var m=document.createElement("div");m.style.width="50%",m.style.height="100%",m.style.minHeight="160px",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left",m.style.fontSize="12px",m.style.display="inline-block",m.id="cr_panel_2",t(m,f,l);var g=document.createElement("div");g.style.width="100%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="none",g.id="cr_panel_3",t(g,f,d);var v=document.createElement("div");v.style.clear="both",c.appendChild(v);var y=document.createElement("div");y.style.width="99%",y.style.height="10%",y.style.padding="0",y.style.margin="0";var w=document.createElement("div");w.style.display="inline-block",w.style.float="right",w.style.height="10%";var _=document.createElement("div");_.style.cssText="display: none; margin-right: 14px; margin-top: 7px; color: #FFFFFF; font-style: italic; font-weight: bold; font-size: 12px; padding: 5px; margin-bottom: 5px; border: solid 1px black; background-color: red;";var b=document.createElement("div");b.className="cr-confirm-alert",b.style.visibility="hidden";var C=document.createElement("div");C.className="cr-confirm-alert-text";var x=new Date,A=x.getDay(),E=x.getHours(),S=0==A||6==A||E<8||E>17,T=S?"2 hours outside of":"1 hour during";C.innerHTML="Your report has been successfully submitted to Ad Operations. If you do not get a response within "+T+" normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.",b.appendChild(C),b.appendChild(document.createElement("br"));var N=document.createElement("button");N.className="btn btn-primary btn-sm",N.innerHTML="OK",N.onclick=function(e){e.preventDefault(),M(),b.style.visibility="hidden",f.reset()},b.appendChild(N),e.appendChild(b);var k=document.createElement("input");k.type="submit",k.className="btn btn-primary btn-sm cr-confirm-alert-btn",k.onclick=function(e){if(e.preventDefault(),""==f.elements.Comments.value)return void i("Please describe the issue you are reporting.");F(f,function(){b.style.visibility="visible"})};var I=document.createElement("button");I.type="button",I.className="btn btn-primary btn-sn cr-confirm-alert-btn",I.onclick=function(e){return""==f.elements.Name.value||""==f.elements.Email.value||"placeholder"==f.elements.Brand.value||""==f.elements.Brand.value?void i("Please fill out all required fields."):r(f.elements.Email.value)?(document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",ne("Appending Back and Submit Buttons.  Removing Next Button."),w.removeChild(I),w.appendChild(O),w.appendChild(k),void 0):void i("Email address is not valid.")},I.style.padding="5px 10px",I.style.fontSize="12px",I.style.lineHeight="1.5",I.style.borderRadius="3px",I.innerHTML="Next >>";var O=document.createElement("button");O.type="button",O.className="btn btn-primary btn-sn cr-confirm-alert-btn",O.onclick=function(e){i(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",ne("Adding Next Button. Removing Submit and Back Buttons."),w.appendChild(I),w.removeChild(O),w.removeChild(k)},O.style.padding="5px 10px",O.style.fontSize="12px",O.style.lineHeight="1.5",O.style.borderRadius="3px",O.style.marginRight="10px",O.innerHTML="<< Back",w.appendChild(_),w.appendChild(I),y.appendChild(w),c.appendChild(y),e.insertBefore(c,b)}}function k(e){var t={};if(e.data&&"function"==typeof e.data.indexOf&&0==e.data.indexOf("{")&&e.data.indexOf("googMsgType")<0)try{t=JSON.parse(e.data),t.pos}catch(e){return}if(t.divId){if(Array.isArray(t.divId)&&t.divId.length>1&&(t.divId=t.divId[0]),t.filteredSources.length>0)for(var n=0;n<t.filteredSources.length;n++){var i=t.filteredSources[n];if(i.indexOf("javascript:")<0){var a=function(){var e=i,n=document.createElement("img"),a=document.getElementById(t.divId),o=document.querySelectorAll("div[id='"+t.divId+"'] div[id^='google_ads_iframe']");if(n.className="adfuel-temp-image",n.src=e,0==e.indexOf("http://")||0==e.indexOf("https://")||0==e.indexOf("//")){a.appendChild(n);for(var r=0;r<o.length;r++){o[r].style.display="none"}}},o=function(){for(var e=document.getElementById(t.divId),n=document.querySelectorAll("div[id='"+t.divId+"'] img.adfuel-temp-image"),i=document.querySelectorAll("div[id='"+t.divId+"'] div[id^='google_ads_iframe']"),a=0;a<n.length;a++){var o=n[a];try{e.removeChild(o)}catch(e){}}for(var r=0;r<i.length;r++){i[r].style.display="block"}};Z.push(a),X.push(o)}}U.addMetric({type:"creatives",id:t.divId,data:t})}}function I(e){if(e&&"FORM"===e.nodeName){var t,n,i=[],a={};for(t=e.elements.length-1;t>=0;t-=1)if(""!==e.elements[t].name)switch(e.elements[t].nodeName){case"INPUT":switch(e.elements[t].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value;break;case"file":e.elements[t].files.length>0&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].files[0],a[e.elements[t].name+"FileName"]=a[e.elements[t].name].name);break;case"checkbox":e.elements[t].checked&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]?a[e.elements[t].name].push(e.elements[t].value):a[e.elements[t].name]=[e.elements[t].value]);break;case"radio":e.elements[t].checked&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value)}break;case"TEXTAREA":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value;break;case"SELECT":switch(e.elements[t].type){case"select-one":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value;break;case"select-multiple":for(n=e.elements[t].options.length-1;n>=0;n-=1)e.elements[t].options[n].selected&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].options[n].value)),a[e.elements[t].name]=e.elements[t].options[n].value)}break;case"BUTTON":switch(e.elements[t].type){case"reset":case"submit":case"button":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),a[e.elements[t].name]=e.elements[t].value}}return a}}function F(e,t){var n=I(e),i=function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&t(200===e.status)};var i=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),a=new Blob([JSON.stringify(window.AdFuel.requestScriptText,null,2)],{type:"application/json"}),o=new Blob([JSON.stringify(window.AdFuel.registry,null,2)],{type:"application/json"}),r={availHeight:screen.availHeight,availLeft:screen.availLeft,availTop:screen.availTop,availWidth:screen.availWidth,colorDepth:screen.colorDepth,height:screen.height,orientation:{angle:screen.orientation.angle,onchange:screen.orientation.onchange,type:screen.orientation.type},pixelDepth:screen.pixelDepth,width:screen.width},s=JSON.parse(JSON.stringify(window.AdFuel.metrics.slots));for(var l in s)s.hasOwnProperty(l)&&(delete s[l].build_end,delete s[l].build_start,delete s[l].display,delete s[l].queued,delete s[l].render_start,delete s[l].render_end);var d=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),c=new Blob([JSON.stringify(document.cookie,null,2)],{type:"application/json"}),u=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),p=new Blob([JSON.stringify(window.AdFuel.metrics.timeline,null,2)],{type:"application/json"}),f=new Blob([JSON.stringify(window.location.href,null,2)],{type:"application/json"}),h=new FormData;h.append("formData",i),h.append("request",a),h.append("registry",o),h.append("slots",d),h.append("cookies",c),h.append("browser",u),h.append("timeline",p),h.append("url",f);var m="http://ams-adfuel-services.prod.services.ec2.dmtio.net:80/api/email";-1!=m.indexOf("adfuel-services-host")&&(m="http://localhost:3050/api/email"),e.open("POST",m,!0),e.send(h),U.addMetric({type:"modules",id:"Creative Review",data:{reported_information:n[0]}})};if(n.Screenshot){n.Screenshot.type.match("image.*")||i();var a=new FileReader;a.onload=function(e){return function(e){n.Screenshot=e.target.result,i()}}(n.Screenshot),a.readAsDataURL(n.Screenshot)}else i()}function O(e,t,n){var i=document.createElement("div");0==t.indexOf("request_")&&(t=t.replace("request_",""));var a=e.id.split("-")[3],o=U.metrics[a][t],r=document.createElement("ul");r.id="adfuel_console_"+a+"_items",r.style.listStyleType="none",r.style.padding="0",r.style.margin="0";for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];isNaN(parseInt(l))||(l="request_"+(parseInt(l)+1));var c=document.createElement("li");c.id="adfuel-console-"+a+"-"+l,c.style.display="block";var u=document.createElement("div"),p=document.createElement("span");p.style.display="inline-block",p.style.width="25%",p.style.minWidth="150px",p.style.textAlign="left",p.style.margin="0",p.style.padding="0",p.style.paddingRight="10px",p.style.float="left",p.style.fontWeight="bolder",p.style.borderBottom="solid 1px #BCBCBC",p.innerHTML=m(l.replace(/_/g," ")+": "),u.appendChild(p),null==d?d="N/A":d||(d="False");var f=Object.getOwnPropertyNames(d),h=typeof d;if("string"==h||"boolean"==h||"number"==h||Array.isArray(d)&&1==d.length){var g="",v=!1;Array.isArray(d)?(v=s(d[0]),g=v?d[0]:m(d[0]),d[0]):(v=s(d),g=v?d:m(d),d);var y=document.createElement("div");if(y.style.margin="0",y.style.padding="0",y.style.display="block",y.style.width="65%",y.style.maxWidth="800px",y.style.float="left",y.style.borderBottom="solid 1px #BCBCBC",y.style.textOverflow="ellipsis",y.style.whiteSpace="nowrap",y.style.overflow="hidden",v){var w=document.createElement("a");w.href=g,w.target="_blank",w.title=g,w.appendChild(document.createTextNode(g)),y.appendChild(w)}else y.appendChild(document.createTextNode(g));u.appendChild(y);var _=document.createElement("div");_.style.clear="both",u.appendChild(_)}else if(Array.isArray(d)){var b=document.createElement("div");b.style.width="65%",b.style.margin="0",b.style.position="relative",b.style.float="left",b.style.textOverflow="ellipsis",b.style.whiteSpace="nowrap",b.style.overflowX="hidden";var C=document.createElement("ul");C.style.listStyleType="none",C.style.margin="0",C.style.padding="0";for(var x=0;x<d.length;x++){var A=document.createElement("li");A.style.marginLeft="0",A.style.paddingLeft="0",A.style.borderBottom="solid 1px #BCBCBC",A.style.margin="0",A.style.padding="0",A.style.display="block",A.style.width="100%",A.style.maxWidth="800px",A.style.float="left",A.style.borderBottom="solid 1px #BCBCBC",A.style.textOverflow="ellipsis",A.style.whiteSpace="nowrap",A.style.overflow="hidden";var v=s(d[x]),g="";if(v){g=d[x];var w=document.createElement("a");w.href=g,w.target="_blank",
w.title=g,w.appendChild(document.createTextNode(g)),A.appendChild(w)}else g=m(d[x]),A.appendChild(document.createTextNode(g));C.appendChild(A)}b.appendChild(C),u.appendChild(b);var _=document.createElement("div");_.style.clear="both",u.appendChild(_)}else{var b=document.createElement("div");b.style.width="65%",b.style.maxWidth="800px",b.style.margin="0",b.style.position="relative",b.style.left="5px",b.style.borderBottom="solid 1px #BCBCBC",b.style.textOverflow="ellipsis",b.style.whiteSpace="nowrap",b.style.overflowX="hidden";var C=document.createElement("ul");C.style.listStyleType="none",C.style.margin="0",C.style.padding="0";for(var x=0;x<f.length;x++){var A=document.createElement("li");A.style.padding="0",A.style.margin="0";var v=s(f[x]),g="";g=v?f[x]:m(f[x]);var E=d[f[x]];if(void 0!==E){var S=document.createElement("label");S.style.width="25%",S.appendChild(document.createTextNode(g+": ")),A.appendChild(S);var T=typeof E;"object"==T&&(E=Array.isArray(E)?E.join(", "):JSON.stringify(E));var y=document.createElement("span");y.title=E,y.appendChild(document.createTextNode(E)),A.appendChild(y)}else A.appendChild(document.createTextNode(g));C.appendChild(A)}b.appendChild(C),u.appendChild(b)}c.appendChild(u),r.appendChild(c)}i.style.overflowY="auto",i.style.height="80%",i.style.minHeight="250px",i.appendChild(r),e.appendChild(i)}function R(e,t){function n(e){return e.indexOf("_")<0||e.indexOf("_")>0}function i(e,t){var a=document.createElement("ul");a.className="adfuel-console-collection-list-item-detail-list";for(var o=Object.getOwnPropertyNames(e).filter(n),r=0;r<o.length;r++){var s=document.createElement("li");s.className="adfuel-console-collection-list-item-detail-list-item";document.createElement("div").className="adfuel-console-collection-list-item-detail-list-item-container";var l=document.createElement("label");l.className="adfuel-console-collection-list-item-detail-list-item-label";var d=o[r],c=m(d.replace(/_/g," "));l.appendChild(document.createTextNode(c)),s.appendChild(l),Array.isArray(e[d])&&e[d].length>1&&(e[d]=e[d].join("<br>"),e[d]=e[d]+"<br><br>");var u=document.createElement("div");u.style.clear="both";var p=document.createElement("div");if(Array.isArray(e[d])||"object"!=typeof e[d]||null===e[d])p.className="truncate",p.innerText=e[d],p.innerHTML=e[d],p.title=e[d];else{var f=i(e[d],!0),h=document.createElement("div");h.style.clear="both",p.appendChild(h),p.appendChild(f)}t&&s.appendChild(u),s.appendChild(p),s.appendChild(u),a.appendChild(s)}return a}if(e){e.innerHTML="";var a=e.id.replace("adfuel-console-panel-",""),o=U.metrics[a];if(t)tabNames=Object.getOwnPropertyNames(o),E(e,tabNames);else{var r=document.createElement("div");r.className="adfuel-console-collection-container";var s=document.createElement("ul");s.id="adfuel_console_"+a+"_items",s.className="adfuel-console-collection-list",s.style.listStyleType="none",s.style.padding="0",s.style.margin="0";for(var l in o)if(o.hasOwnProperty(l)){var d=o[l],c=document.createElement("li");c.id="adfuel-console-"+a+"-"+l,c.className="adfuel-console-collection-list-items";var u=document.createElement("div");u.className="adfuel-console-collection-list-item-container";var p=document.createElement("label");p.className="adfuel-console-collection-list-item-label";var f=document.createElement("span");p.appendChild(f),p.appendChild(document.createTextNode(m(l.replace(/_/g," ")))),u.appendChild(p);var h=document.createElement("hr");h.className="adfuel-console-separator",u.appendChild(h);var g;if(Array.isArray(d))for(var v=0;v<d.length;v++)d=d[v],g=i(d),u.appendChild(g);else g=i(d),u.appendChild(g);c.appendChild(u),s.appendChild(c)}r.appendChild(s),e.appendChild(r)}}}function M(){V=null;var e=(document.getElementsByTagName("body")[0],document.querySelector("div.adfuel-console-button-container")),n=(document.querySelector("div#adfuel-close-console-button-container"),document.querySelector("body > div.adfuel-console-button-container > a")),i=document.querySelector("div.adfuel-console-filler"),a=document.querySelector("div.adfuel-console");document.querySelector("div#adfuel-console-banner");i.style.display="none",a.style.display="none",e&&n&&(e.style.display="inline-block",Q=t(n,"click",p),window.AdFuel.openConsole=p)}function D(){window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("slotRenderEnded",function(e){try{var t={};e.slot&&(t.asset=e.slot),e.slot.getTargeting("pos")&&(t.pos=e.slot.getTargeting("pos")),e.isEmpty?t.empty=!0:t.empty=!1,e.size&&(t.renderedSize=e.size),e.creativeId&&(t.creativeId=e.creativeId),e.lineItemId&&(t.lineItemId=e.lineItemId),e.serviceName&&(t.serviceName=e.serviceName),e.slot.getSlotElementId()&&(t.divId=e.slot.getSlotElementId(),document.getElementById(t.divId));var n=_pageSlots[t.divId].getResponseInformation();if(t.campaignId=n.campaignId,t.advertiserId=n.advertiserId,U.addMetric({type:"slots",id:t.divId,data:{advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,lineItemId:t.lineItemId}}),window.googletag){var i=googletag.slot_manager_instance;if(i.l)for(var a in i.l)if(i.l.hasOwnProperty(a)&&a==t.divId){var o=null;for(var r in i.l[a])i.l[a].hasOwnProperty(r)&&null!=i.l[a][r]&&"string"==typeof i.l[a][r]&&i.l[a][r].split("?")&&(o=i.l[a][r].split("?"));null!=o&&addMetric({type:"slots",id:t.divId,data:{diagnostics_url:"https://www.google.com/dfp/inventory#diagnostics/"+o[1]+"&base_url="+encodeURIComponent(o[0])}})}}}catch(e){_errLog("error reading slotRenderEnded event",{error:e})}})})}function B(e,t){for(var n=1;n<e.length;n++){var i=e[n];ge.indexOf(i.rktr_slot_id)<0&&(window.AdFuel.addSlotLevelTarget(i.rktr_slot_id,"elemId",i.rktr_slot_id),ge.push(i.rktr_slot_id))}window.AdFuel.addEvent(document,"SlotIdChange",function(e){e.detail.newId!=e.detail.originalId&&ge.indexOf(e.detail.newId)<0&&(window.AdFuel.addSlotLevelTarget(e.detail.newId,"elemId",e.detail.newId),ge.push(e.detail.newId))}),t()}function j(){U=window.AdFuel.registerModule("AdFuel Console Tool",{preQueueCallback:B,metricUpdateCallback:y}),U.addMetric({type:"creative review",id:"Form",data:{}}),window.AdFuel.addEvent(window,"message",k),P(),L(),D(),y({}),e(),window.addEventListener("hashchange",e,!1)}function P(){var e=function(){G=!0,u()},t=function(){G=!1,u()},n=function(){var n={prevent_default:!1,prevent_repeat:!1,is_sequence:!1,is_exclusive:!0,is_solitary:!0},i={keys:"ctrl shift z",on_keydown:e};new window.keypress.Listener(window,n).register_combo(i),n={prevent_default:!1,prevent_repeat:!1,is_sequence:!0,is_exclusive:!0,is_solitary:!0},i={keys:"^ d o h $",on_keydown:t},new window.keypress.Listener(window,n).register_combo(i)};if(window.keypress)n();else{var i=document,a=i.createElement("script"),o=i.getElementsByTagName("script")[0],r=/^(complete|loaded)$/,s=!1,l="https:"===document.location.protocol;a.type="text/javascript",a.async=!0,a.src=(l?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/keypress.js",a.onload=a.onreadystatechange=function(){s||"readyState"in a&&r.test(a.readyState)||(a.onload=a.onreadystatechange=null,s=!0,n())},o.parentNode.insertBefore(a,o)}}function L(){var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0],i="https:"===document.location.protocol;t.type="text/javascript",t.async=!0,t.src=(i?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/dhtmlxgrid.js",n.parentNode.insertBefore(t,n)}var q,z=function(){return!1},U={metrics:{},addMetric:z,getMetricById:z,getMetricsByType:z,getMetricTypes:z},W="Console Tool/Creative Review",H=!1,Q=null,V=null,$=null,K=[],J=!0,G=!1,Y=window.File&&window.FileReader&&window.FileList&&window.Blob,Z=[],X=[],ee=Object.prototype,te=ee.toString,ne=z,ie=z,ae=z;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===te.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(ne=function(){var e=["[AdFuelModule - "+W+"]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},function(){var e=["[AdFuelModule - "+W+"]"];e.push.apply(e,arguments),window.console.warn.apply(window.console,e)},function(){var e=["[AdFuelModule - "+W+" ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)},ie=function(){var e=["[AdFuelModule - "+W+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)},ae=function(){var e=["[AdFuelModule - "+W+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.timeEnd(t)});var oe=!1,re=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,se=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,le=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,de=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),ce=function(e,t){return e.test(t)},ue=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:ce(/iPhone/i,t),ipod:ce(/iPod/i,t),tablet:!ce(/iPhone/i,t)&&ce(/iPad/i,t),device:ce(/iPhone/i,t)||ce(/iPod/i,t)||ce(/iPad/i,t)},this.amazon={phone:ce(se,t),tablet:!ce(se,t)&&ce(le,t),device:ce(se,t)||ce(le,t)},this.android={phone:ce(se,t)||ce(re,t),tablet:!ce(se,t)&&!ce(re,t)&&(ce(le,t)||ce(/Android/i,t)),device:ce(se,t)||ce(le,t)||ce(re,t)||ce(/Android/i,t)},this.windows={phone:ce(/Windows Phone/i,t),tablet:ce(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t),device:ce(/Windows Phone/i,t)||ce(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t)},this.other={blackberry:ce(/BlackBerry/i,t),blackberry10:ce(/BB10/i,t),opera:ce(/Opera Mini/i,t),firefox:ce(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t),chrome:ce(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t),device:ce(/BlackBerry/i,t)||ce(/BB10/i,t)||ce(/Opera Mini/i,t)||ce(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t)||ce(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t)},this.seven_inch=ce(de,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},pe=function(){var e=new ue;return e.Class=ue,e},fe=null,he=1,me=U.getMetricTypes()||{},ge=[];!function(){c(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(j):window.AdFuel?j():document.addEventListener?document.addEventListener("AdFuelCreated",j,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",j)}()}(),!0===CNN.Features.enableCriteoAds&&function(){function e(){if(!d){v("Including Criteo Library..."),d=!0;var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src="//static.criteo.net/js/ld/publishertag.js",n.parentNode.insertBefore(t,n)}}function t(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function n(e,n){function i(){v("Setting LineItem Ranges..."),window.Criteo.SetLineItemRanges("0.3..5:0.01;5..30:0.05;30..100:1.00"),v("Requesting Bids..."),r.addMetric({type:"vendor",id:"Criteo",data:x}),window.Criteo.RequestBids(C,n,1200)}for(var a=0;a<e.length;a++){var o=e[a];if("page"!==o.rktr_slot_id){for(var s=[],l=t(),d=!1,c=!0,u=0;u<o.responsive.length;u++){var p=o.responsive[u];!d&&p[0][0]<l[0]&&p[0][1]<l[1]&&(d=!0,s=p[1],"suppress"!=p[1][0]&&"suppress"!=s||(c=!1))}c&&s.length>0?(v("Setting Sizes To Responsive Sizes: ",s),o.sizes=s):c||(o.sizes=[]);var f=o.sizes,h=o.rktr_slot_id,m=o.rktr_ad_id;x[h]=[],A[h]=0,v("Slot Sizes: ",f);for(var S in E)if(E.hasOwnProperty(S)&&m.startsWith(S)){for(var T=0;T<f.length;T++){var N=f[T],k=N[0]||null,I=N[1]||null,F=null!==k?k*I:0,O=null!==k?k+"x"+I:N.join("x");v({width:k,height:I,area:F,size_name:O});var R=E[S][O]||null;if(["300x250","320x50"].indexOf(O)>=0&&g.any&&(v("Using Mobile zoneId for size: ",O),R=E.MOBILE[S][O]||null),R){A[h]=F>A[h]?F:A[h];var M={slotid:h,zoneid:R,width:k,height:I,area:F};x[h].includes(M)?v("Skipping... Already exists...",M):(v("Pushing data...",M),x[h].push(M))}}break}}}var D=0;for(var h in x){var B=x[h];for(var j in B){var P=B[j];if(D>=y)break;if(b!=_||P.area==A[P.slotid]){for(var L={slotid:h,zoneid:P.zoneid},q=!1,z=0;z<C.placements.length;z++)C.placements[z].slotid===L.slotid&&C.placements[z].zoneid===L.zoneid&&(q=!0);if(q||C.placements.push(L),D++,b==w)break}}}v("Criteo Ad Units: ",C),window.Criteo.events.push(i)}function i(e,t){v("Setting DFP KeyValue Targeting..."),window.Criteo.SetDFPKeyValueTargeting(),t()}function a(e,t){function n(){v("Setting LineItem Ranges..."),window.Criteo.SetLineItemRanges("0..3:0.01;3..8:0.05;8..20:0.50;20..30:1.00"),v("Requesting Bids..."),r.addMetric({type:"vendor",id:"Criteo",data:x}),window.Criteo.RequestBids(C,a,1200)}var a=i.bind(null,e,t);window.Criteo.events.push(n)}function o(){v("Registering Module..."),r=window.AdFuel.registerModule("criteo",{postQueueCallback:n,preDispatchCallback:i,preRefreshCallback:a})||{addMetric:function(){}}}window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[];var r,s=Object.prototype,l=s.toString,d=!1,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,u=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,p=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,f=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),h=function(e,t){return e.test(t)},m=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:h(/iPhone/i,t),ipod:h(/iPod/i,t),tablet:!h(/iPhone/i,t)&&h(/iPad/i,t),device:h(/iPhone/i,t)||h(/iPod/i,t)||h(/iPad/i,t)},this.amazon={phone:h(u,t),tablet:!h(u,t)&&h(p,t),device:h(u,t)||h(p,t)},this.android={phone:h(u,t)||h(c,t),tablet:!h(u,t)&&!h(c,t)&&(h(p,t)||h(/Android/i,t)),device:h(u,t)||h(p,t)||h(c,t)||h(/Android/i,t)},this.windows={phone:h(/Windows Phone/i,t),tablet:h(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t),device:h(/Windows Phone/i,t)||h(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t)},this.other={blackberry:h(/BlackBerry/i,t),blackberry10:h(/BB10/i,t),opera:h(/Opera Mini/i,t),firefox:h(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t),chrome:h(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t),device:h(/BlackBerry/i,t)||h(/BB10/i,t)||h(/Opera Mini/i,t)||h(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t)||h(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t)},this.seven_inch=h(f,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},g=function(){var e=new m;return e.Class=m,e}(),v=function(){},y=8,w="F",_="L",b=_;(b=b.toUpperCase())!=w&&b!=_&&"A"!=b&&(b=_);var C={placements:[]},x={},A={},E={CNN:{"160x600":1047134,"300x250":1047135,"300x600":1047136,"728x90":1047137,"970x90":1047140,"970x250":1047139,"320x50":1047138},NBA:{"320x50":1083217,"728x90":1083216,"970x90":1083218,"300x250":1083215},NCAA:{"160x600":1083227,"320x50":1083230,"300x250":1083228,"728x90":1083229,"970x90":1083231},PGA:{"728x90":1083239,"300x250":1083237,"970x90":1083242,"300x600":1083238,"970x250":1083241,"320x50":1083240},ELEAGUE:{"320x50":1083245,"300x250":1083243,"728x90":1083244},CNNMoney:{"728x90":1083234,"970x90":1083236,"970x250":1083235,"300x250":1083232,"300x600":1083233},AS:{"320x50":1083225,"728x90":1083224,"300x250":1083223,"970x90":1083226},"TBS/shows/conan":{"300x250":1083219,"728x90":1083220,"970x90":1083222,"970x250":1083221},MOBILE:{CNN:{"300x250":1090825,"320x50":1090883},NBA:{"300x250":1090830,"320x50":1090884},NCAA:{"300x250":1090831,"320x50":1090885},PGA:{"300x250":1090832,"320x50":1090886},ELEAGUE:{"300x250":1090833,"320x50":1090887},CNNMoney:{"300x250":1090834,"320x50":1090834},AS:{"300x250":1090835,"320x50":1090888},"TBS/shows/conan":{"300x250":1090836}}};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===l.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(v=function(){var e=["[AdFuelModule - Criteo v1.2.5]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),function(){v("Initializing Module..."),e(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(o):window.AdFuel?o():document.addEventListener?document.addEventListener("AdFuelCreated",o,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",o)}()}(),!0===CNN.Features.enableRubiconFastlane&&function(){function e(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function t(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null}return null}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function n(){m("Adding Fastlane library to head of page.");var e=11078;m("Defaulting to Domesting Account ID."),m("Country Code: ",v),_.search(/^(edition|arabic)\./)>=0?(m("Full international site.  Using International Account ID."),e=11016):_.search(/^money\.cnn/)>=0&&"/"===b&&"edition"===y?(m("International CNN Money Homepage. Using International Account Id."),e=11016):""==v||null==v?_.search(/^(edition|arabic|cnnespanol|cnne\-test)\./)>=0&&(m("No country code.  Using International Account ID."),e=11016):"US"!==v&&"CA"!==v&&_.search(/^(money|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(m("International country code.  Using International Account ID."),e=11016),m("Final Account ID: "+e);var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https:":"http:")+"//ads.rubiconproject.com/header/"+e+".js",document.getElementsByTagName("script")[0].parentNode.appendChild(t)}function i(e){clearTimeout(e),h.length=0}function a(t,n){if(g)m("Not building slots. Fastlane disabled."),n();else{m("Building slots for Fastlane",JSON.stringify(t));var a="",o=setTimeout(function(){m("PreQueue Timeout Occurred."),window.AdFuel.addPageLevelTarget("fln_pqto","1")},1e3);window.rubicontag.cmd.push(function(){for(var r=[],s=1;s<t.length;s++){m("Checking Slot: ",t[s].rktr_slot_id);var l,d=t[s];(""==a||d.rktr_slot_id.indexOf("bnr_atf_01")>0)&&(m("Setting KW Ad Unit: ",d.rktr_ad_id),a=d.rktr_ad_id);var c={_atf_:"atf",_btf_:"btf",_mod_:"atf"},u=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],p=["_ns_","_nfs_"],f=["super-ad-zone","super_ad_zone"],h=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"];for(var g in c)if(c.hasOwnProperty(g)&&d.rktr_slot_id&&d.rktr_slot_id.indexOf(g)>=0){var v=!0,y=!1;for(var w in p)d.rktr_slot_id.indexOf(p[w])>=0&&(m("Filtering out invalid slot type: ",p[w],d),v=!1);for(var _ in f)d.rktr_ad_id.indexOf(f[_])>=0&&(m("Filtering out invalid ad unit segment: ",f[_],d),v=!1);for(var b in h)d.rktr_ad_id==h[b]&&(m("Filtering out invalid ad unit: ",h[b],d),v=!1);for(var C=[],x=0;x<d.responsive.length;x++){var A=e(),E=d.responsive[x];!y&&E[0][0]<A[0]&&E[0][1]<A[1]&&(y=!0,C=E[1],"suppress"!=E[1][0]&&"suppress"!=C||(v=!1))}if(v&&C.length>0&&(m("Setting Sizes To Responsive Sizes: ",C),d.sizes=C),v)for(var S=0;S<d.sizes.length;S++){var T=d.sizes[S];"suppress"!==T&&(T=T.join("x")),u.indexOf(T)<0&&(m("Filtering out invalid size: ",T,d),d.sizes.splice(S,1))}if(0==d.sizes.length&&(v=!1,m("Filtering out slot with no valid sizes.",d.rktr_slot_id,d.rktr_ad_id)),v){m("Slot is a valid item for Rubicon Fastlane.");var N=c[g],k=!!document.getElementById(d.rktr_slot_id)&&document.getElementById(d.rktr_slot_id).className.indexOf("adfuel-rendered")>=0;if(m("Checking for cached Fastlane response for: ",d.rktr_slot_id),void 0!==window.rubiconSlotDictionary[d.rktr_slot_id]||k)void 0===window.rubiconSlotDictionary[d.rktr_slot_id]&&k?m("Element has already been rendered with an ad.  Skipping Fastlane auction for: ",d.rktr_slot_id):m("Using cached Fastlane response for: ",d.rktr_slot_id);else{m("Cached response not found. Defining Slot: ","/8664377/"+d.rktr_ad_id,d.sizes,d.rktr_slot_id),l=window.rubicontag.defineSlot("/8664377/"+d.rktr_ad_id,d.sizes,d.rktr_slot_id),m("Setting Position: ",N),l.setPosition(N);for(var I=d.targeting,F=0;F<I.length;F++){var O=I[F];"pos"==O[0]&&(Array.isArray(O[1])?(m("Setting POS Keyword For "+d.rktr_slot_id,O[1][0]),l.setFPI("pos",O[1][0])):(m("Setting POS Keyword For "+d.rktr_slot_id,O[1]),l.setFPI("pos",O[1])))}m("Setting Keyword For "+d.rktr_slot_id,d.rktr_ad_id),l.addKW(d.rktr_ad_id),r.push(l),window.rubiconSlotDictionary[d.rktr_slot_id]=l}}}}for(var R=a.split("/"),M=["site","section","subsection"],D=0;D<R.length&&D<3;D++)m("Setting FPI",M[D],R[D]),window.rubicontag.setFPI(M[D],R[D]);window.CNN&&window.CNN.getCapTopics&&window.rubicontag.setFPI("cap_topics",Object.getOwnPropertyNames(window.CNN.getCapTopics())),window.rubicontag.setFPI("ssl","https:"===document.location.protocol?1:0),window.rubicontag.run(function(){i(o),n()},{slots:r})})}}function o(e){m("setting fastlane targeting"),window.googletag.cmd.push(function(){var t=window.AdFuel.pageSlots;m({slots:e,gptSlots:t});for(var n={},i=0;i<e.length;i++){var a=e[i];if(m("Slot ID: ",a.rktr_slot_id),t[a.rktr_slot_id]){var o=t[a.rktr_slot_id];m("calling window.rubicontag.setTargetingForGPTSlot..."),window.rubicontag.setTargetingForGPTSlot(o),window.refreshableRubiconSlots[a.rktr_slot_id]=window.rubiconSlotDictionary[a.rktr_slot_id],delete window.rubiconSlotDictionary[a.rktr_slot_id];for(var r=o.getTargetingKeys(),s={},l=!1,d=0;d<r.length;d++)r[d].indexOf("rpfl_")>=0&&(l||(m("removing fln_to=1 and setting fln_to=0 for "+o.getSlotElementId()),window.AdFuel.removeSlotLevelTarget(o.getSlotElementId(),"fln_to"),window.AdFuel.addSlotLevelTarget(o.getSlotElementId(),"fln_to","0"),l=!0),m("Set Fastlane Targeting...",{slot:o.getSlotElementId(),target:{key:r[d],value:o.getTargeting(r[d])}}),s[r[d]]=o.getTargeting(r[d]));n[a.rktr_slot_id]=s}}f.addMetric({type:"modules",id:"Fastlane",data:{targeting:n}})})}function r(e){m("Fastlane Creative Rendered: ",e),_metricApi.addMetric({type:"modules",id:"Fastlane",data:e})}function s(e,t){window.rubicontag.cmd.push(function(){if(window.rubicontag.addEventListener("HL_CREATIVE_RENDERED",r),!g){var n=setTimeout(function(){t()},1e3);m("preDispatch"),o(e),clearTimeout(n)}}),t()}function l(e,t){if(g)t();else{m("preRefresh");var n=[],i=[],a=window.AdFuel.pageSlots;e||(e=Object.getOwnPropertyNames(a));for(var r=0;r<e.length;r++){var s=e[r];if(m("Slot ID: ",s),a[s]){var l=a[s],d=l.getTargetingKeys();for(var c in d)if(d.hasOwnProperty(c)){var u=d[c];u.indexOf("rpfl")>=0&&window.AdFuel.removeSlotLevelTarget(s,u)}f.addMetric({type:"modules",id:"Fastlane",data:{targeting:{}}}),window.rubiconSlotDictionary[s]&&n.push(window.rubiconSlotDictionary[s]),i.push({rktr_slot_id:s})}}m("refreshing slots",{slotsToRefresh:n}),window.rubicontag.run(function(){o(i),t()},{slots:n})}}function d(){g?m("Fastlane disabled. Not registering module."):(window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1200,dispatchCallbackTimeoutInMilliseconds:1200,refreshCallbackTimeoutInMilliseconds:1200}),f=window.AdFuel.registerModule("Fastlane",{preQueueCallback:a,preDispatchCallback:s,preRefreshCallback:l}))}window.rubicontag=window.rubicontag||{},window.rubicontag.cmd=window.rubicontag.cmd||[];var c=Object.prototype,u=c.toString,p=function(){return!1},f={metrics:{},addMetric:p,getMetricById:p,getMetricsByType:p,getMetricTypes:p},h=[],m=function(){},g=!1,v=(t("CG")?t("CG").substr(0,2):"")||t("countryCode"),y=t("SelectedEdition")?t("SelectedEdition"):"www",w=document.createElement("a");w.href=document.location.href;var _=w.hostname,b=w.pathname;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===u.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(m=function(){var e=["[AdFuelModule - Rubicon Fastlane v2.7.4]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.rubiconSlotDictionary={},window.refreshableRubiconSlots={},function(){n(),window.AdFuel?d():document.addEventListener?document.addEventListener("AdFuelCreated",d,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",d)}()}(),function(){var e=function(){return!1},t={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.cnnad_haveCookie=function(e){return document.cookie&&(document.cookie.indexOf("; "+e+"=")>=0||0==document.cookie.indexOf(e+"="))},window.cnnad_readCookie=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(n))return a.substring(n.length,a.length)}return null}},window.turner_getGuid=function(){return window.cnnad_readCookie("ug")},function(){function e(){function e(){var e=window.turner_getGuid();t=window.AdFuel.registerModule("GUID",{}),a("setting guid targeting",{guid:e}),t.addMetric({type:"modules",id:"GUID",data:{targeting:{guid:e}}}),window.AdFuel.addPageLevelTarget("guid",e)}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var n=Object.prototype,i=n.toString,a=function(){};if(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e}(window.console)&&function(e){return"[object Function]"===i.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(a=function(){var e=["[AdFuelModule - Guid]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.cnnad_haveCookie("ugs"))e();else{var o=document,r=o.createElement("script"),s=o.getElementsByTagName("script")[0],l=/^(complete|loaded)$/,d=!1;r.type="text/javascript",r.async=!0,r.src="//www.ugdturner.com/xd.sjs",r.onload=r.onreadystatechange=function(){d||"readyState"in r&&l.test(r.readyState)||(r.onload=r.onreadystatechange=null,d=!0,e())},s.parentNode.insertBefore(r,s)}}()}(),!0===CNN.Features.enableInViewRefresh&&function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)}function t(){f||(e(window,"scroll",C),e(window,"blur",function(){h=!1,C()}),e(window,"resize",C),e(window,"focus",function(){h=!0,C()}),e(document,"GPTRenderComplete",o),e(document,"visibilitychange",n),f=!0,b("Listeners Started!"))}function n(e){h=!document.hidden}function i(e,t,n,i,a,o,r,s,l){var d=Math.max(n,r),c=Math.min(i,s),u=Math.max(e,a),p=Math.min(t,o),f=0,h=d>=n&&d<=i,m=c>=n&&c<=i,g=u>=e&&u<=t,v=p>=e&&p<=t;h&&m&&g&&v&&(f=(c-d)*(p-u));var y=(o-a)*(s-r),w=0;return y>0&&(w=f/y),w}function a(e){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,o=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;t=parseInt(t),n=parseInt(n),a=parseInt(a),o=parseInt(o);var r=parseInt(e.clientWidth),s=parseInt(e.clientHeight),l=e.getBoundingClientRect(),d=l.left+document.body.scrollLeft,c=l.top+document.body.scrollTop;return i(a,a+t,o,o+n,d,d+r,c,c+s,e)}function o(t){var n=t.detail.divId,i=document.getElementById(n);if(t.detail.empty)try{delete p[n]}catch(e){}else if(b("Slot Rendered: "+n),p[n]&&!p[n].listenersSet){b("Slot is registered with InView Refresh"),p[n].inView=!1,p[n].el=i,p[n].mouseover=e(i,"mouseover",r),p[n].mouseout=e(i,"mouseout",s),p[n].refreshCount=0,p[n].listenersSet=!0;parseInt(p[n].inViewRefreshCount);C()}}function r(){var e=this.id;b("Moused over: ",e);var t=_.getMetricById("viewability",e),n=parseInt(t.moused_over)+1;_.addMetric({type:"viewability",id:e,data:{moused_over:""+n}}),p[e].timer&&(window.clearInterval(p[e].timer),p[e].inView=!1,p[e].timer=null)}function s(){var e=this.id;b("Moused out from "+e+". Restarting listener"),C(p[e])}function l(e){b("Refreshable In-View Slots: ",p),e?b("Detecting if ",e," is in view."):b("Detecting In View Slots.");var t=function(e){var t=p[e];_.getMetricById("viewability",e);t.timer=window.setInterval(function(){var n=t.el,i=(document.hidden,!1);n&&(i=n&&h&&a(n)>=g&&parseInt(t.inViewRefreshCount)>0),i?(b("Slot ["+t.el.id+"] is in view, is being refreshed, and has "+t.inViewRefreshCount+" refreshes remaining."),t.inViewRefreshCounter=p[e].inViewRefreshCounter||0,t.inViewRefreshCount--,t.inViewRefreshCounter++,window.AdFuel.removeSlotLevelTarget(e,"rfv"),window.AdFuel.addSlotLevelTarget(e,"rfv",p[e].inViewRefreshCounter),_.addMetric({type:"viewability",id:e,data:{refresh_count:t.inViewRefreshCounter,last_refresh:Date.now()}}),window.AdFuel.refresh([e]),b("Slot ["+t.el.id+"] is in view, was just refreshed, and still has "+t.inViewRefreshCount+" refreshes remaining.")):(b("Clearing interval for slot: "+t.el.id),window.clearInterval(t.timer),this.inView=!1,this.timer=null)},m)};p.length<1&&b("No registered slots have been rendered yet.");for(var n in p)if(b("Testing: ",n),!e||!e.rktr_slot_id||p.hasOwnProperty(n)&&p[n]==e){var i=p[n],o=i.el,r=!1;o&&(r=o&&h&&a(o)>=g&&parseInt(p[n].inViewRefreshCount)>0),b("Test Result: ",r),r!=i.inView&&(i.inView=r,r?(_.addMetric({type:"viewability",id:n,data:{is_in_view:!0}}),_.addMetric({type:"viewability",id:n,data:{was_in_view:!0}}),b("Test is true. Start timer for slot:",n),t(n)):(_.addMetric({type:"viewability",id:n,data:{is_in_view:!1}}),b("Test is false. Clear timer for slot:",n),window.clearInterval(i.timer),i.timer=null,i.inView=!1))}else{var i=p[n],o=i.el,r=!1;o&&(r=o&&h&&a(o)>=g&&parseInt(p[n].inViewRefreshCount)>0),r!=i.inView&&(i.inView=r,r?(b("Test is true. Refresh slot:",n),t(n)):(b("Test is false. Clear timer for slot:",n),window.clearInterval(i.timer),i.timer=null,i.inView=!1))}}function d(e,n){for(var i=!1,a=[],o=1;o<e.length;o++){var r=e[o];r.hasInViewRefresh=e[0].hasInViewRefresh?e[0].hasInViewRefresh:r.hasInViewRefresh||"false","true"==r.hasInViewRefresh&&(r.inViewRefreshCounter=0,i=!0,a.push(r.rktr_slot_id),_.addMetric({type:"viewability",id:r.rktr_slot_id,data:{is_in_view:!1,was_in_view:!1,moused_over:"0",refresh_count:"0",max_refresh:JSON.parse(JSON.stringify(r.inViewRefreshCount))}}))}return _.addMetric({type:"modules",id:"In View Refresh",data:{registeredSlots:a}}),i&&t(),n&&n(),null}function c(e,t){
for(var n=0;n<e.length;n++){var i=e[n];"true"==i.hasInViewRefresh?(b("Slot is configured for in view refresh.  Creating _refreshableInViewSlots["+i.rktr_slot_id+"]..."),p[i.rktr_slot_id]=i):b("Slot is not configured for in view refresh. ["+i.rktr_slot_id+"]")}if(p.length>0){_.addMetric({type:"viewability",id:"General",data:{viewability:"active",render_listener:"Active",window_listener:"Active",mutation_observer:"Inactive",registeredSlots:Object.getOwnPropertyNames(p).length,criteria:100*o+"% in view for "+a/1e3+" seconds"}});var a=35e3,o=.5}_.addMetric({type:"modules",id:"In View Refresh",data:{registeredSlots:Object.getOwnPropertyNames(p)}}),t()}function u(){_=window.AdFuel.registerModule("In View Refresh",{preQueueCallback:d,preDispatchCallback:c})}var p={},f=!1,h=!0,m=35e3,g=.5,v=Object.prototype,y=v.toString,w=function(){return!1},_={metrics:{},addMetric:w,getMetricById:w,getMetricsByType:w,getMetricTypes:w};_debounce=function(e,t,n){var i;return function(){var a=this,o=arguments,r=function(){i=null,n||e.apply(a,o)},s=n&&!i;clearTimeout(i),i=setTimeout(r,t),s&&e.apply(a,o)}};var b=function(){};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===y.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(b=function(){var e=["[AdFuelModule - In View Refresh]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var C=_debounce(l,300,!1);(function(){window.AdFuel?u():e(window,"AdFuelCreated",u),setInterval(function(){window.AdFuel.updateCorrelator&&window.AdFuel.updateCorrelator()},3e4)})()}(),!0===CNN.Features.enableIndexExchange&&function(){function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function t(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null}return null}function n(){for(var e="",t=0;t<10;t++)e+=Math.floor(9*Math.random()).toString();return e}function i(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function a(e,t){N("Bid Timed Out: ",e),t()}function o(e,t){if(e){var n=1;if("object"==typeof e){n=Object.getOwnPropertyNames(e).length}if(1==n&&void 0!==e.id)N("Invalid Bid Request Parameter or No Bids Available.");else if(e.seatbid&&e.seatbid.length>0)for(var i=0;i<e.seatbid.length;i++)for(var a=e.seatbid[i].bid,o=0;o<a.length;o++){var r=a[o].impid||"",s=r.split("_");5==s.length&&s.shift();var l=s.shift(),d=s.join("_"),c=R[d];D[c]=D[c]||[];var u=a[o].price||0,p=a[o].ext.pricelevel||"_10",f=a[o].adm||"",h=l+"_"+d+p;D[c].push({size:l,slot:c,price:u,tier:p,markup:f,keyValue:h}),T("Slot ["+c+"] and size ["+l+"] has a bid for "+u+" and a pricelevel of "+p+"."),M[c]=M[c]||[],T("Pushing keyValue for slot: ",h,c),M[c].push(h)}}W.stashedCallback=function(){},t&&t(),!1!==P&&I("IndexExchange Initial Load")}function r(e,t){j=t,o(e,p)}function s(e){if(e.data&&"function"==typeof e.data.indexOf&&e.data.indexOf("0=goog_")<0&&e.origin.indexOf("publisherconsole.appspot.com")<0){var t=e.data;try{t=JSON.parse(e.data),"ix_render"==t.action?(T("IX Message Received: ",{event:e,data:t}),l(e.source,t.pattern,t.index,t.element)):e.origin}catch(e){}}}function l(e,t,n,i){if(D[i]&&D[i].length>0)for(var a=0;a<D[i].length;a++){D[i][a];n.indexOf(D[i][a].size)>=0&&(T("Rendering IX Ad for : "+D[i][a].slot+" - "+D[i][a].size),e.postMessage({referrer:"AdFuel",markup:D[i][a].markup},"*"))}}function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function c(e){T("Validating Slot: ",e);var t=!0,n=!1,a=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],o=["_ns_","_nfs_"],r=["super-ad-zone","super_ad_zone"],s=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"];for(var l in o)e.rktr_slot_id.indexOf(o[l])>=0&&(T("Slot is invalid due to a non-monetized mapping: ",o[l],e),t=!1);for(var d in r)e.rktr_ad_id.indexOf(r[d])>=0&&(T("Slot is invalid due to a non-monetized ad unit segment: ",r[d],e),t=!1);for(var c in s)e.rktr_ad_id==r[d]&&(T("Slot is invalid due to a non-monetized ad unit: ",s[c],e),t=!1);for(var u=[],p=0;p<e.responsive.length;p++){var f=i(),h=e.responsive[p];!n&&h[0][0]<f[0]&&h[0][1]<f[1]&&(n=!0,u=h[1],"suppress"!=h[1][0]&&"suppress"!=u||(T("Slot is invalid due to responsive suppression.",e),t=!1))}if(t&&u.length>0&&(T("Setting Sizes To Responsive Sizes: ",u),e.sizes=u),t)for(var m=0;m<e.sizes.length;m++){var g=e.sizes[m];"suppress"!==g&&(g=g.join("x")),a.indexOf(g)<0&&(T("Filtering out non-monetized size: ",g,e),e.sizes.splice(m,1),m-=1)}return 0==e.sizes.length&&(T("Slot is invalid due to no monetized sizes.",e),t=!1),{slot:e,valid:t}}function u(t,r){k("IndexExchange Initial Load");var s=n(),l={id:s,site:{page:document.location.href.replace("localhost","arabic.cnn.com"),ref:document.location.origin.replace("localhost","arabic.cnn.com")},imp:[]},u=t.registry?t.registry:t,p=(t.id?t.id:t[0].rktr_id,t.options?t.options:{}),f=[];if(f.push(u[0]),p.slotMap)for(var h in p.slotMap)p.slotMap.hasOwnProperty(h)&&(u=u.filter(function(e){return e.rktr_slot_id==h&&(e.rktr_slot_id=p.slotMap[h],f.push(e)),!0}));f.length>1&&(u=f);for(var h=1;h<u.length;h++){var m=c(u[h]);if(1==m.valid){for(var g,v=m.slot,y=v.targeting,w=0;w<y.length;w++)y[w].indexOf("pos")>=0&&(g=y[w][1]);O[v.rktr_slot_id]=g,R[g]=v.rktr_slot_id;var b=i(),C=v.rktr_ad_id.indexOf("/homepage")>=0&&b[0]>=728,x=b[0]<728,A=!1;(x||_.any)&&(A=!0);for(var E={"edition.cnn.com":{hp_728x90_bnr_atf_01:190561,hp_970x250_bnr_atf_01:191334,hp_300x250_rect_atf_01:191335,hp_300x250_rect_btf_01:196190,hp_300x250_rect_btf_03:196191,"728x90_bnr_atf_01":194945,"970x250_bnr_atf_01":194946,hp_728x90_bnr_btf_04:196192,hp_970x250_bnr_btf_04:196193,"300x250_rect_atf_01":191336,"300x600_rect_atf_01":191337,"300x250_rect_atf_02":191338,"300x600_rect_atf_02":196207,"300x250_rect_btf_01":191333,"300x600_rect_btf_01":191339,"970x250_rect_btf_01":191345,"300x250_rect_btf_02":191340,"970x250_rect_btf_02":191348,"300x600_rect_btf_02":196202,"728x90_bnr_btf_01":191347,"728x90_bnr_btf_02":196194,"300x250_rect_btf_03":191341,"300x600_rect_btf_03":191342,"728x90_bnr_btf_03":191343,"728x90_bnr_btf_04":196203,"300x250_rect_btf_04":191344,"300x600_rect_btf_04":196204,mob_320x50_bnr_atf_01:196205,mob_300x250_bnr_atf_01:196197,mob_300x250_rect_atf_01:191349,mob_300x250_rect_btf_01:191350,mob_300x250_rect_btf_02:191351,mob_300x250_rect_btf_03:191352,mob_300x250_rect_btf_04:191353},"cnnespanol.cnn.com":{"728x90_bnr_atf_01":191389,"970x250_bnr_atf_01":191390,"728x90_bnr_btf_01":191391,"970x250_bnr_btf_01":191392,"300x250_rect_atf_01":191393,hp_300x250_rect_btf_01:191394,hp_300x250_rect_atf_01:191395,"300x600_rect_atf_01":191396,"300x250_rect_btf_01":191397,"300x600_rect_btf_01":191398,mob_300x250_rect_atf_01:191399,mob_300x250_bnr_atf_01:203451,mob_320x250_bnr_atf_01:203452,mob_300x250_bnr_btf_01:203453,mob_300x250_rect_btf_01:191400},"arabic.cnn.com":{"728x90_bnr_btf_01":191401,"970x250_bnr_btf_01":191402,"728x90_bnr_atf_01":191403,"970x250_bnr_atf_01":191404,hp_300x250_rect_atf_01:191405,hp_300x250_rect_btf_01:191406,"300x250_rect_btf_02":191407,"300x250_rect_atf_01":191408,"300x600_rect_atf_01":191409,"300x250_rect_btf_01":191410,"300x600_rect_btf_01":191411,"300x600_rect_btf_03":203454,mob_300x250_rect_atf_01:191412,mob_300x250_rect_atf_02:191413,mob_300x250_rect_btf_02:191414,mob_300x250_rect_btf_03:191415,mob_300x250_rect_btf_02:191416,mob_300x250_rect_btf_04:191417,mob_300x250_rect_btf_05:191418}},S=0;S<v.sizes.length;S++){var N=v.sizes[S],I=N.join("x")+"_"+g[0],M=I;C&&(M="hp_"+I),A&&(M="mob_"+I),"cnne-test.cnn.com"==z&&(z="cnnespanol.cnn.com");var D=E[z]?E[z][M]:0;if(0!=D&&D||!C||(D=E[z]?E[z][I]:0),D&&0!==D){"111111"==q&&(q=D);var j={id:I,banner:{w:N[0],h:N[1],topframe:0},ext:{siteID:D,sid:M}};l.imp.push(j),L[v.rktr_slot_id]=j}else T("No siteId found: ",{pos:g[0],size:N.join("x"),impId:I,modImpId:M,map:E[z]})}}else T("Invalid Slot: ",m)}var P=n(),U=e("ix_debug")?"http://sandbox.ht.indexexchange.com/cygnus?v=7&cb=":"https:"===window.location.protocol?"https://as-sec.casalemedia.com/cygnus?v=7&cb=":"http://as.casalemedia.com/cygnus?v=7&cb=";U=U+P+"&s="+q+"&pid="+F+"&fn=ixCallback_"+P+"&r="+d(JSON.stringify(l)),B.push(l),W.stashedCallback=r,W.send(U,{callbackName:"ixCallback_"+P,onSuccess:o,onTimeout:a,timeout:1})}function p(e,t){e||(e=Object.getOwnPropertyNames(M).map(function(e){return{rktr_slot_id:e}})),e.slots&&(e=e.slots);for(var n=0;n<e.length;n++){var i=M[e[n].rktr_slot_id];i&&i.length>0&&(window.AdFuel.addSlotLevelTarget(e[n].rktr_slot_id,"elemId",e[n].rktr_slot_id),window.AdFuel.addSlotLevelTarget(e[n].rktr_slot_id,"iom",i))}t?t():"function"==typeof j&&(j(),I("IndexExchange Refresh"))}function f(t,i){P=!1,k("IndexExchange Refresh");for(var o=n(),s=window.googletag.pubads().getSlots(),l=0;l<s.length;l++){var c=s[l];c.clearTargeting("iom"),M[c.getSlotElementId()]&&(M[c.getSlotElementId()]=[])}for(var u={id:o,site:{page:document.location.href,ref:e("domain")?e("domain"):document.location.origin},imp:[]},l=0;l<t.length;l++)L[t[l]]&&u.imp.push(L[t[l]]);var p=n(),f=e("ix_debug")?"http://sandbox.ht.indexexchange.com/cygnus?v=7&cb=":"https"===window.location.protocol?"https://as-sec.casalemedia.com/cygnus?v=7&cb=":"http://as.casalemedia.com/cygnus?v=7&cb=";f=f+p+"&s="+q+"&pid="+F+"&fn=ixCallback_"+p+"&r="+d(JSON.stringify(u)),W.stashedCallback=i,W.send(f,{callbackName:"ixCallback_"+p,onSuccess:r,onTimeout:a,timeout:2})}function h(){T("Registering "+y+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3,refreshCallbackTimeoutInMilliseconds:2e3}),window.AdFuel.ix_render=l,w=window.AdFuel.registerModule(y,{preQueueCallback:u,preDispatchCallback:p,preRefreshCallback:f})||w}var m=Object.prototype,g=m.toString,v=function(){},y="IndexExchange",w={metrics:{},addMetric:v,getMetricById:v,getMetricsByType:v,getMetricTypes:v},_=!1,b=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,C=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,x=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,A=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),E=function(e,t){return e.test(t)},S=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:E(/iPhone/i,t),ipod:E(/iPod/i,t),tablet:!E(/iPhone/i,t)&&E(/iPad/i,t),device:E(/iPhone/i,t)||E(/iPod/i,t)||E(/iPad/i,t)},this.amazon={phone:E(C,t),tablet:!E(C,t)&&E(x,t),device:E(C,t)||E(x,t)},this.android={phone:E(C,t)||E(b,t),tablet:!E(C,t)&&!E(b,t)&&(E(x,t)||E(/Android/i,t)),device:E(C,t)||E(x,t)||E(b,t)||E(/Android/i,t)},this.windows={phone:E(/Windows Phone/i,t),tablet:E(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t),device:E(/Windows Phone/i,t)||E(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t)},this.other={blackberry:E(/BlackBerry/i,t),blackberry10:E(/BB10/i,t),opera:E(/Opera Mini/i,t),firefox:E(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t),chrome:E(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t),device:E(/BlackBerry/i,t)||E(/BB10/i,t)||E(/Opera Mini/i,t)||E(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t)||E(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t)},this.seven_inch=E(A,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},_=function(){var e=new S;return e.Class=S,e}(),T=v,N=v,k=v,I=v;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===g.call(e)}(window.console.log)&&"true"==e("debug")&&(console.log("[AdFuelModule - "+y+"] Defining log functions."),T=function(){var e=["[AdFuelModule - "+y+"]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},N=function(){var e=["[AdFuelModule - "+y+" WARNING]"];e.push.apply(e,arguments),window.console.warn.apply(window.console,e)},function(){var e=["[AdFuelModule - "+y+" ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)},k=function(){var e=["[AdFuelModule - "+y+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)},I=function(){var e=["[AdFuelModule - "+y+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.timeEnd(t)});var F=(t("countryCode")||t("CG")&&t("CG").substr(0,2),184694),O={},R={},M={},D={},B=[],j=null,P=!0,L={},q="111111",z=e("domain")?e("domain"):document.location.hostname,U=["edition.cnn.com","arabic.cnn.com","cnnespanol.cnn.com","cnne-test.cnn.com"];window.addEventListener("message",s,!1);var W=function(){var e={};return e.stashedCallback=function(){},e.send=function(t,n){var i=n.callbackName||"callback",a=n.onSuccess||function(){},o=n.onTimeout||function(){},r=n.timeout||10,s=window.setTimeout(function(){window[i]=function(){},o(null,e.stashedCallback)},1e3*r);window[i]=function(t){window.clearTimeout(s),a(t,e.stashedCallback)};var l=document.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,document.getElementsByTagName("head")[0].appendChild(l)},e}();window.processResults=o,function(){U.indexOf(z)>=0?(T("Valid Hostname: ",z),T("Initializing "+y+" Module..."),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(h):window.AdFuel?h():document.addEventListener?document.addEventListener("AdFuelCreated",h,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",h)):(T("Invalid Hostname: ",z),T("Not initializing "+y+" Module."))}()}(),!0===CNN.Features.enableIntegralAdScience&&function(){function e(e){d("IAS Data Handler..."),d({adSlots:e}),window.__iasPET.setTargetingForGPT()}function t(t,n){d("Building slots for IAS..."),window.__iasPET.pubId="925660",d("Asset: ",t,"Slots: ",t.length-1);for(var i=[],a=1;a<t.length;a++)d("Checking Slot: ",t[a]),t[a].rktr_ad_id.search(/^cnni\/(video|homepage|(.+\/(landing|main|video)))/)<0?(d("Pushing Slot: ",{adSlotId:t[a].rktr_slot_id,size:t[a].sizes,adUnitPath:"/8663477/"+t[a].rktr_ad_id}),i.push({adSlotId:t[a].rktr_slot_id,size:t[a].sizes,adUnitPath:"/8663477/"+t[a].rktr_ad_id})):d("Invalid Slot: ",t[a].rktr_ad_id);d("Built Ad Slots: ",i),window.__iasPET.queue.push({adSlots:i,dataHandler:e}),setTimeout(function(){n()},900)}function n(e,t){setTimeout(function(){d("Adding IAS Targeting to slots...");try{window.__iasPET.setTargetingForGPT()}catch(e){c("Could not set IAS targeting: ",e)}t()},900)}function i(){u&&(d("Registering "+l+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3}),metricApi=window.AdFuel.registerModule(l,{preQueueCallback:t,preDispatchCallback:n})||metricApi)}function a(){if(-1!==document.location.hostname.search(/^edition.*\.cnn\.com$/)||"localhost"===document.location.hostname){d("Adding IAS script to head...");var e=document.createElement("script");e.async=!0,e.src="//cdn.adsafeprotected.com/iasPET.1.js";var t=document.getElementsByTagName("head")[0];t.insertBefore(e,t.firstChild),u=!0}}var o=Object.prototype,r=o.toString,s=function(){},l="Integral Ad Science",d=s,c=s;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===r.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(d=function(){var e=["[AdFuelModule - "+l+"]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},c=function(){var e=["[AdFuelModule - "+l+"]"];e.push.apply(e,arguments),window.console.warn.apply(window.console,e)},function(){var e=["[AdFuelModule - "+l+" ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)},function(){var e=["[AdFuelModule - "+l+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)});var e,u=!1;window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],d("Initializing "+l+" Module..."),function(){a(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(i):window.AdFuel?i():document.addEventListener?document.addEventListener("AdFuelCreated",i,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",i)}()}(),!0===CNN.Features.enableKrux&&function(){var e=function(){return!1},t={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),window.kvs=[],function(){function e(e){var t,n="kx"+e;return window.localStorage?window.localStorage[n]||"":navigator.cookieEnabled?(t=document.cookie.match(n+"=([^;]*)"))&&decodeURIComponent(t[1])||"":""}window.Krux.user=e("user"),window.Krux.segments=e("segs")&&e("segs").split(",")||[];for(var t=0;t<window.Krux.segments.length;t++)window.kvs.length<20&&window.kvs.push(window.Krux.segments[t])}(),window.krux_getDESegments=function(){var e="&kxid=";return window.Krux.user&&(e+=window.Krux.user),e+="&kxseg="+window.kvs.join(",")},window.krux_getFWSegments=function(){return"kxseg="+window.kvs.join(",kxseg=")},window.krux_getUser=function(){return window.Krux.user},window.krux_getFWKeyValues=function(e,t){for(var n=e||"_fwu:386123:",i=t||35,a={},o=0;o<window.Krux.segments.length;o++)o<i&&(a[n+window.Krux.segments[o]]=1);return a},window.Krux.setControlTag=function(e){function n(){function e(){var e=window.Krux.user,n=window.Krux.segments;o("setting krux targeting",{kuid:e,ksg:n}),t=window.AdFuel.registerModule("Krux",{}),window.AdFuel.addPageLevelTarget("kuid",e),window.AdFuel.addPageLevelTarget("ksg",n),t.addMetric({type:"modules",id:"Krux",data:{targeting:{kuid:e,ksg:n}}})}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var i=Object.prototype,a=i.toString,o=function(){};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===a.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(o=function(){var e=["[AdFuelModule - Krux]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var r=document,s=r.createElement("script"),l=r.getElementsByTagName("script")[0],d=/^(complete|loaded)$/,c=!1;s.type="text/javascript",s.async=!0;var u,p=(u=location.href.match(/\bkxsrc=([^&]+)/))&&decodeURIComponent(u[1]);s.src=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(p)?p:"disable"===p?"":("https:"===location.protocol?"https:":"http:")+"//cdn.krxd.net/controltag?confid="+e,s.onload=s.onreadystatechange=function(){c||"readyState"in s&&d.test(s.readyState)||(s.onload=s.onreadystatechange=null,c=!0,n())},l.parentNode.insertBefore(s,l)},window.Krux.setControlTag("ITb_4eqO")}(),!0===CNN.Features.enablePiiAdFilter&&function(){function e(){new RegExp(a);if(document.location.search){var e,t=document.location.search.search(a)+1;try{e=decodeURIComponent(document.location.search).search(a)+1}catch(n){e=t}return t||e}return!1}function t(){new RegExp(a);if(document.location.hash){var e,t=document.location.hash.search(a)+1;try{e=decodeURIComponent(document.location.hash).search(a)+1}catch(n){e=t}return t||e}return!1}function n(){new RegExp(a);if(document.referrer){var e,t=document.referrer.search(a)+1;try{e=decodeURIComponent(document.location.referrer).search(a)+1}catch(n){e=t}return t||e}return!1}function i(){if(e()||t()||n()){console.log("[AdFuelModule - PII Filter] Filtering DFP Request due to PII in query string.");for(var i=Object.getOwnPropertyNames(window.AdFuel),a=0;a<i.length;a++)window.AdFuel[i[a]]=function(){};window.googletag=null}}var a=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})/i;!function(){window.AdFuel?i():document.addEventListener?document.addEventListener("AdFuelCreated",i,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",i)}()}(),!0===CNN.Features.enableProximic&&function(){function e(e){f="",window.proximicData=[],window.AdFuel.removePageLevelTarget("pconid");var n=e||document.location.href;window.location.hostname.toLowerCase().match(/^train\.next\.cnn\.com/)&&n.replace("train.next.","www"),p="//segment-data-us-east.zqtk.net/turner-47fcf6?url="+encodeURIComponent(n),document.getElementById("proximic-script"),g=!1,t(),l=0,a()}function t(){if(!g){var e=document.createElement("script");e.id="proximic-script",e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https:":"http:")+p;document.getElementsByTagName("script")[0].parentNode.appendChild(e),v("Added Proximic script to head of page.",p),g=!0}}function n(e,t){""!==e&&void 0!==e&&(v("Setting data for DFP",e),window.AdFuel.addPageLevelTarget("pconid",e),window.AdFuel.removePageLevelTarget("prx_to","1"),window.AdFuel.addPageLevelTarget("prx_to","0"),s.addMetric({type:"modules",id:"Proximic",data:{targeting:{pconid:e}}}),t&&t())}function i(e,n){var i,o,r=!0;try{for(document.location.hostname.indexOf("money")>=0&&(!window.CNNMONEY||!window.CNNMONEY.adTargets||!window.CNNMONEY.adTargets.c_type||["article","video","gallery"].indexOf(window.CNNMONEY.adTargets.c_type)<0)&&(r=!1),o=1;o<e.length;o++){if(i=e[o].rktr_ad_id.toLowerCase(),i.search(/^cnn\/(homepage|(.+\/landing))/)<0&&i.search(/^cnni\/(homepage|(.+\/(landing|main)))/)<0&&r){v("Adding Proximic based on ad unit specifications: ",i),t(),a(n);break}v("Filtering Proximic based on ad unit specifications: ",i)}}catch(e){v("Error parsing Proximic data: ",e.message||"Unknown")}}function a(e){v("Waiting for data..."),setTimeout(function(){l++,v("SegmentData: ",f),""!==f&&void 0!==f?(v("Proximic Data found!"),n(f,e)):l*d<c?a(e):(v("Proximic Timeout Occurred!"),window.AdFuel.addPageLevelTarget("prx_to","1"),e&&e())},d)}function o(){s=window.AdFuel.registerModule("Proximic",{postQueueCallback:i}),window.AdFuel.addPageLevelTarget("prx_to","1")}var r=function(){return!1},s={addMetric:r,getMetricById:r,getMetricsByType:r,getMetricTypes:r},l=0,d=50,c=2e3,u=document.location.href;window.location.hostname.toLowerCase().match(/^train\.next\.cnn\.com/)&&u.replace(/^http[s]?:\/\/(train|stage|sweet)(\.next)?\.cnn\.com/,"$1www");var p="//segment-data-us-east.zqtk.net/turner-47fcf6?url="+encodeURIComponent(u),f="",h=Object.prototype,m=h.toString,g=!1;window.proximicData=[];var v=function(){};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===m.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(v=function(){var e=["[AdFuelModule - Proximic/comScore]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.gotSegmentData=function(e){e.data&&(v("Segment Data: ",e.data),f=e.data,window.proximicData=e.data)},window.recallProximic=e,function(){window.AdFuel?o():document.addEventListener?document.addEventListener("AdFuelCreated",o,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",o)}()}(),function(){var e=function(){return!1},t={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.cnnad_transactionID=null,window.cnnad_getTransactionID=function(){return window.cnnad_transactionID||(window.cnnad_transactionID=Math.round((new Date).getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.cnnad_transactionID},window.turner_getTransactionId=window.cnnad_getTransactionID,window.turner_getTransactionId(),function(){function e(){var e=window.turner_getTransactionId();t=AdFuel.registerModule("Transaction Id",{}),t.addMetric({type:"modules",id:"Transaction Id",data:{targeting:{transId:e}}}),window.AdFuel.addPageLevelTarget("transId",e)}var n=Object.prototype,i=n.toString;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===i.call(e)}(window.console.log)&&function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);i&&i[1]}}("debug"),window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}()}()),function(){if(!window.Aspen){var VERSION="1.8.0",debug=-1!==[window.location.search,window.location.hash].join().search(/\bdmtdebug\b/),Class=function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,n=function(){};return n.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var a=this.prototype;e=!0;var o=new this;e=!1;for(var r in n)o[r]="function"==typeof n[r]&&"function"==typeof a[r]&&t.test(n[r])?function(e,t){return function(){var n=this._super;this._super=a[e];var i=t.apply(this,arguments);return this._super=n,i}}(r,n[r]):n[r];return i.prototype=o,i.constructor=i,i.extend=arguments.callee,i},n}();!function(e,t,n){function i(){var e=p;return e.loader={load:a,i:0},e}function a(e,t,n){var i="c"==t?S:E;return y=0,t=t||"j",k(e)?o(i,e,t,this.i++,f,n):(v.splice(this.i++,0,e),1==v.length&&r()),this}function o(e,n,i,a,o,s){function l(){!f&&c(u.readyState)&&(g.r=f=1,!y&&d(),u.onload=u.onreadystatechange=null,h(function(){b.removeChild(u)},0))}var u=t.createElement(e),f=0,g={t:i,s:n,e:s};u.src=u.data=n,!_&&(u.style.display="none"),u.width=u.height="0","object"!=e&&(u.type=i),u.onload=u.onreadystatechange=l,"img"==e?u.onerror=l:"script"==e&&(u.onerror=function(){g.e=g.r=1,r()}),v.splice(a,0,g),b.insertBefore(u,_?null:m),h(function(){f||(b.removeChild(u),g.r=g.e=f=1,d())},p.errorTimeout)}function r(){var e=v.shift();y=1,e?e.t?h(function(){"c"==e.t?s(e):l(e)},0):(e(),d()):y=0}function s(e){var n,i=t.createElement("link");if(i.href=e.s,i.rel="stylesheet",i.type="text/css",e.e||!x&&!w)i.onload=function(){n||(n=1,h(function(){d()},0))},e.e&&i.onload();else{var a=function(e){h(function(){if(!n)try{e.sheet.cssRules.length?(n=1,d()):a(e)}catch(t){1e3==t.code||"security"==t.message||"denied"==t.message?(n=1,h(function(){d()},0)):a(e)}},0)};a(i)}h(function(){n||(n=1,d())},p.errorTimeout),!e.e&&m.parentNode.insertBefore(i,m)}function l(e){var n,i=t.createElement("script");i.src=e.s,i.onreadystatechange=i.onload=function(){!n&&c(i.readyState)&&(n=1,d(),i.onload=i.onreadystatechange=null)},h(function(){n||(n=1,d())},p.errorTimeout),e.e?i.onload():m.parentNode.insertBefore(i,m)}function d(){for(var e=1,t=-1;v.length-++t&&(!v[t].s||(e=v[t].r)););e&&r()}function c(e){return!e||"loaded"==e||"complete"==e}var u,p,f=t.documentElement,h=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,w="MozAppearance"in f.style,_=w&&!!t.createRange().compareNode,b=_?f:m.parentNode,C=e.opera&&"[object Opera]"==g.call(e.opera),x="webkitAppearance"in f.style,A=x&&"async"in t.createElement("script"),E=w?"object":C||A?"img":"script",S=x?"img":E,T=Array.isArray||function(e){return"[object Array]"==g.call(e)},N=function(e){return Object(e)===e},k=function(e){return"string"==typeof e},I=function(e){return"[object Function]"==g.call(e)},F=[],O={};p=function(e){function t(e,t){function n(e){if(k(e))a(e,l,t,0,o);else if(N(e))for(i in e)e.hasOwnProperty(i)&&a(e[i],l,t,i,o)}var i,o=!!e.test,r=o?e.yep:e.nope,s=e.load||e.both,l=e.callback;n(r),n(s),e.complete&&t.load(e.compl